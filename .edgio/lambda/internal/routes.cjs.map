{
  "version": 3,
  "sources": ["../../../node_modules/@edgio/core/constants.js", "../../../node_modules/@edgio/core/source.js", "../../../node_modules/slash/index.js", "../../../node_modules/@edgio/core/utils/nonWebpackRequire.js", "../../../node_modules/@edgio/core/utils/index.js", "../../../node_modules/@edgio/core/utils/requireInternal.js", "../../../node_modules/@edgio/core/router/RouteCriteria.js", "../../../node_modules/@edgio/core/router/exact.js", "../../../node_modules/@edgio/core/utils/regExpEscape.js", "../../../node_modules/@edgio/core/utils/toEdgeRegex.js", "../../../node_modules/@edgio/core/node_modules/path-to-regexp/src/index.ts", "../../../node_modules/@edgio/core/errors/InvalidRoutePatternError.js", "../../../node_modules/@edgio/core/utils/toPathRegexp.js", "../../../node_modules/@edgio/core/router/converters/toCondition.js", "../../../node_modules/@edgio/core/router/createMatchers.js", "../../../node_modules/@edgio/core/router/converters/toRule.js", "../../../node_modules/@edgio/core/utils/regexUtils.js", "../../../node_modules/@edgio/core/utils/bindParams.js", "../../../node_modules/@edgio/core/runtime/toRegExp.js", "../../../node_modules/@edgio/core/router/path.js", "../../../node_modules/@edgio/core/lambda/global.helpers.js", "../../../node_modules/@edgio/core/environment.js", "../../../node_modules/@edgio/core/utils/ports.js", "../../../node_modules/@edgio/core/origins.js", "../../../node_modules/@edgio/core/router/RedirectOptions.js", "../../../node_modules/@edgio/core/log.js", "../../../node_modules/@edgio/core/errors/BackendFetchError.js", "../../../node_modules/@edgio/core/runtime/random.js", "../../../node_modules/@edgio/core/utils/mergeQueryString.js", "../../../node_modules/@edgio/core/errors/EdgioError.js", "../../../node_modules/@edgio/core/errors/edgioErrorLinks.js", "../../../node_modules/@edgio/core/errors/EdgioHeadersOverflowError.js", "../../../node_modules/@edgio/core/errors/EdgioInternalError.js", "../../../node_modules/@edgio/core/errors/EdgioNoResponseError.js", "../../../node_modules/@edgio/core/errors/EdgioNotReadyError.js", "../../../node_modules/@edgio/core/errors/EdgioProjectError.js", "../../../node_modules/@edgio/core/errors/EdgioProjectCrashedError.js", "../../../node_modules/@edgio/core/errors/EdgioOutOfResourcesError.js", "../../../node_modules/@edgio/core/errors/EdgioProjectTimeoutError.js", "../../../node_modules/@edgio/core/errors/EdgioResponseTooLargeError.js", "../../../node_modules/@edgio/core/errors/EdgioUpstreamOriginTimeoutError.js", "../../../node_modules/@edgio/core/errors/index.js", "../../../node_modules/@edgio/core/runtime/Backend.js", "../../../node_modules/@edgio/core/runtime/Origin.js", "../../../node_modules/@edgio/core/runtime/OriginFetcher.js", "../../../node_modules/@edgio/core/utils/isEmpty.js", "../../../node_modules/@edgio/core/utils/universalRouteUtils.js", "../../../node_modules/@edgio/core/router/ParamsExtractor.js", "../../../node_modules/es-errors/type.js", "../../../node_modules/object-inspect/util.inspect.js", "../../../node_modules/object-inspect/index.js", "../../../node_modules/side-channel-list/index.js", "../../../node_modules/es-object-atoms/index.js", "../../../node_modules/es-errors/index.js", "../../../node_modules/es-errors/eval.js", "../../../node_modules/es-errors/range.js", "../../../node_modules/es-errors/ref.js", "../../../node_modules/es-errors/syntax.js", "../../../node_modules/es-errors/uri.js", "../../../node_modules/math-intrinsics/abs.js", "../../../node_modules/math-intrinsics/floor.js", "../../../node_modules/math-intrinsics/max.js", "../../../node_modules/math-intrinsics/min.js", "../../../node_modules/math-intrinsics/pow.js", "../../../node_modules/math-intrinsics/round.js", "../../../node_modules/math-intrinsics/isNaN.js", "../../../node_modules/math-intrinsics/sign.js", "../../../node_modules/gopd/gOPD.js", "../../../node_modules/gopd/index.js", "../../../node_modules/es-define-property/index.js", "../../../node_modules/has-symbols/shams.js", "../../../node_modules/has-symbols/index.js", "../../../node_modules/get-proto/Reflect.getPrototypeOf.js", "../../../node_modules/get-proto/Object.getPrototypeOf.js", "../../../node_modules/function-bind/implementation.js", "../../../node_modules/function-bind/index.js", "../../../node_modules/call-bind-apply-helpers/functionCall.js", "../../../node_modules/call-bind-apply-helpers/functionApply.js", "../../../node_modules/call-bind-apply-helpers/reflectApply.js", "../../../node_modules/call-bind-apply-helpers/actualApply.js", "../../../node_modules/call-bind-apply-helpers/index.js", "../../../node_modules/dunder-proto/get.js", "../../../node_modules/get-proto/index.js", "../../../node_modules/hasown/index.js", "../../../node_modules/get-intrinsic/index.js", "../../../node_modules/call-bound/index.js", "../../../node_modules/side-channel-map/index.js", "../../../node_modules/side-channel-weakmap/index.js", "../../../node_modules/side-channel/index.js", "../../../node_modules/qs/lib/formats.js", "../../../node_modules/qs/lib/utils.js", "../../../node_modules/qs/lib/stringify.js", "../../../node_modules/qs/lib/parse.js", "../../../node_modules/qs/lib/index.js", "../../../node_modules/@edgio/core/utils/cookieUtils.js", "../../../node_modules/@edgio/core/router/converters/toTimeInterval.js", "../../../node_modules/@edgio/core/router/RouteHelper.js", "../../../node_modules/@edgio/core/router/converters/toFeature.js", "../../../node_modules/@edgio/core/utils/Tasks.js", "../../../node_modules/@edgio/core/router/PreloadRequests.js", "../../../node_modules/path-root-regex/index.js", "../../../node_modules/path-root/index.js", "../../../node_modules/resolve-package-path/src/rethrow-unless-code.ts", "../../../node_modules/resolve-package-path/src/should-preserve-symlinks.ts", "../../../node_modules/resolve-package-path/src/resolve-package-path.ts", "../../../node_modules/resolve-package-path/src/cache.ts", "../../../node_modules/resolve-package-path/src/cache-group.ts", "../../../node_modules/resolve-package-path/src/index.ts", "../../../node_modules/@edgio/core/deploy/resolveInPackage.js", "../../../node_modules/@edgio/core/deploy/paths.js", "../../../node_modules/@edgio/core/config.js", "../../../node_modules/@edgio/core/router/Router.js", "../../../node_modules/@edgio/core/router/converters/fromTimeUnitAbbrev.js", "../../../node_modules/@edgio/core/runtime/rules/constants.js", "../../../node_modules/@edgio/core/runtime/rules/RulesVisitor.js", "../../../node_modules/@edgio/core/runtime/rules/RulesConditionalVisitor.js", "../../../node_modules/@edgio/core/utils/deepMerge.js", "../../../node_modules/@edgio/core/router/CacheManifest.js", "../../../node_modules/@edgio/core/router/addBuildInRoutes.js", "../../../node_modules/@edgio/core/router/EdgioRoutes.js", "../../../node_modules/@edgio/core/router/CustomCacheKey.js", "../../../node_modules/@edgio/core/router/index.js", "../../../node_modules/@edgio/core/runtime/LambdaRequest.js", "../../../node_modules/@edgio/core/utils/idUtils.js", "../../../node_modules/@edgio/core/lambda/serverMetrics.js", "../../../node_modules/@edgio/core/runtime/LambdaResponse.js", "../../../node_modules/@edgio/core/index.js", "../../../node_modules/@edgio/connectors/utils/ConnectorFactory.js", "../../../node_modules/@edgio/connectors/utils/ConnectorRoutes.js", "../../../node_modules/@edgio/connectors/index.js", "../../../routes.js"],
  "sourcesContent": ["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EDGIO_READY_MESSAGE = exports.INVOKE_ACTIONS = exports.INVOKE_SOURCES = exports.FAR_FUTURE_TTL = exports.DEFLATE_ENCODING = exports.GZIP_ENCODING = exports.BROTLI_ENCODING = exports.IS_BROWSER = exports.EDGIO_CACHE_MANIFEST_RULE_IGNORE_COMMENT = exports.EDGIO_PREFETCH_CDN_SW_PATH = exports.EDGIO_PREFETCH_CDN_PATH = exports.EDGIO_PREFETCH_CDN_BASE_PATH = exports.EDGIO_CACHE_MANIFEST_JS_VAR_NAME = exports.EDGIO_CACHE_MANIFEST_PATH = exports.HOSTS_NOINDEX_PERMALINK_REGEX = exports.ROUTES_NOINDEX_GROUP = exports.ROUTES_CATCH_GROUP = exports.ROUTES_FALLBACK = exports.METHOD_QUERY_PARAM = exports.POST_BODY_QUERY_PARAM = exports.HEAD_QUERY_PARAM = exports.DEVTOOLS_PREFETCH_QUERY_PARAM = exports.PREFETCH_TTL_PARAM = exports.PREFETCH_QUERY_PARAM = exports.THROTTLED_QUERY_PARAM = exports.CACHING_DEBUG_CACHEABLE = exports.CACHING_DEBUG_STATUS = exports.CACHING_DEBUG_HEADERS = exports.CACHEABLE_METHODS = exports.CACHING_STATUS = exports.HTTP_HEADERS = exports.HTTP_METHODS = exports.JS_BACKEND_HOSTNAME = exports.BACKENDS = exports.ACTIONS = exports.EDGIO_VIA_HEADER_VALUE = exports.EDGIO_MAX_NESTED_REQUESTS = exports.EDGIO_UNCACHED_PREFETCH_STATUS = exports.EDGIO_TOO_MANY_HEADERS_STATUS_CODE = exports.EDGIO_MAX_USER_HEADERS_ALLOWED = exports.EDGIO_CLOUD_FUNCTIONS_HINTS = exports.EDGIO_CLOUD_FUNCTIONS_HINT_HEADER = exports.EDGIO_HEADERS_PREFIX = exports.EDGIO_DEPLOYMENT_TYPE_AWS = exports.EDGIO_EDGE_FUNCTION_DEFAULT_VERSION = exports.EDGIO_EDGE_FUNCTION_ENV_VARIABLES = exports.EDGIO_ENV_VARIABLES = exports.EDGIO_ASSET_ALIASES_FILE = exports.EDGIO_CONFIG_FILE = void 0;\n/**\n * Edgio configuration file name.\n */\nexports.EDGIO_CONFIG_FILE = 'edgio.config.js';\n/**\n * Indicate asset files that need to be uploaded under a different\n * bucket key.\n * It contains values like\n * {\n *   '/posts' => '/posts/index.html'\n * }\n */\nexports.EDGIO_ASSET_ALIASES_FILE = 'asset-aliases.json';\n/**\n * Environment variables used by Edgio.\n */\nexports.EDGIO_ENV_VARIABLES = {\n    /**\n     * Edgio configuration environment variable key.\n     */\n    config: 'EDGIO_CONFIG',\n    /**\n     * Edgio internal configuration environment variable key.\n     */\n    internalConfig: 'EDGIO_INTERNAL_CONFIG',\n    /**\n     * Indicates whether code is running locally or in the cloud.\n     * @private\n     */\n    deploymentType: 'EDGIO_DEPLOYMENT_TYPE',\n    /**\n     * Allows Edgio development team to easily override Edgio version\n     * during development process.\n     * @private\n     */\n    versionOverride: 'EDGIO_VERSION_OVERRIDE',\n    /**\n     * Indicates that we are running a production build.\n     * @private\n     */\n    productionBuild: 'EDGIO_PRODUCTION_BUILD',\n    /**\n     * Indicates that we are running app locally.\n     * @private\n     */\n    local: 'EDGIO_LOCAL',\n    /**\n     * Turns on the cache when set to 'true'.\n     * @private\n     */\n    cache: 'EDGIO_CACHE',\n    /**\n     * The hostname of currently used permalink.\n     * @private\n     */\n    permalinkHost: 'EDGIO_PERMALINK_HOST',\n    /**\n     * The image optimizer host.\n     * This is same as the permalink host, but it's used for old image optimizer.\n     * @deprecated This will be replaced by EDGIO_PERMALINK_HOST when console-api changes are released.\n     * @private\n     */\n    imageOptimizerHost: 'EDGIO_IMAGE_OPTIMIZER_HOST',\n};\n/**\n * Environment variables used by Edgio Edge Functions.\n */\nexports.EDGIO_EDGE_FUNCTION_ENV_VARIABLES = {\n    /**\n     * The path to the edge function within the project.\n     */\n    path: '__EDGE_FUNCTION_PATH__',\n    /**\n     * The edge function's QuickJS bytecode (base64 encoded).\n     */\n    quickjsBytecodeBase64: '__EDGE_FUNCTION_QUICKJS_BYTECODE_BASE64__',\n    /**\n     * When 'enabled' turn on edge function debugging.\n     */\n    debug: 'debug',\n};\n/**\n * The default version of edge functions to use.\n * @private\n */\nexports.EDGIO_EDGE_FUNCTION_DEFAULT_VERSION = 2;\n/**\n * Indicates that code is running in AWS.\n * @private\n */\nexports.EDGIO_DEPLOYMENT_TYPE_AWS = 'AWS';\n/**\n * Prefix of all Edgio headers.\n */\nexports.EDGIO_HEADERS_PREFIX = 'x-edg-';\n/**\n * Instructs the runtime to forward the request directly to the user's app or a function rather than processing\n * edge-control rules.\n * @private\n */\nexports.EDGIO_CLOUD_FUNCTIONS_HINT_HEADER = 'x-cloud-functions-hint';\n/**\n * Instructs the runtime to forward the request directly one of the router's functions by hint name.\n * @private\n */\nexports.EDGIO_CLOUD_FUNCTIONS_HINTS = {\n    // Instructs the runtime to forward the request directly to the user's app.\n    app: 'app',\n    // Instructs the runtime to forward the request directly one of the router's functions by index.\n    compute: 'compute',\n    // Instructs the runtime to invoke a compute that will execute a redirect and return early.\n    redirect: 'redirect',\n    // Instructs the runtime to invoke a compute that will execute a redirect and return early.\n    proxy: 'proxy',\n};\n/**\n * Maximum number of user headers allowed by Edgio platform.\n *\n * We limit the request and response headers allowed to 70. This is due to a limitation that edge has\n * which at the moment supports up to 96 headers. Edge provider itself needs to use some of those headers\n * with the remainder used by our edge code.\n *\n * NOTE: This constant must be equal ot the constant of the same name defined in Edgio buffer proxy.\n * NOTE: If this constant is updated then the constant of the same name has to be updated in @edgio/build-lambda module.\n */\nexports.EDGIO_MAX_USER_HEADERS_ALLOWED = 70;\n/**\n * Status code returned when there are too many request or response headers.\n *\n * Must be equal to HeaderOverflowError status code as defined in build lambda and Edgio buffer proxy.\n */\nexports.EDGIO_TOO_MANY_HEADERS_STATUS_CODE = 542;\n/**\n * The status code returned when the edgio_prefetch query param is present and a response could not be found in the cache.\n */\nexports.EDGIO_UNCACHED_PREFETCH_STATUS = 412;\n/**\n * The maximum number of nested requests allowed by Edgio platform,\n * where a site is the upstream of itself or another site.\n * If this limit is exceeded, the request will be terminated with a 538 status code,\n * to prevent infinite loops and generating excessive traffic.\n */\nexports.EDGIO_MAX_NESTED_REQUESTS = 3;\n/**\n * The value that is appended to the 'Via' header\n * everytime request goes through the @edgio/core.\n */\nexports.EDGIO_VIA_HEADER_VALUE = 'Edgio Core';\n/**\n * CDN-as-code configuration actions\n */\nexports.ACTIONS = {\n    setHeader: 'set-header',\n    updateHeader: 'update-header',\n    removeHeader: 'remove-header',\n    syntheticRes: 'synthetic-response',\n    updatePath: 'update-path',\n    proxy: 'proxy',\n    addCookie: 'add-cookie',\n    updateCookie: 'update-cookie',\n    removeCookie: 'remove-cookie',\n};\n/**\n * The backend for cloud functions\n */\nexports.BACKENDS = {\n    js: '__js__',\n    static: '__static__',\n    permanentStatic: '__permanent_static__',\n    imageOptimizer: '__image_optimizer__',\n};\n/**\n * The hostname used for the internal service running the user's application.\n */\nexports.JS_BACKEND_HOSTNAME = '127.0.0.1';\nexports.HTTP_METHODS = {\n    head: 'head',\n    get: 'get',\n    post: 'post',\n    delete: 'delete',\n    put: 'put',\n    patch: 'patch',\n    options: 'options',\n};\n/**\n * Common HTTP headers.\n */\nexports.HTTP_HEADERS = {\n    accept: 'accept',\n    acceptCh: 'accept-CH',\n    acceptEncoding: 'accept-encoding',\n    authorization: 'authorization',\n    cacheControl: 'cache-control',\n    contentEncoding: 'content-encoding',\n    contentLength: 'content-length',\n    contentType: 'content-type',\n    cookie: 'cookie',\n    expires: 'expires',\n    host: 'host',\n    location: 'location',\n    range: 'range',\n    serverTiming: 'server-timing',\n    setCookie: 'set-cookie',\n    userAgent: 'user-agent',\n    vary: 'vary',\n    via: 'via',\n    transferEncoding: 'transfer-encoding',\n    strictTransportSecurity: 'strict-transport-security',\n    referrerPolicy: 'referrer-policy',\n    featurePolicy: 'feature-policy',\n    xHost: 'x-host',\n    xEcPop: 'x-ec-pop',\n    xEcDebug: 'x-ec-debug',\n    xForwardedFor: 'x-forwarded-for',\n    xForwardedProto: 'x-forwarded-proto',\n    xForwardedPort: 'x-forwarded-port',\n    xFrameOptions: 'x-frame-options',\n    xXssProtection: 'x-xss-protection',\n    xContentTypeOptions: 'x-content-type-options',\n    xRequestId: 'x-request-id',\n    xSwCacheControl: 'x-sw-cache-control',\n    xEdgeBrowser: 'x-edg-browser',\n    xEdgeCacheControl: 'x-edg-cache-control',\n    xEdgeCachingStatus: 'x-edg-caching-status',\n    xEdgeClientIp: 'x-edg-client-ip',\n    xEdgeComponents: 'x-edg-components',\n    xEdgeDestination: 'x-edg-destination',\n    xEdgeDevice: 'x-edg-device',\n    xEdgeDeviceIsBot: 'x-edg-device-is-bot',\n    xEdgeGeoCity: 'x-edg-geo-city',\n    xEdgeGeoCountryCode: 'x-edg-geo-country-code',\n    xEdgeGeoLatitude: 'x-edg-geo-latitude',\n    xEdgeGeoLongitude: 'x-edg-geo-longitude',\n    xEdgeGeoPostalCode: 'x-edg-geo-postal-code',\n    xEdgeMatchedRoutes: 'x-edg-matched-routes',\n    xEdgeProtocol: 'x-edg-protocol',\n    xEdgeRoute: 'x-edg-route',\n    xEdgeStatus: 'x-edg-status',\n    xEdgeSurrogateKey: 'x-edg-surrogate-key',\n    xEdgeT: 'x-edg-t',\n    xEdgeUserT: 'x-edg-user-t',\n    xEdgeVendor: 'x-edg-vendor',\n    xEdgeVersion: 'x-edg-version',\n    xEdgServerlessError: 'x-edg-serverless-error',\n    xEdgInvokeSource: 'x-edg-invoke-source',\n    xEdgInvokeAction: 'x-edg-invoke-action',\n    xEdgErrorMessage: 'x-edg-error-message',\n    xEdgErrorDetails: 'x-edg-error-details',\n    xEdgErrorLevel: 'x-edg-error-level',\n    xEdgRawUrl: 'x-edg-raw-url',\n    xCloudFunctionsHint: exports.EDGIO_CLOUD_FUNCTIONS_HINT_HEADER,\n    x0ClientIp: 'x-0-client-ip',\n    x0Protocol: 'x-0-protocol',\n    x0Version: 'x-0-version',\n    xEcEdgeIoDebug: 'x-ec-edgeio-debug',\n    xEcEdgeIoDisable: 'x-ec-edgeio-disable',\n    xEdgeIoInfo: 'x-edgeio-info',\n    xEdgeIoStatus: 'x-edgeio-status',\n    xEdgeIoError: 'x-edgeio-error',\n    xEcUUID: 'x-ec-uuid',\n};\n/**\n * Values for x-edg-caching-status\n */\nexports.CACHING_STATUS = {\n    cached: 'cached',\n    hit: 'hit',\n    bypassed: 'bypassed',\n    private: 'private',\n    method: 'method',\n    bodyTooBig: 'body-too-big',\n    code: 'code',\n    setCookie: 'set-cookie',\n    noMaxAge: 'no-max-age',\n};\nexports.CACHEABLE_METHODS = new Set(['get', 'head']);\n/**\n * Values for x-edg-caching-status\n */\nexports.CACHING_DEBUG_HEADERS = {\n    cache: 'x-ec-cache',\n    checkCacheable: 'x-ec-check-cacheable',\n    cacheState: 'x-ec-cache-state',\n    cacheKey: 'x-ec-cache-key',\n};\n// Caching debug status codes.\n// https://docs.edgecast.com/cdn/Content/Reference/Cache_Status_Codes.htm\nexports.CACHING_DEBUG_STATUS = {\n    configNoCache: 'CONFIG_NOCACHE',\n    none: 'NONE',\n    tcpClientRefreshMiss: 'TCP_CLIENT_REFRESH_MISS',\n    tcpExpiredHit: 'TCP_EXPIRED_HIT',\n    tcpExpiredMiss: 'TCP_EXPIRED_MISS',\n    tcpHit: 'TCP_HIT',\n    tcpMiss: 'TCP_MISS',\n    tcpPartialHit: 'TCP_PARTIAL_HIT',\n    uncacheable: 'UNCACHEABLE',\n};\nexports.CACHING_DEBUG_CACHEABLE = {\n    yes: 'YES',\n    no: 'NO',\n};\n/**\n * When present, this query parameter will cause Edgio to return a 412 status\n * if a response could not be found in the cache.\n */\nexports.THROTTLED_QUERY_PARAM = 'edgio_prefetch';\n/**\n * Same value as above but DEPRECATED.\n */\nexports.PREFETCH_QUERY_PARAM = exports.THROTTLED_QUERY_PARAM;\n/**\n Adds query parameter with custom maxAgeSecond value for service-worker cache if it's specified in PrefetchConfiguration\n */\nexports.PREFETCH_TTL_PARAM = 'edgio_prefetch_ttl';\n/**\n Labels the request so that devtools will display as prefetched\n */\nexports.DEVTOOLS_PREFETCH_QUERY_PARAM = 'edgio_dt_pf';\n/**\n * The name of the query parameter used to detect HEAD requests.\n */\nexports.HEAD_QUERY_PARAM = 'edgio_head';\n/**\n * The name of the query parameter used for the body of POST requests, which is used for the cache key\n */\nexports.POST_BODY_QUERY_PARAM = 'pref_edgio_body';\n/**\n * The name of the query parameter used for the method of requests, which is used for the cache key\n */\nexports.METHOD_QUERY_PARAM = 'pref_edgio_method';\n/**\n * Route Group name, which is used in router for fallback routes\n */\nexports.ROUTES_FALLBACK = 'fallback';\n/**\n * Route Group name, which is used in router for error page routes\n */\nexports.ROUTES_CATCH_GROUP = 'catch';\n/**\n * Route Group name, which is used in router for noindex routes\n */\nexports.ROUTES_NOINDEX_GROUP = 'noindex';\n/**\n * Regex used to determine if the host should be excluded from\n * SE indexing\n */\nexports.HOSTS_NOINDEX_PERMALINK_REGEX = /\\.edgio\\.link|\\.edgio-perma\\.link/;\n/**\n * The path where cache-manifest file is served by built-in rule.\n * Connascence of value with console-api/app/services/cache_manifest/constants.rb\n */\nexports.EDGIO_CACHE_MANIFEST_PATH = '/__edgio__/cache-manifest.js';\n/**\n * The name of the JS global constant which contains the cache-manifest content\n * when cache-manifest is imported as a script to site.\n * Connascence of value with console-api/app/services/cache_manifest/constants.rb\n */\nexports.EDGIO_CACHE_MANIFEST_JS_VAR_NAME = '__EDGIO_CACHE_MANIFEST__';\n/**\n * The base path of the URL where the install.js file of @edgio/prefetch is served from CDN.\n * Connascence of value with console-api/app/services/edge_control/internal_config.rb\n */\nexports.EDGIO_PREFETCH_CDN_BASE_PATH = '/__edgio__/prefetch';\n/**\n * The path in express style where the install.js file of @edgio/prefetch is served from CDN.\n * Connascence of value with console-api/app/services/edge_control/internal_config.rb\n * @example /__edgio__/prefetch/install.js\n * @example /__edgio__/prefetch/v7.2.2/install.js\n */\nexports.EDGIO_PREFETCH_CDN_PATH = `${exports.EDGIO_PREFETCH_CDN_BASE_PATH}/:path*`;\n/**\n * The path in express style where the service-worker file of @edgio/prefetch is served from CDN.\n * Connascence of value with console-api/app/services/edge_control/internal_config.rb\n * @example /__edgio__service_worker_v7.2.2.js\n */\nexports.EDGIO_PREFETCH_CDN_SW_PATH = '/__edgio__service_worker_:version.js';\n/**\n * The value of cache-manifest rule comment which indicates that the rule should be ignored when\n * building cache-manifest by console-api. This allows customers to exclude certain rules from it.\n * We simulate it here in @edgio/core to provide the same experience in local simulation.\n * Connascence of value with console-api/app/services/cache_manifest/cache_manifest_builder.rb\n */\nexports.EDGIO_CACHE_MANIFEST_RULE_IGNORE_COMMENT = 'cache-manifest-ignore';\n/**\n * Is current environment 'browser'\n */\nexports.IS_BROWSER = typeof window !== 'undefined';\n/**\n * Brotli encoding code.\n */\nexports.BROTLI_ENCODING = 'br';\n/**\n * Gzip encoding code.\n */\nexports.GZIP_ENCODING = 'gzip';\n/**\n * Deflate encoding code.\n */\nexports.DEFLATE_ENCODING = 'deflate';\n/**\n * One year in seconds\n */\nexports.FAR_FUTURE_TTL = '1y';\nexports.INVOKE_SOURCES = {\n    functionUrl: 'function-url',\n    console: 'console',\n    bufferProxy: 'buffer-proxy',\n};\nexports.INVOKE_ACTIONS = {\n    getEdgeConfig: 'getEdgeConfig',\n    getPreloadConfig: 'getPreloadConfig',\n    serverless: 'serverless',\n    simulator: 'simulator',\n};\n// althought this seems like simple ready message, this message is also important for the\n// handler.ts to detect that the server is ready to accept requests\n// NOTE: Do not use formmating (chalk, colors) in this message, as colors and chalk are not\n// are not alwayse preserved between spwaned processes (handler will not be able to detect the message)\nexports.EDGIO_READY_MESSAGE = '> Edgio ready on ';\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setSourceDir = exports.getSourceDir = void 0;\n/**\n * Gets the directory corresponding to the root of the project source code.\n */\nfunction getSourceDir() {\n    return process.env.EDGIO_ROOT_SOURCE_DIR || process.cwd();\n}\nexports.getSourceDir = getSourceDir;\n/**\n * Sets the directory corresponding to the root of the project source code.\n * @param dir The directory to set\n */\nfunction setSourceDir(dir) {\n    process.env.EDGIO_ROOT_SOURCE_DIR = dir;\n}\nexports.setSourceDir = setSourceDir;\n", "'use strict';\nmodule.exports = path => {\n\tconst isExtendedLengthPath = /^\\\\\\\\\\?\\\\/.test(path);\n\tconst hasNonAscii = /[^\\u0000-\\u0080]+/.test(path); // eslint-disable-line no-control-regex\n\n\tif (isExtendedLengthPath || hasNonAscii) {\n\t\treturn path;\n\t}\n\n\treturn path.replace(/\\\\/g, '/');\n};\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst slash_1 = __importDefault(require(\"slash\"));\n/**\n * Loads a module at runtime, ensuring that it won't be bundled by webpack. This function\n * also ensures proper behavior on windows, *nix, and macos filesystems, even if the module\n * path is derived from a file path with backslashes. This function will return undefined if\n * the module could not be loaded.\n * @param modulePath The path to the module to load\n * @param options.ignoreErrors Will return undefined if the module fails to load\n */\nfunction nonWebpackRequire(modulePath, { ignoreErrors = false } = {}) {\n    try {\n        return eval('require')((0, slash_1.default)(modulePath));\n    }\n    catch (e) {\n        if (ignoreErrors) {\n            return undefined;\n        }\n        else {\n            throw e;\n        }\n    }\n}\nexports.default = nonWebpackRequire;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.nonWebpackRequire = void 0;\nvar nonWebpackRequire_1 = require(\"./nonWebpackRequire\");\nObject.defineProperty(exports, \"nonWebpackRequire\", { enumerable: true, get: function () { return __importDefault(nonWebpackRequire_1).default; } });\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst nonWebpackRequire_1 = __importDefault(require(\"./nonWebpackRequire\"));\n/**\n * Dynamically requires the version of a package listed in @edgio/core's depedencies\n * This allows us to ensure we are targeting the version of a package, such as globby, that is listed\n * in @edgio/core's package.json, as opposed to whatever version may or may not be included in the user's\n * app, which may not be compatible.\n */\nfunction requireInternal(packagePath) {\n    try {\n        const resolved = require.resolve(packagePath, {\n            paths: [require.resolve('@edgio/core')],\n        });\n        return (0, nonWebpackRequire_1.default)(resolved);\n    }\n    catch (e) {\n        return (0, nonWebpackRequire_1.default)(packagePath);\n    }\n}\nexports.default = requireInternal;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.not = exports.or = exports.and = exports.OrOperator = exports.AndOperator = exports.isNegation = void 0;\nconst isNegation = (value) => {\n    return !!value && typeof value === 'object' && 'not' in value;\n};\nexports.isNegation = isNegation;\nclass CriteriaOperator {\n    constructor(values) {\n        this.values = values;\n    }\n}\nclass AndOperator extends CriteriaOperator {\n    constructor() {\n        super(...arguments);\n        this.operator = 'and';\n    }\n}\nexports.AndOperator = AndOperator;\nclass OrOperator extends CriteriaOperator {\n    constructor() {\n        super(...arguments);\n        this.operator = 'or';\n    }\n}\nexports.OrOperator = OrOperator;\n/**\n * Creates an AND operator for router's condition functions\n */\nfunction and(...criterias) {\n    return new AndOperator(criterias);\n}\nexports.and = and;\n/**\n * Creates an OR operator for router's condition functions\n */\nfunction or(...criterias) {\n    return new OrOperator(criterias);\n}\nexports.or = or;\n/**\n * Creates negation for router's condition\n */\nfunction not(value) {\n    return {\n        not: value,\n    };\n}\nexports.not = not;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ExactPath = void 0;\n/**\n * Marker class - wraps string to be matched literally, without using path-to-regexp mapping\n */\nclass ExactPath {\n    constructor(value) {\n        this.value = value;\n    }\n    toString() {\n        return this.value;\n    }\n}\nexports.ExactPath = ExactPath;\n/**\n * Marks path to be matched literally, without using path-to-regexp mapping\n * @param path\n * @returns\n */\nfunction exact(path) {\n    return new ExactPath(path);\n}\nexports.default = exact;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toRegExp = void 0;\n/**\n * Escapes a string to be compatible with a RegExp\n * @param string\n * @returns {String}\n */\nfunction regExpEscape(string) {\n    return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); // $& means the whole matched string\n}\nexports.default = regExpEscape;\n/**\n * Converts the given string into a RegExp\n * @param string\n * @returns {RegExp}\n */\nfunction toRegExp(string) {\n    return new RegExp(regExpEscape(string));\n}\nexports.toRegExp = toRegExp;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fromEdgeRegex = void 0;\nconst regExpEscape_1 = __importDefault(require(\"./regExpEscape\"));\n/**\n * Converts a JavaScript Regexp instance to a string compatible with edge.\n * See https://docs.fastly.com/en/guides/vcl-regular-expression-cheat-sheet\n *\n * By default, the slashes arent escaped. For usage with interpolation, please set escapeSlashes param to true.\n * @param regex\n * @param prefix\n * @param escapeSlashes\n */\nfunction toEdgeRegex(regex, prefix = '', escapeSlashes) {\n    // Forward slashes dont need to be escaped according to docs.\n    // We still allow for escaping them for edge cases, where naked '/' is a control character (interpolation)\n    let source = escapeSlashes ? regex.source : regex.source.replace(/\\\\\\//g, '/');\n    if (source.startsWith('^')) {\n        source = `^${(0, regExpEscape_1.default)(prefix)}${source.slice(1)}`;\n    }\n    else {\n        source = `${(0, regExpEscape_1.default)(prefix)}${source}`;\n    }\n    return `${regex.ignoreCase ? '(?i)' : ''}${source}`;\n}\nexports.default = toEdgeRegex;\n/**\n * Reverse transformation. Mostly used for unit tests.\n * @param edgeRegex\n */\nfunction fromEdgeRegex(edgeRegex) {\n    const ignoreCase = edgeRegex.indexOf('(?i)') === 0;\n    if (ignoreCase) {\n        edgeRegex = edgeRegex.slice('(?i)'.length);\n    }\n    return new RegExp(edgeRegex.replace(/\\//g, '/'), ignoreCase ? 'i' : '');\n}\nexports.fromEdgeRegex = fromEdgeRegex;\n", "/**\n * Tokenizer results.\n */\ninterface LexToken {\n  type:\n    | \"OPEN\"\n    | \"CLOSE\"\n    | \"PATTERN\"\n    | \"NAME\"\n    | \"CHAR\"\n    | \"ESCAPED_CHAR\"\n    | \"MODIFIER\"\n    | \"END\";\n  index: number;\n  value: string;\n}\n\n/**\n * Tokenize input string.\n */\nfunction lexer(str: string): LexToken[] {\n  const tokens: LexToken[] = [];\n  let i = 0;\n\n  while (i < str.length) {\n    const char = str[i];\n\n    if (char === \"*\" || char === \"+\" || char === \"?\") {\n      tokens.push({ type: \"MODIFIER\", index: i, value: str[i++] });\n      continue;\n    }\n\n    if (char === \"\\\\\") {\n      tokens.push({ type: \"ESCAPED_CHAR\", index: i++, value: str[i++] });\n      continue;\n    }\n\n    if (char === \"{\") {\n      tokens.push({ type: \"OPEN\", index: i, value: str[i++] });\n      continue;\n    }\n\n    if (char === \"}\") {\n      tokens.push({ type: \"CLOSE\", index: i, value: str[i++] });\n      continue;\n    }\n\n    if (char === \":\") {\n      let name = \"\";\n      let j = i + 1;\n\n      while (j < str.length) {\n        const code = str.charCodeAt(j);\n\n        if (\n          // `0-9`\n          (code >= 48 && code <= 57) ||\n          // `A-Z`\n          (code >= 65 && code <= 90) ||\n          // `a-z`\n          (code >= 97 && code <= 122) ||\n          // `_`\n          code === 95\n        ) {\n          name += str[j++];\n          continue;\n        }\n\n        break;\n      }\n\n      if (!name) throw new TypeError(`Missing parameter name at ${i}`);\n\n      tokens.push({ type: \"NAME\", index: i, value: name });\n      i = j;\n      continue;\n    }\n\n    if (char === \"(\") {\n      let count = 1;\n      let pattern = \"\";\n      let j = i + 1;\n\n      if (str[j] === \"?\") {\n        throw new TypeError(`Pattern cannot start with \"?\" at ${j}`);\n      }\n\n      while (j < str.length) {\n        if (str[j] === \"\\\\\") {\n          pattern += str[j++] + str[j++];\n          continue;\n        }\n\n        if (str[j] === \")\") {\n          count--;\n          if (count === 0) {\n            j++;\n            break;\n          }\n        } else if (str[j] === \"(\") {\n          count++;\n          if (str[j + 1] !== \"?\") {\n            throw new TypeError(`Capturing groups are not allowed at ${j}`);\n          }\n        }\n\n        pattern += str[j++];\n      }\n\n      if (count) throw new TypeError(`Unbalanced pattern at ${i}`);\n      if (!pattern) throw new TypeError(`Missing pattern at ${i}`);\n\n      tokens.push({ type: \"PATTERN\", index: i, value: pattern });\n      i = j;\n      continue;\n    }\n\n    tokens.push({ type: \"CHAR\", index: i, value: str[i++] });\n  }\n\n  tokens.push({ type: \"END\", index: i, value: \"\" });\n\n  return tokens;\n}\n\nexport interface ParseOptions {\n  /**\n   * Set the default delimiter for repeat parameters. (default: `'/'`)\n   */\n  delimiter?: string;\n  /**\n   * List of characters to automatically consider prefixes when parsing.\n   */\n  prefixes?: string;\n}\n\n/**\n * Parse a string for the raw tokens.\n */\nexport function parse(str: string, options: ParseOptions = {}): Token[] {\n  const tokens = lexer(str);\n  const { prefixes = \"./\", delimiter = \"/#?\" } = options;\n  const result: Token[] = [];\n  let key = 0;\n  let i = 0;\n  let path = \"\";\n\n  const tryConsume = (type: LexToken[\"type\"]): string | undefined => {\n    if (i < tokens.length && tokens[i].type === type) return tokens[i++].value;\n  };\n\n  const mustConsume = (type: LexToken[\"type\"]): string => {\n    const value = tryConsume(type);\n    if (value !== undefined) return value;\n    const { type: nextType, index } = tokens[i];\n    throw new TypeError(`Unexpected ${nextType} at ${index}, expected ${type}`);\n  };\n\n  const consumeText = (): string => {\n    let result = \"\";\n    let value: string | undefined;\n    while ((value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))) {\n      result += value;\n    }\n    return result;\n  };\n\n  const isSafe = (value: string): boolean => {\n    for (const char of delimiter) if (value.indexOf(char) > -1) return true;\n    return false;\n  };\n\n  const safePattern = (prefix: string) => {\n    const prev = result[result.length - 1];\n    const prevText = prefix || (prev && typeof prev === \"string\" ? prev : \"\");\n\n    if (prev && !prevText) {\n      throw new TypeError(\n        `Must have text between two parameters, missing text after \"${(prev as Key).name}\"`,\n      );\n    }\n\n    if (!prevText || isSafe(prevText)) return `[^${escapeString(delimiter)}]+?`;\n    return `(?:(?!${escapeString(prevText)})[^${escapeString(delimiter)}])+?`;\n  };\n\n  while (i < tokens.length) {\n    const char = tryConsume(\"CHAR\");\n    const name = tryConsume(\"NAME\");\n    const pattern = tryConsume(\"PATTERN\");\n\n    if (name || pattern) {\n      let prefix = char || \"\";\n\n      if (prefixes.indexOf(prefix) === -1) {\n        path += prefix;\n        prefix = \"\";\n      }\n\n      if (path) {\n        result.push(path);\n        path = \"\";\n      }\n\n      result.push({\n        name: name || key++,\n        prefix,\n        suffix: \"\",\n        pattern: pattern || safePattern(prefix),\n        modifier: tryConsume(\"MODIFIER\") || \"\",\n      });\n      continue;\n    }\n\n    const value = char || tryConsume(\"ESCAPED_CHAR\");\n    if (value) {\n      path += value;\n      continue;\n    }\n\n    if (path) {\n      result.push(path);\n      path = \"\";\n    }\n\n    const open = tryConsume(\"OPEN\");\n    if (open) {\n      const prefix = consumeText();\n      const name = tryConsume(\"NAME\") || \"\";\n      const pattern = tryConsume(\"PATTERN\") || \"\";\n      const suffix = consumeText();\n\n      mustConsume(\"CLOSE\");\n\n      result.push({\n        name: name || (pattern ? key++ : \"\"),\n        pattern: name && !pattern ? safePattern(prefix) : pattern,\n        prefix,\n        suffix,\n        modifier: tryConsume(\"MODIFIER\") || \"\",\n      });\n      continue;\n    }\n\n    mustConsume(\"END\");\n  }\n\n  return result;\n}\n\nexport interface TokensToFunctionOptions {\n  /**\n   * When `true` the regexp will be case sensitive. (default: `false`)\n   */\n  sensitive?: boolean;\n  /**\n   * Function for encoding input strings for output.\n   */\n  encode?: (value: string, token: Key) => string;\n  /**\n   * When `false` the function can produce an invalid (unmatched) path. (default: `true`)\n   */\n  validate?: boolean;\n}\n\n/**\n * Compile a string to a template function for the path.\n */\nexport function compile<P extends object = object>(\n  str: string,\n  options?: ParseOptions & TokensToFunctionOptions,\n) {\n  return tokensToFunction<P>(parse(str, options), options);\n}\n\nexport type PathFunction<P extends object = object> = (data?: P) => string;\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nexport function tokensToFunction<P extends object = object>(\n  tokens: Token[],\n  options: TokensToFunctionOptions = {},\n): PathFunction<P> {\n  const reFlags = flags(options);\n  const { encode = (x: string) => x, validate = true } = options;\n\n  // Compile all the tokens into regexps.\n  const matches = tokens.map((token) => {\n    if (typeof token === \"object\") {\n      return new RegExp(`^(?:${token.pattern})$`, reFlags);\n    }\n  });\n\n  return (data: Record<string, any> | null | undefined) => {\n    let path = \"\";\n\n    for (let i = 0; i < tokens.length; i++) {\n      const token = tokens[i];\n\n      if (typeof token === \"string\") {\n        path += token;\n        continue;\n      }\n\n      const value = data ? data[token.name] : undefined;\n      const optional = token.modifier === \"?\" || token.modifier === \"*\";\n      const repeat = token.modifier === \"*\" || token.modifier === \"+\";\n\n      if (Array.isArray(value)) {\n        if (!repeat) {\n          throw new TypeError(\n            `Expected \"${token.name}\" to not repeat, but got an array`,\n          );\n        }\n\n        if (value.length === 0) {\n          if (optional) continue;\n\n          throw new TypeError(`Expected \"${token.name}\" to not be empty`);\n        }\n\n        for (let j = 0; j < value.length; j++) {\n          const segment = encode(value[j], token);\n\n          if (validate && !(matches[i] as RegExp).test(segment)) {\n            throw new TypeError(\n              `Expected all \"${token.name}\" to match \"${token.pattern}\", but got \"${segment}\"`,\n            );\n          }\n\n          path += token.prefix + segment + token.suffix;\n        }\n\n        continue;\n      }\n\n      if (typeof value === \"string\" || typeof value === \"number\") {\n        const segment = encode(String(value), token);\n\n        if (validate && !(matches[i] as RegExp).test(segment)) {\n          throw new TypeError(\n            `Expected \"${token.name}\" to match \"${token.pattern}\", but got \"${segment}\"`,\n          );\n        }\n\n        path += token.prefix + segment + token.suffix;\n        continue;\n      }\n\n      if (optional) continue;\n\n      const typeOfMessage = repeat ? \"an array\" : \"a string\";\n      throw new TypeError(`Expected \"${token.name}\" to be ${typeOfMessage}`);\n    }\n\n    return path;\n  };\n}\n\nexport interface RegexpToFunctionOptions {\n  /**\n   * Function for decoding strings for params.\n   */\n  decode?: (value: string, token: Key) => string;\n}\n\n/**\n * A match result contains data about the path match.\n */\nexport interface MatchResult<P extends object = object> {\n  path: string;\n  index: number;\n  params: P;\n}\n\n/**\n * A match is either `false` (no match) or a match result.\n */\nexport type Match<P extends object = object> = false | MatchResult<P>;\n\n/**\n * The match function takes a string and returns whether it matched the path.\n */\nexport type MatchFunction<P extends object = object> = (\n  path: string,\n) => Match<P>;\n\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nexport function match<P extends object = object>(\n  str: Path,\n  options?: ParseOptions & TokensToRegexpOptions & RegexpToFunctionOptions,\n) {\n  const keys: Key[] = [];\n  const re = pathToRegexp(str, keys, options);\n  return regexpToFunction<P>(re, keys, options);\n}\n\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nexport function regexpToFunction<P extends object = object>(\n  re: RegExp,\n  keys: Key[],\n  options: RegexpToFunctionOptions = {},\n): MatchFunction<P> {\n  const { decode = (x: string) => x } = options;\n\n  return function (pathname: string) {\n    const m = re.exec(pathname);\n    if (!m) return false;\n\n    const { 0: path, index } = m;\n    const params = Object.create(null);\n\n    for (let i = 1; i < m.length; i++) {\n      if (m[i] === undefined) continue;\n\n      const key = keys[i - 1];\n\n      if (key.modifier === \"*\" || key.modifier === \"+\") {\n        params[key.name] = m[i].split(key.prefix + key.suffix).map((value) => {\n          return decode(value, key);\n        });\n      } else {\n        params[key.name] = decode(m[i], key);\n      }\n    }\n\n    return { path, index, params };\n  };\n}\n\n/**\n * Escape a regular expression string.\n */\nfunction escapeString(str: string) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n\n/**\n * Get the flags for a regexp from the options.\n */\nfunction flags(options?: { sensitive?: boolean }) {\n  return options && options.sensitive ? \"\" : \"i\";\n}\n\n/**\n * Metadata about a key.\n */\nexport interface Key {\n  name: string | number;\n  prefix: string;\n  suffix: string;\n  pattern: string;\n  modifier: string;\n}\n\n/**\n * A token is a string (nothing special) or key metadata (capture group).\n */\nexport type Token = string | Key;\n\n/**\n * Pull out keys from a regexp.\n */\nfunction regexpToRegexp(path: RegExp, keys?: Key[]): RegExp {\n  if (!keys) return path;\n\n  const groupsRegex = /\\((?:\\?<(.*?)>)?(?!\\?)/g;\n\n  let index = 0;\n  let execResult = groupsRegex.exec(path.source);\n  while (execResult) {\n    keys.push({\n      // Use parenthesized substring match if available, index otherwise\n      name: execResult[1] || index++,\n      prefix: \"\",\n      suffix: \"\",\n      modifier: \"\",\n      pattern: \"\",\n    });\n    execResult = groupsRegex.exec(path.source);\n  }\n\n  return path;\n}\n\n/**\n * Transform an array into a regexp.\n */\nfunction arrayToRegexp(\n  paths: Array<string | RegExp>,\n  keys?: Key[],\n  options?: TokensToRegexpOptions & ParseOptions,\n): RegExp {\n  const parts = paths.map((path) => pathToRegexp(path, keys, options).source);\n  return new RegExp(`(?:${parts.join(\"|\")})`, flags(options));\n}\n\n/**\n * Create a path regexp from string input.\n */\nfunction stringToRegexp(\n  path: string,\n  keys?: Key[],\n  options?: TokensToRegexpOptions & ParseOptions,\n) {\n  return tokensToRegexp(parse(path, options), keys, options);\n}\n\nexport interface TokensToRegexpOptions {\n  /**\n   * When `true` the regexp will be case sensitive. (default: `false`)\n   */\n  sensitive?: boolean;\n  /**\n   * When `true` the regexp won't allow an optional trailing delimiter to match. (default: `false`)\n   */\n  strict?: boolean;\n  /**\n   * When `true` the regexp will match to the end of the string. (default: `true`)\n   */\n  end?: boolean;\n  /**\n   * When `true` the regexp will match from the beginning of the string. (default: `true`)\n   */\n  start?: boolean;\n  /**\n   * Sets the final character for non-ending optimistic matches. (default: `/`)\n   */\n  delimiter?: string;\n  /**\n   * List of characters that can also be \"end\" characters.\n   */\n  endsWith?: string;\n  /**\n   * Encode path tokens for use in the `RegExp`.\n   */\n  encode?: (value: string) => string;\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nexport function tokensToRegexp(\n  tokens: Token[],\n  keys?: Key[],\n  options: TokensToRegexpOptions = {},\n) {\n  const {\n    strict = false,\n    start = true,\n    end = true,\n    encode = (x: string) => x,\n    delimiter = \"/#?\",\n    endsWith = \"\",\n  } = options;\n  const endsWithRe = `[${escapeString(endsWith)}]|$`;\n  const delimiterRe = `[${escapeString(delimiter)}]`;\n  let route = start ? \"^\" : \"\";\n\n  // Iterate over the tokens and create our regexp string.\n  for (const token of tokens) {\n    if (typeof token === \"string\") {\n      route += escapeString(encode(token));\n    } else {\n      const prefix = escapeString(encode(token.prefix));\n      const suffix = escapeString(encode(token.suffix));\n\n      if (token.pattern) {\n        if (keys) keys.push(token);\n\n        if (prefix || suffix) {\n          if (token.modifier === \"+\" || token.modifier === \"*\") {\n            const mod = token.modifier === \"*\" ? \"?\" : \"\";\n            route += `(?:${prefix}((?:${token.pattern})(?:${suffix}${prefix}(?:${token.pattern}))*)${suffix})${mod}`;\n          } else {\n            route += `(?:${prefix}(${token.pattern})${suffix})${token.modifier}`;\n          }\n        } else {\n          if (token.modifier === \"+\" || token.modifier === \"*\") {\n            throw new TypeError(\n              `Can not repeat \"${token.name}\" without a prefix and suffix`,\n            );\n          }\n\n          route += `(${token.pattern})${token.modifier}`;\n        }\n      } else {\n        route += `(?:${prefix}${suffix})${token.modifier}`;\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += `${delimiterRe}?`;\n\n    route += !options.endsWith ? \"$\" : `(?=${endsWithRe})`;\n  } else {\n    const endToken = tokens[tokens.length - 1];\n    const isEndDelimited =\n      typeof endToken === \"string\"\n        ? delimiterRe.indexOf(endToken[endToken.length - 1]) > -1\n        : endToken === undefined;\n\n    if (!strict) {\n      route += `(?:${delimiterRe}(?=${endsWithRe}))?`;\n    }\n\n    if (!isEndDelimited) {\n      route += `(?=${delimiterRe}|${endsWithRe})`;\n    }\n  }\n\n  return new RegExp(route, flags(options));\n}\n\n/**\n * Supported `path-to-regexp` input types.\n */\nexport type Path = string | RegExp | Array<string | RegExp>;\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nexport function pathToRegexp(\n  path: Path,\n  keys?: Key[],\n  options?: TokensToRegexpOptions & ParseOptions,\n) {\n  if (path instanceof RegExp) return regexpToRegexp(path, keys);\n  if (Array.isArray(path)) return arrayToRegexp(path, keys, options);\n  return stringToRegexp(path, keys, options);\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Error thrown when a route pattern cannot be parsed by path-to-regexp\n */\nclass InvalidRoutePatternError extends Error {\n    constructor(pattern) {\n        super(`Route pattern \"${pattern}\" contains invalid syntax. To force exact matching, wrap the path in the 'exact' function.\\n` +\n            `See https://docs.edg.io/guides/performance/cdn_as_code/common_routing_patterns for more information.`); // istanbul ignore next - this is a known issue with TypeScript\n        this.isUserError = true;\n    }\n}\nexports.default = InvalidRoutePatternError;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst path_to_regexp_1 = require(\"path-to-regexp\");\nconst InvalidRoutePatternError_1 = __importDefault(require(\"../errors/InvalidRoutePatternError\"));\n/**\n * Converts an express-style path string with optional variables to a RegExp instance.\n * @param path\n * @returns\n */\nfunction toPathRegexp(path) {\n    /* istanbul ignore else */\n    if (path) {\n        try {\n            return (0, path_to_regexp_1.pathToRegexp)(path);\n        }\n        catch (e) {\n            throw new InvalidRoutePatternError_1.default(path);\n        }\n    }\n    else {\n        // For fallbacks we want everything matched so that we can replace everything if needed.\n        // We insist on total matching with `^` and `$` because some regex replacement algorithms\n        // have issues with correctly applying `.*` in completely greedy manner (e.g. Fastly's `regsuball`)\n        return /^.*$/;\n    }\n}\nexports.default = toPathRegexp;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toCondition = void 0;\nconst exact_1 = require(\"../../router/exact\");\nconst toEdgeRegex_1 = __importDefault(require(\"../../utils/toEdgeRegex\"));\nconst toPathRegexp_1 = __importDefault(require(\"../../utils/toPathRegexp\"));\nconst RouteCriteria_1 = require(\"../RouteCriteria\");\nconst toCondition = (property, value) => {\n    if ((0, RouteCriteria_1.isNegation)(value)) {\n        if (typeof value.not === 'string') {\n            if (property.request === 'path' && (0, toPathRegexp_1.default)(value.not)) {\n                return { ['!=']: [property, value.not] };\n            }\n            // everything that isnt a path is matched exactly without the need for exact modifier\n            return { ['!==']: [property, value.not] };\n        }\n        else if (value.not instanceof RegExp) {\n            return { ['!~']: [property, (0, toEdgeRegex_1.default)(value.not)] };\n        }\n        else if (value.not instanceof exact_1.ExactPath) {\n            return { ['!==']: [property, value.not.value] };\n        }\n        else if (Array.isArray(value.not)) {\n            return { not_in: [property, value.not] };\n        }\n    }\n    else {\n        if (typeof value === 'string') {\n            if (property.request === 'path' && (0, toPathRegexp_1.default)(value)) {\n                return { ['==']: [property, value] };\n            }\n            // everything that isnt a path is matched exactly without the need for exact modifier\n            return { ['===']: [property, value] };\n        }\n        else if (value instanceof RegExp) {\n            return { ['=~']: [property, (0, toEdgeRegex_1.default)(value)] };\n        }\n        else if (value instanceof exact_1.ExactPath) {\n            return { ['===']: [property, value.value] };\n        }\n        else if (Array.isArray(value)) {\n            return { in: [property, value] };\n        }\n    }\n    // todo: check if this is the correct error to throw, we shouldn't allow nulls/undefineds\n    // so this should be handled with ts or with runtime checks on sailfish schema during build\n    throw new Error(`Invalid type for match condition: ${typeof value}`);\n};\nexports.toCondition = toCondition;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMatchers = void 0;\nconst RouteCriteria_1 = require(\"./RouteCriteria\");\nconst toCondition_1 = require(\"./converters/toCondition\");\n/**\n * Creates the matching conditions for EdgeControl's `if` property.\n * @param criteria\n * @returns\n */\nfunction createMatchers(criteria) {\n    var _a;\n    const ecCriteria = criteria;\n    if (ecCriteria.edgeControlCriteria) {\n        // Native EdgeControl syntax detected - returning as is.\n        // Used to support if statement criteria fallbacks.\n        return ecCriteria.edgeControlCriteria;\n    }\n    const edgeJsCriteria = criteria;\n    // created by usage of 'and', 'or' utility functions\n    if (edgeJsCriteria instanceof RouteCriteria_1.AndOperator || edgeJsCriteria instanceof RouteCriteria_1.OrOperator) {\n        // we filter null values, as it means no matchers were created\n        return {\n            [edgeJsCriteria.operator]: edgeJsCriteria.values\n                .map(edgeJsCriteria => createMatchers(edgeJsCriteria))\n                .filter(matchers => matchers),\n        };\n    }\n    const matchers = [];\n    const add = (property, value) => {\n        const condition = (0, toCondition_1.toCondition)(property, value);\n        matchers.push(condition);\n    };\n    if (edgeJsCriteria.path) {\n        add({ request: 'path' }, edgeJsCriteria.path);\n    }\n    if (edgeJsCriteria.origin_path) {\n        add({ request: 'origin_path' }, edgeJsCriteria.origin_path);\n    }\n    if (edgeJsCriteria.scheme) {\n        add({ request: 'scheme' }, edgeJsCriteria.scheme);\n    }\n    if (edgeJsCriteria.method) {\n        add({ request: 'method' }, typeof edgeJsCriteria.method === 'string'\n            ? edgeJsCriteria.method.toUpperCase()\n            : edgeJsCriteria.method // sailfish requires uppercase method names\n        );\n    }\n    if (edgeJsCriteria.headers) {\n        Object.entries(edgeJsCriteria.headers).forEach(([name, value]) => {\n            add({ 'request.header': name.toLowerCase() }, value);\n        });\n    }\n    if (edgeJsCriteria.query) {\n        Object.entries(edgeJsCriteria.query).forEach(([name, value]) => {\n            // if query param, we let it pass through if the value is at least length 1, as only the existence matters\n            add({ 'request.origin_query': name }, typeof value === 'string' && value.startsWith(':') ? new RegExp('.+') : value);\n        });\n    }\n    if (edgeJsCriteria.cookies) {\n        Object.entries(edgeJsCriteria.cookies).forEach(([name, value]) => {\n            add({ 'request.cookie': name }, value);\n        });\n    }\n    if (edgeJsCriteria.device) {\n        Object.entries(edgeJsCriteria.device).forEach(([name, value]) => {\n            add({ device: name }, value);\n        });\n    }\n    if (edgeJsCriteria.location) {\n        Object.entries(edgeJsCriteria.location).forEach(([name, value]) => {\n            add({ location: name }, value);\n        });\n    }\n    if (edgeJsCriteria.variable) {\n        Object.entries(edgeJsCriteria.variable).forEach(([name, value]) => {\n            add({ variable: name }, value);\n        });\n    }\n    if (edgeJsCriteria.client_ip) {\n        add({ request: 'client_ip' }, edgeJsCriteria.client_ip);\n    }\n    if (edgeJsCriteria['referring-domain']) {\n        add({ request: 'referring_domain' }, edgeJsCriteria['referring-domain']);\n    }\n    if ((_a = edgeJsCriteria.response) === null || _a === void 0 ? void 0 : _a.status_code) {\n        add({ response: 'status_code' }, edgeJsCriteria.response.status_code);\n    }\n    if (matchers.length === 0) {\n        return null;\n    }\n    // when we have only one matcher, we don't need to wrap it in an array\n    // we need to extract it from the array, otherwise wrap it into the \"and\" operator\n    return (matchers.length === 1 ? matchers[0] : { and: matchers });\n}\nexports.createMatchers = createMatchers;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isRule = exports.toThen = exports.toRule = void 0;\nconst createMatchers_1 = require(\"../createMatchers\");\nconst toRule = (criteria, ...featuresOrRouters) => {\n    const matchers = (0, createMatchers_1.createMatchers)(criteria);\n    const then = (0, exports.toThen)(featuresOrRouters);\n    // when there are no matchers for rule, we must return only feature as rule, as empty criteria is invalid and fails deployment\n    if (!matchers) {\n        return then;\n    }\n    const rule = {\n        if: [matchers, then],\n    };\n    return rule;\n};\nexports.toRule = toRule;\nconst toThen = (featuresOrRouters = []) => {\n    var _a;\n    const outputRules = [];\n    featuresOrRouters.forEach((featureOrRouter) => {\n        const value = featureOrRouter;\n        value.rules\n            ? outputRules.push(...value.rules)\n            : Array.isArray(value)\n                ? outputRules.push(...value)\n                : outputRules.push(value);\n    });\n    if ((_a = outputRules[0]) === null || _a === void 0 ? void 0 : _a.if) {\n        // Rule array must ALWAYS start with feature - console parses that feature as a root feature of the rule.\n        // Otherwise, they wouldnt be able to discern between whats root feature, and whats nested feature - it is what it is.\n        return [{}, ...outputRules];\n    }\n    else if (outputRules.length === 1) {\n        // If rule array has only 1 feature, we dont use the array -> feature will therefore not be a nested rule on console side.\n        return outputRules[0];\n    }\n    return outputRules;\n};\nexports.toThen = toThen;\nconst isRule = (value) => !!value.if;\nexports.isRule = isRule;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bindRegexParams = exports.substituteParams = void 0;\n/**\n * Performs a substitution of params in destination string.\n * The values are matched and extracted by provided regex from the source string.\n * @param regex\n * @param source\n * @param destination\n * @example substituteParams(/(.+)\\/(.+)/, 'something/else', '/path/$1/$2') => '/path/something/else'\n */\nfunction substituteParams(regex, source, destination) {\n    return bindRegexParams(destination, regex.exec(source) || []);\n}\nexports.substituteParams = substituteParams;\n/**\n * Performs a substitution of provided params in destination string.\n * Escaped $ symbols are ignored.\n * @param destination\n * @param params\n */\nfunction bindRegexParams(destination, params) {\n    // Find all substitution symbols in destination and replace them with extracted values\n    // or empty string when the value does not exist.\n    var _a;\n    return (((_a = destination.match(/(\\\\?)(\\$[0-9]*)/g)) === null || _a === void 0 ? void 0 : _a.reduce((output, substitutionParam) => {\n        // Ignore escaped $ symbols\n        if (substitutionParam.startsWith('\\\\'))\n            return output;\n        const index = parseInt(substitutionParam.substring(1)); // get index from $1, $2, etc.\n        return output.replace(substitutionParam, params[index] || '');\n    }, destination)) || destination);\n}\nexports.bindRegexParams = bindRegexParams;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst regexUtils_1 = require(\"./regexUtils\");\n/**\n * Binds params to path.\n *\n * Example:\n * ```js\n * bindParams('/:foo/:bar*', { foo: 'p1', bar: 'p2/p3' })\n * bindParams('/$1/$2', { '$': [ '/p1/p2/p3', 'p1', 'p2/p3' ] })\n * ```\n * Output: `/p1/p2/p3`\n *\n * @param path The path, with param substitutions in braces `{}`.\n * @param params An object with keys matching the params in braces.\n * @returns A string with the params substituted with their values.\n */\nexports.default = (path, params) => {\n    let p = path;\n    // We allow edge interpolation params which begin with `${` but we no longer\n    // allow old path options that only begin with `{`.\n    if (/(^|[^$]){/.test(path)) {\n        throw new Error(`{variable} syntax in the path option is no longer supported, use :variable instead (${path})`);\n    }\n    for (let paramName in params) {\n        let value = params[paramName];\n        if (Array.isArray(value)) {\n            value = value.join('/');\n        }\n        // Here we decide *not* to use path-to-regexp `compile()` function\n        // as bindParams is used by other string which are not paths.\n        // For example it is used to interpolate setHeader values, which can be a CORS header like\n        // 'https://www.domain.com/:path'. The ':' behind https is not a valid path-to-regexp expression.\n        // p = p.replace(new RegExp(`:${paramName}(\\\\?|\\\\*|\\\\(.*\\\\)[?*]?)?`, 'g'), value)\n        const pattern = new RegExp(`:${paramName}(\\\\([^)]*\\\\))?[?*+]?`, 'g');\n        const replacement = value === undefined ? '' : value;\n        p = p.replace(pattern, replacement.replace(/\\$/g, '$$$')); // convert $ to $$ to escape backreferences in the replacement string\n    }\n    // For optional matchers (:path* and :path?), path may not be defined in params\n    // after matching a route but should still be replaced by a blank value\n    //\n    // ex: pathToRegexp.match('/public/:param?')('/').params returns {}\n    //     so bindParams('/public/:param?', {}) should return '/public/'\n    //\n    p = p.replace(/:\\w+(\\*|\\+|\\?)?/, '');\n    // We un-escape '?' character that needed to be escape from path-to-regexp expression\n    // to *not* be considered as optional parameter matcher\n    p = p.replace('\\\\?', '?');\n    p = p\n        .replace(/\\/+/g, '/') // finally dedupe /'s that result from missing optional parameters\n        .replace(/^([^:]+:)\\//gi, '$1//'); // but don't replace http://domain with http:/domain\n    // Substitute params captured by groups from regular expression path criteria\n    // when the path is a regular expression\n    p = (params === null || params === void 0 ? void 0 : params.$) ? (0, regexUtils_1.bindRegexParams)(p, params.$) : p;\n    return p;\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction toRegExp(pattern, flags = 'g') {\n    if (pattern.startsWith('(?i)')) {\n        pattern = pattern.substring(4);\n        flags += 'i';\n    }\n    return new RegExp(pattern, flags);\n}\nexports.default = toRegExp;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.nameParamsToIndex = exports.isAbsoluteUrl = exports.getBackReferences = exports.mapURL = exports.rewritePath = exports.pathToRegex = void 0;\nconst path_to_regexp_1 = require(\"path-to-regexp\");\nconst bindParams_1 = __importDefault(require(\"../utils/bindParams\"));\nconst toEdgeRegex_1 = __importDefault(require(\"../utils/toEdgeRegex\"));\nconst toRegExp_1 = __importDefault(require(\"../runtime/toRegExp\"));\n/**\n * Converts an express-style path pattern like /products/:id to a regular expression source string\n * suitable for assignment to Router features.\n * @param path\n * @returns\n */\nfunction pathToRegex(path) {\n    let prefix = '';\n    const protocolRegex = /^[a-z]+:\\/\\//i;\n    const matches = protocolRegex.exec(path);\n    if (matches) {\n        prefix = matches[0];\n    }\n    const pathPart = path.substring(prefix.length);\n    // @ts-ignore\n    return (0, toEdgeRegex_1.default)((0, path_to_regexp_1.pathToRegexp)(pathPart), prefix);\n}\nexports.pathToRegex = pathToRegex;\n/**\n * Creates a regex rewrite object based on the specified sourcePath and destPath, both\n * of which accept express-style path strings.\n * @param sourcePath\n * @param destPath\n * @param options Additional options that allow to control the rewrite behavior\n * @returns\n */\nfunction rewritePath(sourcePath, destPath, options) {\n    const { skipQuery = false, skipSlash = false } = options || {};\n    if (sourcePath == null)\n        return { destination: destPath };\n    // The regex is matched in mod_rewrite against the whole URL instead of path.\n    // Options allow us to adjust regex to match URL with optional query at the end as well\n    // as optional trailing slash in some cases.\n    return {\n        source: `${sourcePath}:optionalSlash(\\\\/?)?:optionalQuery(\\\\?.*)?`,\n        syntax: 'path-to-regexp',\n        destination: `${destPath}${skipSlash ? '' : ':optionalSlash'}${skipQuery ? '' : ':optionalQuery'}`,\n    };\n}\nexports.rewritePath = rewritePath;\n/**\n * Returns rewritten url based on the specified sourcePath and destPath.\n * The unchanged destination is returned when no sourcePath is provided.\n * The null is returned when url does not match sourcePath.\n * @param url\n * @param source\n * @param destination\n * @param syntax\n * @returns\n */\nfunction mapURL(url, source, destination, syntax) {\n    let targetSource;\n    let targetDest = destination;\n    // return unchanged dest  when no source is provided\n    if (!source)\n        return targetDest;\n    // determine source syntax and convert it to regex\n    if (syntax === 'regexp') {\n        targetSource = (0, toRegExp_1.default)(source, ''); // no flags used in order to avoid invalid group mapping\n    }\n    else {\n        // path-to-regexp syntax is used by default\n        targetSource = (0, path_to_regexp_1.pathToRegexp)(source);\n        // we map references onto the destination string, which is expected to be input in path-to-regexp format also\n        targetDest = (0, bindParams_1.default)(destination, getBackReferences(source));\n    }\n    // return null when url does not match source\n    if (!url.match(targetSource))\n        return null;\n    return url.replace(targetSource, targetDest);\n}\nexports.mapURL = mapURL;\n/*\nUncomment when we we support url.path_rewrite\nexport function mapPath(\n  url: string,\n  source: string | undefined,\n  destination: string,\n  syntax?: 'path-to-regexp' | 'regexp'\n) {\n  let targetSource\n  let targetDest = destination\n  const parsed = new URL(url, 'http://localhost')\n\n  if (source) {\n    if (syntax === 'regexp') {\n      targetSource = toRegExp(source, '') // no flags used in order to avoid invalid group mapping\n    } else {\n      // path-to-regexp syntax is used by default\n      targetSource = pathToRegexp(source)\n      // we map references onto the destination string, which is expected to be input in path-to-regexp format also\n      targetDest = bindParams(destination, getBackReferences(source))\n    }\n    return `${parsed.pathname.replace(targetSource, targetDest)}${parsed.search}`\n  } else {\n    return `${targetDest}${parsed.search}`\n  }\n}\n*/\nfunction getBackReferences(path) {\n    // In case path is an absolute path\n    const absolutePathMatch = path.match(/https?:\\/\\/[^/]+(.*)/);\n    if (absolutePathMatch) {\n        path = `/${absolutePathMatch[1]}`;\n    }\n    // Back reference counting starts from 1\n    let backReferenceCounter = 1;\n    const references = {};\n    (0, path_to_regexp_1.parse)(path).forEach(token => {\n        if (typeof token !== 'string') {\n            references[token.name] = `$${backReferenceCounter++}`; // double $$ escapes backreferences so \"$N\" actually gets inserted into the string\n        }\n    });\n    return references;\n}\nexports.getBackReferences = getBackReferences;\n/**\n * Returns a boolean indicating whether the specified url is an absolute url.\n * @param url\n * @returns\n */\nfunction isAbsoluteUrl(url) {\n    return url.startsWith('http://') || url.startsWith('https://');\n}\nexports.isAbsoluteUrl = isAbsoluteUrl;\n/**\n * Converts named parameters from regex-to-path format to regex substitution format\n * with indexes.\n * @param source\n * @param destination\n * @returns\n */\nfunction nameParamsToIndex(source, destination) {\n    const backReferences = getBackReferences(source);\n    const matches = [\n        ...destination.matchAll(/:(.[a-z_-]+)[+|*]/g),\n        ...destination.matchAll(/:(.[a-z_-]+)/g),\n    ];\n    matches.forEach(match => {\n        if (!Object.keys(backReferences).includes(match[1]))\n            return;\n        const index = Object.keys(backReferences).indexOf(match[1]);\n        destination = destination.replace(match[0], `$${index}`);\n    });\n    return destination;\n}\nexports.nameParamsToIndex = nameParamsToIndex;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EdgioRuntimeGlobal = void 0;\nString.prototype.writeToStream = function (response) {\n    response.sendResponse(this.toString());\n};\n/**\n * This class is used to store global variables that are used in the runtime,\n * but are not passed as parameters to the functions, instead they are stored\n * in the global scope. For instance, as we don't have a way to pass values\n * between prod.js or dev.js script, we do it here, by accesing the global scope.\n */\nclass EdgioRuntimeGlobal {\n    static get runtimeOptions() {\n        // @ts-ignore\n        return global.EDGIO_RUNTIME_OPTIONS;\n    }\n    static set runtimeOptions(options) {\n        // @ts-ignore\n        global.EDGIO_RUNTIME_OPTIONS = options;\n    }\n    static get isCacheEnabled() {\n        var _a;\n        // @ts-ignore\n        return (_a = global.isCacheEnabled) !== null && _a !== void 0 ? _a : false;\n    }\n    static set isCacheEnabled(value) {\n        // @ts-ignore\n        global.isCacheEnabled = value;\n    }\n    static get devOptions() {\n        // @ts-ignore\n        return global.devOptions;\n    }\n    static set devOptions(options) {\n        // @ts-ignore\n        global.devOptions = options;\n    }\n}\nexports.EdgioRuntimeGlobal = EdgioRuntimeGlobal;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isBrowser = exports.isEdgioRunDev = exports.isProductionBuild = exports.isLocal = exports.isCloud = void 0;\nconst constants_1 = require(\"./constants\");\nconst global_helpers_1 = require(\"./lambda/global.helpers\");\n/**\n * Used to determine if the app is running in the cloud.\n * @returns `true` when running in the cloud, `false` otherwise\n */\nfunction isCloud() {\n    if (global_helpers_1.EdgioRuntimeGlobal.runtimeOptions !== undefined)\n        return global_helpers_1.EdgioRuntimeGlobal.runtimeOptions.isProductionBuild;\n    return process.env[constants_1.EDGIO_ENV_VARIABLES.deploymentType] === constants_1.EDGIO_DEPLOYMENT_TYPE_AWS;\n}\nexports.isCloud = isCloud;\n/**\n * Returns true when running locally, either in dev or production mode\n */\nfunction isLocal() {\n    var _a;\n    return (((_a = global_helpers_1.EdgioRuntimeGlobal.runtimeOptions) === null || _a === void 0 ? void 0 : _a.devMode) || process.env[constants_1.EDGIO_ENV_VARIABLES.local] === 'true');\n}\nexports.isLocal = isLocal;\n/**\n * Used to determine if the app is running on a production build.\n * @returns `true` when running a production build, either locally or in the cloud; `false` otherwise\n */\nfunction isProductionBuild() {\n    if (global_helpers_1.EdgioRuntimeGlobal.runtimeOptions !== undefined)\n        return global_helpers_1.EdgioRuntimeGlobal.runtimeOptions.isProductionBuild;\n    return (\n    // Users can change the value of NODE_ENV in the cloud https://docs.edg.io/guides/basics/environments#built-in-environment-variables\n    // Caveat: We NEED to access NODE_ENV through array accessor, otherwise its mapped into static value by webpack that isnt changable at runtime\n    process.env['NODE_ENV'] === 'production' ||\n        // To reliably detect a prod build, we set variable EDGIO_PRODUCTION_BUILD true in lambdas which users can't change\n        // We can't use isCloud in those cases, as we need to use this function also in local cases\n        process.env[constants_1.EDGIO_ENV_VARIABLES.productionBuild] === 'true');\n}\nexports.isProductionBuild = isProductionBuild;\n/**\n * Used to determine if the app is running in `edgio run` development environment\n * @returns `true` when running with `edgio run`without production flag, `false` otherwise\n */\nfunction isEdgioRunDev() {\n    return !isCloud() && !isProductionBuild();\n}\nexports.isEdgioRunDev = isEdgioRunDev;\n/**\n * Determines whether or not we are running in a browser\n * @returns `true` when running in a browser, otherwise false\n */\nfunction isBrowser() {\n    return typeof window !== 'undefined';\n}\nexports.isBrowser = isBrowser;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.localhostWithPort = exports.localhost = exports.handlerPort = exports.assetPort = exports.jsPort = exports.port = void 0;\nexports.port = Number(process.env.PORT) || 3000;\nexports.jsPort = exports.port + 1;\nexports.assetPort = exports.port + 2;\nexports.handlerPort = exports.port + 1000;\nexports.localhost = '127.0.0.1';\nexports.localhostWithPort = `${exports.localhost}:${exports.port}`;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createPrefetchOrigin = exports.createServerlessOrigin = exports.createSelfOrigin = exports.createPermanentStaticOrigin = exports.createStaticOrigin = exports.getPathPrefix = exports.getEdgioOrigins = exports.PREFETCH_ORIGIN_NAME = exports.SERVERLESS_ORIGIN_NAME = exports.PERMANENT_STATIC_ORIGIN_NAME = exports.SELF_ORIGIN_NAME = exports.STATIC_ORIGIN_NAME = void 0;\nconst constants_1 = require(\"./constants\");\nconst environment_1 = require(\"./environment\");\nconst ports_1 = require(\"./utils/ports\");\n/**\n * The id of the origin from which we serve static assets associated with a single deployment\n */\nexports.STATIC_ORIGIN_NAME = 'edgio_static';\n/**\n * The id of the origin from which allows edge functions to re-enter the edge.\n */\nexports.SELF_ORIGIN_NAME = 'edgio_self';\n/**\n * The id of the origin from which we serve static assets with globally unique filenames (usually based on a hash of the file content)\n * for all deployments.\n */\nexports.PERMANENT_STATIC_ORIGIN_NAME = 'edgio_permanent_static';\n/**\n * The id of the origin from which serverless functions are served.\n */\nexports.SERVERLESS_ORIGIN_NAME = 'edgio_serverless';\n/**\n * The id of the origin with pre-built @edgio/prefetch assets\n */\nexports.PREFETCH_ORIGIN_NAME = 'edgio_prefetch';\nconst internalConfig = process.env[constants_1.EDGIO_ENV_VARIABLES.internalConfig]\n    ? JSON.parse(process.env[constants_1.EDGIO_ENV_VARIABLES.internalConfig] || '{}')\n    : {};\n// TODO: we need this function to remove path_prefix from the origin config\n// this is currently added so we can do propper url rewriting in the edge,\n// but once this is not needed we should remove it.\n// Without this function, Sailfish validation will fail\nconst getOriginFromConfig = (name) => {\n    var _a;\n    const origin = (_a = internalConfig === null || internalConfig === void 0 ? void 0 : internalConfig.origins) === null || _a === void 0 ? void 0 : _a.find((origin) => origin.name === name);\n    if (origin) {\n        for (let host of origin.hosts) {\n            // Enforce https for all origins,\n            // because Function URLs don't support http\n            host.scheme = 'https';\n            // Path_prefix is not valid edge_control schema option,\n            // so we need to remove it\n            // @ts-ignore\n            delete host.path_prefix;\n        }\n        return {\n            ...origin,\n            // It's important to not set (and remove existing)\n            // sni_hint_and_strict_san_check here, because right now\n            // we don't have way to set two different\n            // sni_hint_and_strict_san_check configs to each origin host\n            // and in production it results in 502 Gateway error on the edge.\n            // See https://jira.atlas.llnw.com/browse/POR-31818 for more details.\n            // TODO: Remove this once POR-31818 is supported\n            tls_verify: {\n                use_sni: true,\n            },\n        };\n    }\n    return origin;\n};\nfunction getEdgioOrigins(forEdgeControl = false) {\n    return [\n        createStaticOrigin(),\n        createPermanentStaticOrigin(),\n        createServerlessOrigin(forEdgeControl),\n        // If we are running locally define the edgio_self and edgio_prefetch origins.\n        // If in production, this is defined already.\n        ...((0, environment_1.isLocal)() ? [createPrefetchOrigin(), createSelfOrigin()] : []),\n    ];\n}\nexports.getEdgioOrigins = getEdgioOrigins;\nfunction getPathPrefix(origin) {\n    var _a, _b, _c;\n    return (((_c = (_b = (_a = internalConfig === null || internalConfig === void 0 ? void 0 : internalConfig.origins) === null || _a === void 0 ? void 0 : _a.find((o) => o.name === origin)) === null || _b === void 0 ? void 0 : _b.hosts[0]) === null || _c === void 0 ? void 0 : _c.path_prefix) || '');\n}\nexports.getPathPrefix = getPathPrefix;\n/**\n *  * Creates the origin group for serving static assets associated with a single deployment.\n * @returns\n */\nfunction createStaticOrigin() {\n    return (getOriginFromConfig(exports.STATIC_ORIGIN_NAME) || {\n        name: exports.STATIC_ORIGIN_NAME,\n        hosts: [{ location: `127.0.0.1:${ports_1.assetPort}` }],\n    });\n}\nexports.createStaticOrigin = createStaticOrigin;\n/**\n * Creates the origin group for serving static assets with globally unique URLs across all deployments.\n * @returns\n */\nfunction createPermanentStaticOrigin() {\n    return (getOriginFromConfig(exports.PERMANENT_STATIC_ORIGIN_NAME) || {\n        name: exports.PERMANENT_STATIC_ORIGIN_NAME,\n        hosts: [{ location: `127.0.0.1:${ports_1.assetPort}` }],\n    });\n}\nexports.createPermanentStaticOrigin = createPermanentStaticOrigin;\n/**\n * Creates the origin group which allows the edge function to re-enter the edge.\n * @returns\n */\nfunction createSelfOrigin() {\n    return (getOriginFromConfig(exports.SELF_ORIGIN_NAME) || {\n        name: exports.SELF_ORIGIN_NAME,\n        override_host_header: `127.0.0.1`,\n        hosts: [\n            {\n                location: [\n                    {\n                        hostname: '127.0.0.1',\n                        port: ports_1.port,\n                    },\n                ],\n            },\n        ],\n    });\n}\nexports.createSelfOrigin = createSelfOrigin;\n/**\n * Creates the origin group for serverless functions.\n * When forEdgeControl is false, the serverless origin target is the app. (In simulator and on permalink)\n * When forEdgeControl is true, the serverless origin target is link to permalink.\n * This ensure that the app is not infinitely sending requests to itself.\n * @returns\n */\nfunction createServerlessOrigin(forEdgeControl = false) {\n    // Return origin from config only in case we are generating config for edge control.\n    // Otherwise keep the localhost origin which is pointing to the app.\n    const originFromConfig = forEdgeControl ? getOriginFromConfig(exports.SERVERLESS_ORIGIN_NAME) : null;\n    return (originFromConfig || {\n        name: exports.SERVERLESS_ORIGIN_NAME,\n        hosts: [{ location: `127.0.0.1:${ports_1.jsPort}` }],\n    });\n}\nexports.createServerlessOrigin = createServerlessOrigin;\n/**\n * Creates the origin config for the prefetch origin with pre-built @edgio/prefetch assets.\n * This origin is used just for local simulation.\n * @returns\n */\nfunction createPrefetchOrigin() {\n    return {\n        name: exports.PREFETCH_ORIGIN_NAME,\n        override_host_header: 'edgio-sites-prefetch-default.edgio.link',\n        hosts: [{ location: 'edgio-sites-prefetch-default.edgio.link' }],\n    };\n}\nexports.createPrefetchOrigin = createPrefetchOrigin;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normalizeRedirectOptions = void 0;\nconst url_1 = __importDefault(require(\"url\"));\nconst querystring_1 = __importDefault(require(\"querystring\"));\n/**\n * Translates redirect params into normalized version that solves backward compatibility\n * issues and also takes into account query parameters that may be included in the query\n * string itself.\n *\n * @param to string to where we are redirecting the request; may have query string\n * @param options options with which we are redirecting the request\n */\nconst normalizeRedirectOptions = (to, options) => {\n    const { statusCode = 302, query = {} } = \n    // Retro-compatibility, second argument used to be statusCode\n    typeof options === 'number' ? { statusCode: options } : options;\n    // Parse `to` param to extract query strings from it.\n    let toQuery = {};\n    const parsedTo = url_1.default.parse(to);\n    // istanbul ignore next - ?. gives istanbul indigestion\n    if (parsedTo === null || parsedTo === void 0 ? void 0 : parsedTo.search) {\n        to = to.substr(0, to.length - parsedTo.search.length);\n        // @ts-ignore: whenever search is truthy query is at least an empty string\n        toQuery = querystring_1.default.parse(parsedTo.query);\n    }\n    return {\n        to,\n        statusCode: statusCode,\n        query: {\n            ...toQuery,\n            ...query,\n        },\n    };\n};\nexports.normalizeRedirectOptions = normalizeRedirectOptions;\n", "\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"TRACE\"] = 0] = \"TRACE\";\n    LogLevel[LogLevel[\"DEBUG\"] = 1] = \"DEBUG\";\n    LogLevel[LogLevel[\"INFO\"] = 2] = \"INFO\";\n    LogLevel[LogLevel[\"WARN\"] = 3] = \"WARN\";\n    LogLevel[LogLevel[\"ERROR\"] = 4] = \"ERROR\";\n})(LogLevel || (LogLevel = {}));\nconst key = (_a = process.env.LOG_LEVEL) === null || _a === void 0 ? void 0 : _a.toUpperCase();\nconst configuredLogLevel = key ? LogLevel[key] : LogLevel.INFO;\nconst logger = {\n    trace(...params) {\n        logger.log(LogLevel.TRACE, ...params);\n    },\n    debug(...params) {\n        logger.log(LogLevel.DEBUG, ...params);\n    },\n    info(...params) {\n        logger.log(LogLevel.INFO, ...params);\n    },\n    warn(...params) {\n        logger.log(LogLevel.WARN, ...params);\n    },\n    error(...params) {\n        logger.log(LogLevel.ERROR, ...params);\n    },\n    log(level, ...params) {\n        // If given a single function as a param, call it and log the result\n        // This allows us to skip computation of expensive log output if it would\n        // not be shown based on the configured level\n        if (params.length === 1 && typeof params[0] === 'function') {\n            params = [params[0]()];\n        }\n        if (configuredLogLevel != null && configuredLogLevel <= level) {\n            console.log(`${LogLevel[level].padEnd(5, ' ')}`, ...params);\n        }\n    },\n};\nexports.default = logger;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* istanbul ignore file - For some reason the constructor can't get 100% coverage on the super call */\n/**\n * To be thrown when failing to connect to a backend.\n */\nclass BackendFetchError extends Error {\n    /**\n     * @param cause The root error emitted by http/https.request\n     */\n    constructor(cause) {\n        super(cause.message);\n        this.type = 'BackendFetchError';\n        this.cause = cause;\n    }\n}\nexports.default = BackendFetchError;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRandomInt = exports.getRandomElement = void 0;\n/**\n * Returns a random element from the source array\n * @param source\n * @returns\n */\nfunction getRandomElement(source) {\n    const index = getRandomInt(source.length);\n    return source[index];\n}\nexports.getRandomElement = getRandomElement;\n/**\n * Returns a random integer between 0 and {max}\n * @param max\n * @returns\n */\nfunction getRandomInt(max) {\n    return Math.floor(Math.random() * max);\n}\nexports.getRandomInt = getRandomInt;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Used to create URL instance with just a path\n */\nconst PLACEHOLDER_HOSTNAME = '__';\nfunction mergeQueryString(requestUrl, targetRedirectOrPath) {\n    // `https://${PLACEHOLDER_HOSTNAME}` is temporarily inserted to make the `URL` object work\n    // with relative path, but is removed from the returned value right after.\n    const requestSearchParams = new URL(requestUrl, `https://${PLACEHOLDER_HOSTNAME}`).searchParams;\n    const targetUrl = new URL(targetRedirectOrPath, `https://${PLACEHOLDER_HOSTNAME}`);\n    // Apply query string from request to the target, except if they are already set explicitly on the target\n    requestSearchParams.forEach((value, key) => {\n        if (!targetUrl.searchParams.get(key)) {\n            targetUrl.searchParams.set(key, value);\n        }\n    });\n    // Keep the target as initially intended, absolute or relative path\n    return targetUrl.hostname === PLACEHOLDER_HOSTNAME\n        ? `${targetUrl.pathname}${targetUrl.search}`\n        : targetUrl.toString();\n}\nexports.default = mergeQueryString;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getEdgioErrorAsHtml = exports.isEdgioError = exports.EdgioError = void 0;\nclass EdgioError extends Error {\n    constructor({ title, message, statusCode, statusMessage, level, details, stack, }) {\n        super(`${title}: ${message}`);\n        this.statusCode = statusCode;\n        this.statusMessage = statusMessage || title;\n        this.title = title;\n        this.message = message;\n        this.level = level || 0;\n        this.details = details;\n        // The stack trace of the original error\n        // if the error was caught and wrapped,\n        // so we don't lose the context.\n        this.stack = stack || this.details || this.stack;\n    }\n    render(options = {}) {\n        var _a;\n        let values = {\n            title: this.title,\n            message: this.message,\n            statusCode: this.statusCode,\n            statusMessage: this.statusMessage,\n            level: this.level,\n            details: this.details,\n        };\n        if (options === null || options === void 0 ? void 0 : options.requestId)\n            values.requestId = options.requestId;\n        if (options === null || options === void 0 ? void 0 : options.includeStack)\n            values.stack = (_a = this.stack) === null || _a === void 0 ? void 0 : _a.split('\\n');\n        if (options.type === 'json') {\n            return JSON.stringify(values, null, 2);\n        }\n        return (0, exports.getEdgioErrorAsHtml)(values);\n    }\n    getType() {\n        return 'EdgioError';\n    }\n}\nexports.EdgioError = EdgioError;\nconst isEdgioError = (error) => {\n    return error.getType && error.getType() === 'EdgioError';\n};\nexports.isEdgioError = isEdgioError;\n/**\n * Returns a string of HTML content for the EdgioError\n * with inserted values.\n * @param values\n * @returns {string}\n */\nconst getEdgioErrorAsHtml = (values) => `\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <meta name=\"viewport\" content=\"width=device-width\">\n  <title>${values.title}</title>\n  <style>\n    html, body, div, span, applet, object, iframe,\n    h1, h2, h3, h4, h5, h6, p, blockquote, pre,\n    a, abbr, acronym, address, big, cite, code,\n    del, dfn, em, img, ins, kbd, q, s, samp,\n    small, strike, strong, sub, sup, tt, var,\n    b, u, i, center,\n    dl, dt, dd, ol, ul, li,\n    fieldset, form, label, legend,\n    table, caption, tbody, tfoot, thead, tr, th, td,\n    article, aside, canvas, details, embed,\n    figure, figcaption, footer, header, hgroup,\n    menu, nav, output, ruby, section, summary,\n    time, mark, audio, video {\n      margin: 0;\n      padding: 0;\n      border: 0;\n      font-size: 100%;\n      font: inherit;\n      vertical-align: baseline;\n    }\n    article, aside, details, figcaption, figure,\n    footer, header, hgroup, menu, nav, section {\n      display: block;\n    }\n    body {\n      line-height: 1;\n    }\n    ol, ul {\n      list-style: none;\n    }\n    blockquote, q {\n      quotes: none;\n    }\n    blockquote:before, blockquote:after,\n    q:before, q:after {\n      content: '';\n      content: none;\n    }\n    table {\n      border-collapse: collapse;\n      border-spacing: 0;\n    }\n    :root {\n      --primary-bg-color: #fff;\n      --primary-fg--color: #000;\n      --primary-path-color: rgba(0,0,0,0.15);\n      --secondary-path-color: rgba(0,0,0,0.08);\n    }\n    @media (prefers-color-scheme: dark) {\n      :root {\n        --primary-bg-color: #202020;\n        --primary-fg--color: #fff;\n        --primary-path-color: rgba(255,255,255,0.15);\n        --secondary-path-color: rgba(255,255,255,0.08);\n      }\n    }\n    body {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-direction: column;\n      font-family: \"Inter\", sans-serif;\n      min-height: 90vh;\n      text-align: center;\n      font-weight: 300;\n      line-height: 1.4;\n      font-size: calc(14px + 0.25vw);\n      overflow-x: hidden;\n      overflow-y: auto;\n      background: var(--primary-bg-color);\n      color: var(--primary-fg--color);\n    }\n    h1 {\n      font-size: 2em;\n      font-weight: 500;\n      margin: 0.75em 0;\n    }\n    p{\n      margin: 0.8em 0;\n    }\n    a {\n        color: #37a2e2;\n        text-decoration: none;\n    }\n    a:hover {\n        text-decoration: underline;\n    }\n    .request-id, .error-details, .details {\n        opacity: 0.7;\n        margin: 0.25em 0 0 0;\n        font-size: 0.9em;\n    }\n    .container{\n      width: 100%;\n      max-width: 45em;\n      padding: 6em 2em 2em 2em;\n      text-align: center;\n      background: var(--primary-bg-color);\n      box-sizing: border-box;\n      position: relative;\n      @media (max-width: 45em) {\n        overflow: hidden;\n      }\n    }\n    .container::before{\n      content:'';\n      left:50%;\n      top:50%;\n      transform: translate(-50%, -50%);\n      position: absolute;\n      display: block;\n      width:100vw;\n      height:0.5em;\n      background: linear-gradient(to left, rgba(0,0,0,0) 0%, var(--primary-path-color) 10%, var(--primary-path-color) 90%, rgba(0,0,0,0) 100%);\n      z-index:-1;\n    }\n    .logo{\n      display: block;\n      margin: 2em auto 0 auto;\n      height: 4.5em;\n    }\n    .sites-logo{\n      display: block;\n      position: sticky;\n      margin: 2em auto 0 auto;\n      height: 1.5em;\n      color: var(--primary-path-color);\n    }\n    .cable svg{\n      width: 6em;\n      height: auto;\n      position: absolute;\n      top:50%;\n      transform: translate(0, -50%);\n      background: var(--primary-bg-color);\n      color: var(--primary-path-color);\n    }\n    .cable .left-plug{\n      left:-6em;\n    }\n    .cable .right-plug{\n      right:-6em;\n    }\n  </style>\n  <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n  <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n  <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;500&display=swap\" rel=\"stylesheet\">\n</head>\n<body>\n  <div class=\"container\">\n    <!--  \n    <svg class=\"sites-logo\" xmlns=\"http://www.w3.org/2000/svg\" width=\"318\" height=\"96\" viewBox=\"0 0 318 96\" fill=\"none\">\n      <g clip-path=\"url(#clip0_842_606)\"><path d=\"M215.333 87.9768L213.268 87.9746C205.172 87.8097 197.92 84.1178 192.96 78.345C192.746 78.0958 192.455 77.6247 192.507 76.9428C192.56 76.261 192.967 75.7465 193.22 75.5461L200.565 69.733C200.81 69.5389 201.334 69.2858 201.86 69.3162C202.416 69.3482 202.974 69.6752 203.175 69.8965C205.824 72.8077 209.568 74.647 213.568 74.647L215.333 74.6435C218.647 74.6435 221.333 71.9572 221.333 68.6435C221.333 65.3298 218.647 62.6435 215.333 62.6435H210.666C200.298 62.2809 192 53.7646 192 43.3102C192 32.6327 200.642 24.0001 211.32 24.0001H211.987C220.083 24.1649 227.464 27.8591 232.424 33.6319C232.638 33.8811 232.929 34.3522 232.876 35.034C232.824 35.7159 232.417 36.2304 232.164 36.4307L224.819 42.2438C224.574 42.4379 224.05 42.691 223.524 42.6607C222.968 42.6287 222.41 42.3017 222.209 42.0804C219.56 39.1691 215.816 37.3299 211.816 37.3299L210.879 37.3272C207.777 37.5593 205.333 40.1493 205.333 43.3102C205.333 46.6239 208.019 49.3102 211.333 49.3102H216C226.369 49.6735 234.666 58.1895 234.666 68.6435C234.666 79.321 226.011 87.9768 215.333 87.9768ZM23.3333 87.9768L21.2686 87.9746C13.1717 87.8097 5.9201 84.1178 0.960054 78.345C0.745895 78.0958 0.455309 77.6247 0.50771 76.9428C0.560111 76.261 0.967351 75.7465 1.22052 75.5461L8.56483 69.733C8.81007 69.5389 9.33408 69.2858 9.86037 69.3162C10.4165 69.3482 10.9743 69.6752 11.1756 69.8965C13.8238 72.8077 17.5682 74.647 21.5681 74.647L23.3333 74.6435C26.647 74.6435 29.3333 71.9572 29.3333 68.6435C29.3333 65.3298 26.647 62.6435 23.3333 62.6435H18.6666C8.2979 62.2809 0 53.7646 0 43.3102C0 32.6327 8.64271 24.0001 19.3202 24.0001H19.9869C28.0837 24.1649 35.4643 27.8591 40.4243 33.6319C40.6385 33.8811 40.929 34.3522 40.8766 35.034C40.8242 35.7159 40.417 36.2304 40.1638 36.4307L32.8195 42.2438C32.5743 42.4379 32.0503 42.691 31.524 42.6607C30.9679 42.6287 30.41 42.3017 30.2087 42.0804C27.5605 39.1691 23.8162 37.3299 19.8162 37.3299L18.879 37.3272C15.7775 37.5593 13.3333 40.1493 13.3333 43.3102C13.3333 46.6239 16.0196 49.3102 19.3333 49.3102H24C34.3694 49.6735 42.6666 58.1895 42.6666 68.6435C42.6666 79.321 34.0108 87.9768 23.3333 87.9768ZM62.1113 21.7501C62.9858 21.0752 64.2417 21.237 64.9166 22.1115C65.1867 22.4615 65.3333 22.8912 65.3333 23.3334V85.3333C65.3333 86.8061 64.1394 88 62.6666 88H54.6666C53.1938 88 51.9999 86.8061 51.9999 85.3333V30.8639C51.9999 30.0375 52.3831 29.2577 53.0374 28.7528L62.1113 21.7501ZM62.6666 2.66676C64.1394 2.66676 65.3333 3.86067 65.3333 5.33342V13.3334C65.3333 14.8062 64.1394 16.0001 62.6666 16.0001H54.6666C53.1938 16.0001 51.9999 14.8062 51.9999 13.3334V5.33342C51.9999 3.86067 53.1938 2.66676 54.6666 2.66676H62.6666ZM152 24.0001C169.673 24.0001 184 38.3269 184 56L183.993 56.6509L184 56.7544V58.935C184 60.2605 182.925 61.335 181.6 61.335L160.442 61.3495L134.384 61.3364C133.6 61.335 133.6 62.135 133.904 62.9684C136.613 70.3853 143.653 74.6667 152 74.6667C153.443 74.6667 154.849 74.5679 156.201 74.3463C160.194 73.5214 163.652 71.4885 166.266 68.6925L166.48 68.457C166.889 68.0624 167.323 67.8534 167.782 67.8299C168.515 67.7923 168.931 68.0926 169.091 68.2077L176.446 73.5072C176.793 73.7574 177.135 74.2112 177.213 74.6667C177.331 75.3496 177.188 75.9277 176.784 76.4009C172.117 82.0583 165.519 86.1355 157.77 87.5019C156.561 87.7149 155.357 87.8565 154.16 87.9296L153.732 87.9539C153.158 87.9845 152.581 88 152 88C134.327 88 120 73.6731 120 56C120 38.3269 134.327 24.0001 152 24.0001ZM91.5832 0.778181C91.8534 1.12823 91.9999 1.55793 91.9999 2.00009V23.9774L119.333 23.9769C119.766 23.9769 120.187 24.1173 120.533 24.3769C121.417 25.0396 121.596 26.2932 120.933 27.1769L115.667 36.6436C115.289 37.1472 114.696 37.4435 114.066 37.4435L91.9999 37.3227V67.9768C91.9999 71.5618 94.8296 74.4859 98.3774 74.6373L98.6666 74.6435H108C109.473 74.6435 110.667 75.8374 110.667 77.3102V85.3102C110.667 86.7829 109.473 87.9768 108 87.9768H98.6666C87.8521 87.9768 79.0424 79.3935 78.6783 68.6677L78.6666 9.5306C78.6666 8.70416 79.0498 7.92442 79.704 7.4195L88.778 0.41677C89.6524 -0.258074 90.9084 -0.096265 91.5832 0.778181ZM152 37.3334C145.383 37.3334 139.588 40.8475 136.377 46.1112L136.158 46.4812C135.315 47.8735 135.885 47.9895 136.572 47.9992H167.427C168.084 47.9899 168.633 47.8837 167.948 46.6626L167.842 46.4805C164.681 41.0125 158.77 37.3334 152 37.3334ZM264 26.6667L264 45.3334C254.732 43.2306 247.437 35.9354 245.333 26.6678L264 26.6667ZM272 26.6667L272 45.3334C281.268 43.2306 288.563 35.9354 290.667 26.6678L272 26.6667ZM264 0.000371257L263.999 18.6667L245.333 18.667C247.436 9.39898 254.732 2.10322 264 0.000371257ZM288 9.72848e-05C289.472 9.72848e-05 290.666 1.194 290.666 2.66676V18.6667H272V9.72848e-05H288Z\" fill=\"currentColor\"/></g><defs><clipPath id=\"clip0_842_606\"><rect width=\"317.091\" height=\"96\" fill=\"currentColor\"/></clipPath></defs>\n    </svg>\n    -->\n    <div class=\"content\">\n      <h1>${values.title}</h1>\n      <p>This website is having some trouble presenting content. Please try again later.</p>\n      <p>${values.message}</p>\n      ${values.details ? `<div class=\"details\">Details: ${values.details}</div>` : ''}\n      ${values.requestId ? `<div class=\"request-id\">Request ID: ${values.requestId}</div>` : ''}\n      <div class=\"error-details\">\n        Error Code: ${values.statusCode} | Error Level: ${values.level}\n      </div>\n      <svg class=\"logo\" version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 1857.6 770.5\" xml:space=\"preserve\" height=\"100\" fill=\"none\">\n        <defs>\n          <linearGradient id=\"gradient\">\n            <stop offset=\"0%\" stop-color=\"#80288e\" />\n            <stop offset=\"50%\" stop-color=\"#128fb2\" />\n            <stop offset=\"100%\" stop-color=\"#00ac75\" />\n          </linearGradient>\n        </defs>\n        <g>\n          <path style=\"fill:url(#gradient)\" d=\"M391.2,122.6l58.5-106.1H0v580.3h384.7l-58.5-106.1H115.6V357.3h202l32.5-106.2H115.6V122.6H391.2z    M670.7,94.8v142.3c-19.8-23.7-45.7-41.4-80.4-48.9c-12.4-2.5-25-3.8-37.7-3.8c-111.1,0-194.4,90.8-194.4,211.4   c0,7.9,0.4,15.7,1.1,23.4c9.9,108.8,89.5,187.9,193.2,187.9c55.1,0,93.7-21.9,120.2-54.7v44.4h105.7V0L670.7,94.8z M572.5,506.5   c-63.4,0-103.6-49.3-103.6-110.7s40.2-110.7,103.6-110.7c61.8,0,103.7,47.3,103.7,110.7S634.3,506.5,572.5,506.5z M1128.5,195.2   v44.8c-27.8-34.4-68-55.5-124.3-55.5c-97.8,0-184.9,81.6-184.9,205.2c0,123.1,87.1,204.7,184.9,204.7c4.1,0,8.1-0.1,12-0.4h13.1   c49.7-2.7,72.7-22.8,98.5-53.8v28.2c0,69.7-47.3,106.5-114.4,106.5c-23,0.1-45.8-3.3-67.8-10.1L871.1,739   c42.5,20.8,95.7,31.5,146.7,31.5c132.6,0,216.8-77.5,216.8-206.8V195.2L1128.5,195.2z M1031.5,494.9   c-61.7,0-101.1-47.3-101.1-105.3c0-58.5,39.4-105.7,101.1-105.7c60.1,0,100.8,45.6,100.8,105.7   C1132.3,449.2,1091.6,494.9,1031.5,494.9L1031.5,494.9z M1280.7,290.4v306.4h108.2V195.2L1280.7,290.4z M1640,184.4   c-124.8,0-216.8,90.4-216.8,211.4s92,211.4,216.8,211.4c125.2,0,217.6-90.4,217.6-211.4S1765.2,184.4,1640,184.4L1640,184.4z    M1640,506.4c-60.9,0-106.6-45.6-106.6-110.7s45.6-110.6,106.6-110.6c61.3,0,106.9,45.6,106.9,110.7S1701.3,506.5,1640,506.4   L1640,506.4z M1388.9,168.6h-108.2V60.5h108.2V168.6z\"/>\n        </g>\n      </svg>\n      <div class=\"cable\">\n        <svg class=\"left-plug\" width=\"75\" height=\"50\" viewBox=\"0 0 75 50\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\">\n          <defs>\n            <clipPath id=\"clip0_1_10\">\n              <rect id=\"svg_1\" fill=\"white\" height=\"49\" width=\"864\"/>\n            </clipPath>\n          </defs>\n          <g>\n            <title>Layer 1</title>\n            <path id=\"svg_3\" fill=\"currentColor\" d=\"m15.48622,35.72007l-10.75293,0c-1.23267,0 -2.41468,-0.5752 -3.28684,-1.5991c-0.87131,-1.0239 -1.361,-2.4126 -1.361,-3.8607l0,-9.6756c0,-0.7889 0.14691,-1.5683 0.4289,-2.2843c0.28115,-0.716 0.69232,-1.3515 1.20396,-1.8623l0,0c0.84007,-0.8436 1.90979,-1.3064 3.01498,-1.3049l10.75293,0l0,20.5869z\"/>\n            <path id=\"svg_4\" fill=\"currentColor\" d=\"m48.01045,46.48487l-25.437,0c-0.934,0 -1.859,-0.1825 -2.722,-0.5372c-0.863,-0.3548 -1.647,-0.8747 -2.308,-1.5301c-0.66,-0.6554 -1.184,-1.4334 -1.542,-2.2897c-0.357,-0.8562 -0.54,-1.7739 -0.54,-2.7006l0,-28.004c0,-0.92653 0.183,-1.84408 0.541,-2.70018c0.357,-0.85611 0.881,-1.63398 1.541,-2.28916c0.661,-0.65518 1.445,-1.17482 2.308,-1.52923c0.863,-0.35442 1.788,-0.53665 2.722,-0.53629l25.437,0l0,42.11646z\"/>\n            <path id=\"svg_5\" fill=\"currentColor\" d=\"m48.01245,2.59915l0,45.63842c0,0.9283 0.759,1.6808 1.695,1.6808l2.213,0c0.936,0 1.694,-0.7525 1.694,-1.6808l0,-45.63842c0,-0.92827 -0.758,-1.68078 -1.694,-1.68078l-2.213,0c-0.936,0 -1.695,0.75251 -1.695,1.68078z\"/>\n            <path id=\"svg_6\" fill=\"currentColor\" d=\"m53.61145,19.09747l0,-7.1876l17.313,0c0.961,0 1.882,0.3786 2.562,1.0526c0.679,0.6739 1.061,1.588 1.061,2.5412l0,0c0,0.9531 -0.382,1.8672 -1.061,2.5412c-0.68,0.6739 -1.601,1.0526 -2.562,1.0526l-17.313,0z\"/>\n            <path id=\"svg_7\" fill=\"currentColor\" d=\"m74.54445,35.33037c0,0.9531 -0.382,1.8672 -1.061,2.5411c-0.679,0.674 -1.601,1.0526 -2.562,1.0526l-17.298,0l0,-7.1875l17.301,0c0.96,0.0007 1.881,0.3796 2.56,1.0535c0.679,0.6739 1.06,1.5876 1.06,2.5403z\"/>\n            <path id=\"svg_8\" fill=\"currentColor\" d=\"m48.01045,46.48487l-25.437,0c-0.934,0 -1.859,-0.1825 -2.722,-0.5372c-0.863,-0.3548 -1.647,-0.8747 -2.308,-1.5301c-0.66,-0.6554 -1.184,-1.4334 -1.542,-2.2897c-0.357,-0.8562 -0.54,-1.7739 -0.54,-2.7006l0,-28.004c0,-0.92653 0.183,-1.84408 0.541,-2.70018c0.357,-0.85611 0.881,-1.63398 1.541,-2.28916c0.661,-0.65518 1.445,-1.17482 2.308,-1.52923c0.863,-0.35442 1.788,-0.53665 2.722,-0.53629c2.118,30.25146 25.437,33.02976 25.437,33.02976l0,9.0867z\"/>\n            <path id=\"svg_9\" fill=\"currentColor\" d=\"m37.25845,46.48487l-14.685,0c-0.934,0 -1.859,-0.1825 -2.722,-0.5372c-0.863,-0.3548 -1.647,-0.8747 -2.308,-1.5301c-0.66,-0.6554 -1.184,-1.4334 -1.542,-2.2897c-0.357,-0.8562 -0.54,-1.7739 -0.54,-2.7006l0,-19.6691c0,19.8626 21.797,26.7267 21.797,26.7267z\"/>\n            <path id=\"svg_10\" fill=\"currentColor\" d=\"m15.46145,35.72007l-9.871,0c-1.46,0 -2.86,-0.5752 -3.893,-1.5991c-1.032,-1.0239 -1.612,-2.4126 -1.612,-3.8607l0,-9.6756c0,-0.7889 0.174,-1.5683 0.508,-2.2843c0.333,-0.716 0.82,-1.3515 1.426,-1.8623l0,0c-1.867,15.0939 13.442,17.3995 13.442,17.3995l0,1.8825z\"/>\n          </g>\n        </svg>\n        <svg class=\"right-plug\" width=\"75\" height=\"50\" viewBox=\"0 0 75 50\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\">\n        <defs>\n          <clipPath id=\"clip0_1_10\">\n            <rect width=\"864\" height=\"49\" fill=\"white\" id=\"svg_1\"/>\n          </clipPath>\n        </defs>\n        <g>\n          <title>Layer 2</title>\n          <path fill=\"currentColor\" d=\"m59.50468,35.73201l10.73944,0c0.60975,0.0004 1.21361,-0.1405 1.77697,-0.4148c0.56337,-0.2742 1.07529,-0.6763 1.5071,-1.1833c0.43096,-0.507 0.77337,-1.109 1.00698,-1.7716c0.23277,-0.6626 0.35337,-1.3728 0.35337,-2.0901l0,-9.6756c-0.00084,-0.7888 -0.14675,-1.5681 -0.42843,-2.284c-0.28168,-0.7159 -0.6924,-1.3514 -1.20264,-1.8626l0,0c-0.83915,-0.8444 -1.90685,-1.3074 -3.01082,-1.3049l-10.73944,0l-0.00253,20.5869z\" id=\"svg_3\"/>\n          <path fill=\"currentColor\" d=\"m26.96155,46.49681l25.439,0c1.887,-0.0007 3.696,-0.7446 5.029,-2.0681c1.334,-1.3235 2.083,-3.1182 2.083,-4.9895l0,-28.004c0,-1.87104 -0.749,-3.66548 -2.083,-4.98853c-1.334,-1.32305 -3.143,-2.06633 -5.029,-2.06633l-25.439,0l0,42.11646z\" id=\"svg_4\"/>\n          <path fill=\"currentColor\" d=\"m21.36255,2.61109l0,45.63842c0,0.9283 0.758,1.6808 1.694,1.6808l2.213,0c0.936,0 1.695,-0.7525 1.695,-1.6808l0,-45.63842c0,-0.92827 -0.759,-1.68077 -1.695,-1.68077l-2.213,0c-0.936,0 -1.694,0.7525 -1.694,1.68077z\" id=\"svg_5\"/>\n          <path fill=\"currentColor\" d=\"m37.71355,46.49681l14.687,0c1.887,-0.0007 3.696,-0.7446 5.029,-2.0681c1.334,-1.3235 2.083,-3.1182 2.083,-4.9895l0,-19.6691c0,19.8626 -21.799,26.7267 -21.799,26.7267z\" id=\"svg_6\"/>\n          <path fill=\"currentColor\" d=\"m59.51255,35.73201l9.869,0c0.723,0.0004 1.439,-0.1405 2.107,-0.4148c0.668,-0.2742 1.275,-0.6763 1.787,-1.1833c0.511,-0.507 0.917,-1.109 1.194,-1.7716c0.276,-0.6626 0.419,-1.3728 0.419,-2.0901l0,-9.6756c-0.001,-0.7888 -0.174,-1.5681 -0.508,-2.284c-0.334,-0.7159 -0.821,-1.3514 -1.426,-1.8626l0,0c1.867,15.0939 -13.439,17.3995 -13.439,17.3995l-0.003,1.8825z\" id=\"svg_7\"/>\n        </g>\n        </svg>\n      </div>\n    </div>\n  </div>\n</body>\n</html>`;\nexports.getEdgioErrorAsHtml = getEdgioErrorAsHtml;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.limitsLink = exports.jsPerformanceProfilingLink = exports.serverLogsLink = exports.supportLink = void 0;\nexports.supportLink = '<a href=\"https://edg.io/contact-support\">support</a>';\nexports.serverLogsLink = '<a href=\"https://docs.edg.io/guides/v7/logs/server_logs\">server logs</a>';\nexports.jsPerformanceProfilingLink = '<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Performance\">JS performance profiling</a>';\nexports.limitsLink = '<a href=\"https://docs.edg.io/guides/v7/performance/limits\">limits</a>';\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EdgioHeadersOverflowError = void 0;\nconst EdgioError_1 = require(\"./EdgioError\");\nconst edgioErrorLinks_1 = require(\"./edgioErrorLinks\");\n/*\n  This error is triggered when default Node's value (80KB) for the maximum size of the response headers is exceeded.\n  See https://github.com/nodejs/http-parser/blob/678a9e21f11e5ea93e5e17a2302390f88a6a8c46/http_parser.h#L64\n */\nclass EdgioHeadersOverflowError extends EdgioError_1.EdgioError {\n    constructor(details = 'HPE_HEADER_OVERFLOW', stack) {\n        super({\n            statusCode: 542,\n            title: 'Edgio Headers Overflow',\n            message: `The project's cloud function returned HTTP response headers with an overall size greater than 80KB or single header with value greater than 32KB. If you are the website administrator, please use ${edgioErrorLinks_1.serverLogsLink} to debug and decrease the response headers size. See: ${edgioErrorLinks_1.limitsLink}`,\n            level: 1,\n            details,\n            stack,\n        });\n    }\n}\nexports.EdgioHeadersOverflowError = EdgioHeadersOverflowError;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EdgioInternalError = void 0;\nconst EdgioError_1 = require(\"./EdgioError\");\nconst edgioErrorLinks_1 = require(\"./edgioErrorLinks\");\nclass EdgioInternalError extends EdgioError_1.EdgioError {\n    constructor(details, stack, code) {\n        super({\n            statusCode: 530,\n            title: 'Edgio Internal Error',\n            message: `Unexpected error in one of Edgio's cloud function components. If you are the website administrator, please contact the ${edgioErrorLinks_1.supportLink} immediately.`,\n            level: 1,\n            details,\n            stack,\n        });\n    }\n}\nexports.EdgioInternalError = EdgioInternalError;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EdgioNoResponseError = void 0;\nconst EdgioError_1 = require(\"./EdgioError\");\nconst edgioErrorLinks_1 = require(\"./edgioErrorLinks\");\nclass EdgioNoResponseError extends EdgioError_1.EdgioError {\n    constructor(details) {\n        super({\n            statusCode: 536,\n            title: 'Edgio Project No HTTP Response',\n            message: `The project's cloud function returned no response. Common causes are the upstream dropped the connection prematurely, and the upstream took too long to respond. If you are the website administrator, please use ${edgioErrorLinks_1.serverLogsLink} to debug.`,\n            level: 2,\n            details,\n        });\n    }\n}\nexports.EdgioNoResponseError = EdgioNoResponseError;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EdgioNotReadyError = void 0;\nconst EdgioError_1 = require(\"./EdgioError\");\nconst edgioErrorLinks_1 = require(\"./edgioErrorLinks\");\nclass EdgioNotReadyError extends EdgioError_1.EdgioError {\n    constructor(details) {\n        super({\n            statusCode: 545,\n            title: 'Edgio Not Ready',\n            message: `One or more Edgio cloud function components are still not ready to receive traffic. Please try it again after a few seconds. If this problem persists, contact the ${edgioErrorLinks_1.supportLink}.`,\n            level: 1,\n            details,\n        });\n    }\n}\nexports.EdgioNotReadyError = EdgioNotReadyError;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EdgioProjectError = void 0;\nconst EdgioError_1 = require(\"./EdgioError\");\nconst edgioErrorLinks_1 = require(\"./edgioErrorLinks\");\nclass EdgioProjectError extends EdgioError_1.EdgioError {\n    constructor(details, stack) {\n        super({\n            statusCode: 534,\n            title: 'Edgio Project Error',\n            message: `The project's cloud function has failed unexpectedly because of uncaught exception somewhere in the user's code or has issued a malformed response. If you are the website administrator, please use ${edgioErrorLinks_1.serverLogsLink} to debug.`,\n            level: 2,\n            details,\n            stack,\n        });\n    }\n}\nexports.EdgioProjectError = EdgioProjectError;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EdgioProjectCrashedError = void 0;\nconst EdgioError_1 = require(\"./EdgioError\");\nconst edgioErrorLinks_1 = require(\"./edgioErrorLinks\");\nclass EdgioProjectCrashedError extends EdgioError_1.EdgioError {\n    constructor(details, stack) {\n        super({\n            statusCode: 549,\n            title: 'Edgio Project Crashed',\n            message: `The project's cloud function crashed unexpectedly because of fatal error in project's code or undesired process.exit call somewhere in the third party code. If you are the website administrator, please use ${edgioErrorLinks_1.serverLogsLink} to debug this issue.`,\n            level: 1,\n            details,\n            stack,\n        });\n    }\n}\nexports.EdgioProjectCrashedError = EdgioProjectCrashedError;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EdgioOutOfResourcesError = void 0;\nconst EdgioError_1 = require(\"./EdgioError\");\nconst edgioErrorLinks_1 = require(\"./edgioErrorLinks\");\nclass EdgioOutOfResourcesError extends EdgioError_1.EdgioError {\n    constructor(details) {\n        super({\n            statusCode: 540,\n            title: 'Edgio Project Out Of Resources',\n            message: `The project's cloud function crashed because of an out-of-memory situation. If you are the website administrator, please use ${edgioErrorLinks_1.serverLogsLink} to debug and lower the resources usage.`,\n            level: 1,\n            details,\n        });\n    }\n}\nexports.EdgioOutOfResourcesError = EdgioOutOfResourcesError;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EdgioProjectTimeoutError = void 0;\nconst EdgioError_1 = require(\"./EdgioError\");\nconst edgioErrorLinks_1 = require(\"./edgioErrorLinks\");\nclass EdgioProjectTimeoutError extends EdgioError_1.EdgioError {\n    constructor(details) {\n        super({\n            statusCode: 539,\n            title: 'Edgio Project Timeout',\n            message: `The project's cloud function did not respond on time, either due to slow upstreams, loops or badly handled asynchronous requests in code (e.g. missing \"await\" or call to \"callback\"). If you are the website administrator, please use ${edgioErrorLinks_1.serverLogsLink} and ${edgioErrorLinks_1.jsPerformanceProfilingLink} to debug.`,\n            level: 1,\n            details,\n        });\n    }\n}\nexports.EdgioProjectTimeoutError = EdgioProjectTimeoutError;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EdgioResponseTooLargeError = void 0;\nconst EdgioError_1 = require(\"./EdgioError\");\nconst edgioErrorLinks_1 = require(\"./edgioErrorLinks\");\nclass EdgioResponseTooLargeError extends EdgioError_1.EdgioError {\n    constructor(details) {\n        super({\n            statusCode: 532,\n            title: 'Edgio Project Response Too Large',\n            message: `The project's cloud function returned a response with body size greater than the allowed 6MB uncompressed. If you are the website administrator, please use ${edgioErrorLinks_1.serverLogsLink} to debug and lower the response size. See: ${edgioErrorLinks_1.limitsLink}`,\n            level: 1,\n            details,\n        });\n    }\n}\nexports.EdgioResponseTooLargeError = EdgioResponseTooLargeError;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EdgioUpstreamOriginTimeoutError = void 0;\nconst EdgioError_1 = require(\"./EdgioError\");\nconst edgioErrorLinks_1 = require(\"./edgioErrorLinks\");\nclass EdgioUpstreamOriginTimeoutError extends EdgioError_1.EdgioError {\n    constructor(details, stack) {\n        super({\n            statusCode: 531,\n            title: 'Edgio Upstream Origin Timeout',\n            message: `The project's cloud function timed out while establishing connection with your upstream origin server. If you are the website administrator, please use ${edgioErrorLinks_1.serverLogsLink} to debug.`,\n            level: 2,\n            details,\n            stack,\n        });\n    }\n}\nexports.EdgioUpstreamOriginTimeoutError = EdgioUpstreamOriginTimeoutError;\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./EdgioError\"), exports);\n__exportStar(require(\"./EdgioHeadersOverflowError\"), exports);\n__exportStar(require(\"./EdgioInternalError\"), exports);\n__exportStar(require(\"./EdgioNoResponseError\"), exports);\n__exportStar(require(\"./EdgioNotReadyError\"), exports);\n__exportStar(require(\"./EdgioProjectError\"), exports);\n__exportStar(require(\"./EdgioProjectCrashedError\"), exports);\n__exportStar(require(\"./EdgioOutOfResourcesError\"), exports);\n__exportStar(require(\"./EdgioProjectTimeoutError\"), exports);\n__exportStar(require(\"./EdgioResponseTooLargeError\"), exports);\n__exportStar(require(\"./EdgioUpstreamOriginTimeoutError\"), exports);\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst url_1 = require(\"url\");\nconst http_1 = __importDefault(require(\"http\"));\nconst https_1 = __importDefault(require(\"https\"));\nconst BackendFetchError_1 = __importDefault(require(\"../errors/BackendFetchError\"));\nconst constants_1 = require(\"../constants\");\nconst random_1 = require(\"./random\");\nconst log_1 = __importDefault(require(\"../log\"));\nconst bindParams_1 = __importDefault(require(\"../utils/bindParams\"));\nconst mergeQueryString_1 = __importDefault(require(\"../utils/mergeQueryString\"));\nconst net_1 = require(\"net\");\nconst errors_1 = require(\"../errors\");\n/**\n * Array of response headers that will not be passed over directly from the proxied resource\n *\n * Notes:\n * - transfer-encoding: as it poisons the response which will be formed\n * based on its own transfer-encoding rather than the one received from the Lambda.\n *\n * - content-length: as the actual constant may be changed by buffer proxy\n * (e.g. on moov_debug=true)\n * @private\n */\nconst IGNORE_RESPONSE_HEADERS = ['transfer-encoding', 'content-length'];\n/**\n * @private\n */\nclass Backend {\n    static setImpl(implementation) {\n        impl = implementation;\n    }\n    static create(config, origin) {\n        return new impl(config, origin);\n    }\n    constructor(config, origin) {\n        this.config = config;\n        this.origin = origin;\n        this.hostHeader = origin.override_host_header;\n    }\n    /**\n     * Sends a request using the proxy.\n     * @param req The request being sent.\n     * @param res The response for the request.\n     * @param options Options for this fetch request.\n     */\n    async fetch(req, res, options = {}) {\n        // Create url for proxy with query params added if existing\n        const url = this.getProxyTarget(req);\n        const requestOptions = this.getProxyRequestOptions(url, req, options);\n        log_1.default.debug('[Backend]', 'fetch', requestOptions);\n        return new Promise((resolve, reject) => {\n            const lib = url.protocol === 'https:' ? https_1.default : http_1.default;\n            let metadataApplied = false;\n            const upstreamReq = lib.request(requestOptions, upstreamRes => {\n                const processMetadata = () => {\n                    /**\n                     * Message can end without any data event, therefore we map in both cases.\n                     *\n                     * Tried to use 'readable' event for detection of receiving headers,\n                     * but 'data' event then stops working, so has to be done through this bool.\n                     */\n                    if (!metadataApplied) {\n                        metadataApplied = true;\n                        Object.entries(upstreamRes.headers)\n                            .filter(([name]) => !IGNORE_RESPONSE_HEADERS.includes(name.toLowerCase()))\n                            .forEach(([name, value]) => {\n                            try {\n                                res.setHeader(name, value);\n                            }\n                            catch (e) {\n                                log_1.default.warn(`Could not relay upstream response header ${name} with value ${value}`, e);\n                            }\n                        });\n                        res.statusCode = upstreamRes.statusCode;\n                        res.statusMessage = upstreamRes.statusMessage;\n                        log_1.default.debug('proxy', `[${res.statusCode} ${res.statusMessage}]`, url);\n                    }\n                };\n                upstreamRes\n                    .on('data', async (chunk) => {\n                    try {\n                        processMetadata();\n                        // we need to await writes, as we could do some processing that could be blocking (eg. running some simulator mods)\n                        // also, there's a possibility an error can occur during write, therefore we have to catch it to avoid uncaught errors, and simulator continuation\n                        await res.write(chunk);\n                    }\n                    catch (e) {\n                        reject(e);\n                        upstreamRes.destroy();\n                    }\n                })\n                    .on('end', async () => {\n                    try {\n                        if (upstreamRes.complete) {\n                            processMetadata();\n                            // do not end the response if the status code is 416 (Range Not Satisfiable)\n                            await res.end();\n                            // we need to wait for flush for cases, where error occurs during res.write\n                            await res.waitForFlush();\n                            resolve();\n                        }\n                    }\n                    catch (e) {\n                        reject(e);\n                        upstreamRes.destroy();\n                    }\n                })\n                    .on('error', \n                /* istanbul ignore next */ e => {\n                    reject(new BackendFetchError_1.default(e));\n                })\n                    // Closing the connection before the response is complete\n                    // has different behaviours depending on NodeJs version\n                    // - node 12: triggers a 'close' event on the Request and Response, and an 'end' event on Response in between\n                    // - node 14: triggers a 'close' event on the Request and Response, but no 'end' event on Response anymore\n                    // - node 16: triggers a 'close' event on the Request and Response and an \"aborted\" error on Response in between\n                    // See playground at https://runkit.com/adrien-k/aborted-res-error\n                    //\n                    // We take the most compatible approach, although in v16 and above this should be caught by the 'error' event.\n                    /* istanbul ignore next */\n                    .on('close', \n                /* istanbul ignore next */ () => {\n                    if (!upstreamRes.complete) {\n                        reject(new BackendFetchError_1.default(new Error('The connection was terminated while the message was still being sent')));\n                    }\n                });\n            });\n            upstreamReq.on('error', (e) => {\n                if (e.code === 'HPE_HEADER_OVERFLOW') {\n                    return reject(new errors_1.EdgioHeadersOverflowError(`Upstream origin '${this.origin.name}' headers overflow`));\n                }\n                reject(new BackendFetchError_1.default(e));\n            });\n            upstreamReq.end(req.rawBody);\n        });\n    }\n    /**\n     * Returns proxy configuration for http-proxy\n     * @returns proxy target url\n     */\n    getProxyTarget(req) {\n        let location;\n        if (Array.isArray(this.config.location)) {\n            location = (0, random_1.getRandomElement)(this.config.location);\n        }\n        else {\n            location = this.config.location;\n        }\n        if (typeof location === 'string') {\n            location = { hostname: location };\n        }\n        const { hostname, port } = location;\n        const protocol = hostname.match(/^(127.0.0.1|localhost)(:\\d+)?$/) ? 'http' : 'https';\n        let scheme = this.config.scheme || 'match';\n        if (!['match', 'http', 'https'].includes(scheme)) {\n            throw new Error(`Fetch failed: request.fetchOrigin.hosts[].scheme must be one of 'match', 'http', 'https'`);\n        }\n        if (scheme === 'match') {\n            scheme = protocol === 'https' ? 'https' : 'http';\n        }\n        const host = `${hostname}${port ? `:${port}` : ''}`;\n        const parsed = (0, url_1.parse)(`${scheme}://${host}${req.url}`, true);\n        // Force insecure protocol if header is present\n        if (req.getHeader(constants_1.HTTP_HEADERS.xEdgeProtocol) === 'http') {\n            parsed.protocol = 'http:';\n        }\n        return parsed;\n    }\n    /**\n     * Returns true if the URL points to the local JS backend, otherwise false.\n     * @param url\n     * @returns\n     */\n    isLocal(url) {\n        return url.hostname === constants_1.JS_BACKEND_HOSTNAME;\n    }\n    /**\n     * Returns proxy configuration object for node-fetch\n     * @param originUrl\n     * @param req\n     * @param options\n     */\n    getProxyRequestOptions(originUrl, req, options = {}) {\n        var _a, _b, _c;\n        let agent = null;\n        if (((_a = this.origin.tls_verify) === null || _a === void 0 ? void 0 : _a.allow_self_signed_certs) && originUrl.protocol === 'https:') {\n            // For self signed cert fix on local development S3 bucket\n            agent = new https_1.default.Agent({ rejectUnauthorized: false });\n        }\n        let pathWithQuery = (_b = originUrl.path) !== null && _b !== void 0 ? _b : '/';\n        // Update the path and merge the query params\n        // from the old path together with the params from the new path\n        if (options === null || options === void 0 ? void 0 : options.path) {\n            const updatedPathWithQuery = (0, bindParams_1.default)(typeof options.path === 'function' ? options.path() || '' : options.path, req.params);\n            pathWithQuery = (0, mergeQueryString_1.default)(pathWithQuery !== null && pathWithQuery !== void 0 ? pathWithQuery : '', updatedPathWithQuery);\n        }\n        // Remove empty search query param values\n        if ((options === null || options === void 0 ? void 0 : options.removeEmptySearchParamValues) && originUrl.path) {\n            pathWithQuery = pathWithQuery === null || pathWithQuery === void 0 ? void 0 : pathWithQuery.replace(/=(?=&|$)/gm, '');\n        }\n        const upstreamHeaders = {\n            ...req.headers,\n            // Add additional request headers\n            ...((_c = options === null || options === void 0 ? void 0 : options.headers) !== null && _c !== void 0 ? _c : {}),\n            // In order for TLS verification to work, we should avoid using downstream host header.\n            // We need to try to use the override_host_header property first, then origin hostname from location in case it's domain,\n            // and then fallback to downstream host header.\n            host: this.hostHeader /* origins.override_host_header from edgio.config.js */ ||\n                (!(0, net_1.isIP)(originUrl.hostname)\n                    ? originUrl.host\n                    : undefined) /* origins.hosts.location from edgio.config.js in case it's domain */ ||\n                req.headers['host'] /* downstream host header */,\n        };\n        if (this.isLocal(originUrl)) {\n            // Some libraries, like [is-https](https://github.com/unjs/is-https#behaviour), rely on x-forwarded-proto\n            // to determine if the source request was made securely. This is notably used by Vue Storefront 2. Before\n            // we added this header, API requests made by Vue Storefront 2 from the cloud would attempt to reenter Edgio\n            // using an http POST, which would be redirected to an https GET, which would cause an infinite loop and soaring lambda costs.\n            // Note that we only add x-forwarded-proto for local requests, which never happen over TLS. For remote requests, TLS is used\n            // when the downstream request used TLS. We've chosen to do this in order to avoid altering the public behavior of Edgio, which\n            // has never sent x-forwarded-proto to origins.\n            upstreamHeaders['x-forwarded-proto'] = req.secure ? 'https' : 'http';\n        }\n        // @ts-ignore\n        return {\n            ...originUrl,\n            path: pathWithQuery,\n            method: req.method,\n            // first byte timeout should be available here as it is forced by\n            // ajv on routes matchers\n            timeout: this.config.firstByteTimeout || 0,\n            agent,\n            body: req.rawBody,\n            headers: upstreamHeaders,\n        };\n    }\n}\nexports.default = Backend;\nlet impl = Backend;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst log_1 = __importDefault(require(\"../log\"));\nconst Backend_1 = __importDefault(require(\"./Backend\"));\nconst random_1 = require(\"./random\");\nclass Origin {\n    constructor(config) {\n        this.config = config;\n    }\n    async fetch(request, response, options = {}) {\n        const hostConfig = this.selectHost();\n        const host = Backend_1.default.create(hostConfig, this.config);\n        return host.fetch(request, response, options);\n    }\n    /**\n     * Selects a backend based on the \"balancer\" property\n     */\n    selectHost() {\n        const { balancer } = this.config;\n        if ('static_weighted' === balancer) {\n            return this.config.hosts[0];\n        }\n        else if ('round_robin' === balancer) {\n            // TODO instead of calling a random one, iterate through indexes for each call\n            return (0, random_1.getRandomElement)(this.config.hosts);\n        }\n        else {\n            // TODO implement other load balancing strategies, static_weighted\n            if (balancer) {\n                log_1.default.warn(`balancer type \"${balancer}\" is not supported during local development, falling back to \"static_weighted\".`);\n            }\n            return this.config.hosts[0];\n        }\n    }\n}\nexports.default = Origin;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Origin_1 = __importDefault(require(\"./Origin\"));\nconst constants_1 = require(\"../constants\");\nconst BackendFetchError_1 = __importDefault(require(\"../errors/BackendFetchError\"));\nconst errors_1 = require(\"../errors\");\nconst log_1 = __importDefault(require(\"../log\"));\n/**\n * Helper class for fetching from origins\n * which allows to follow redirects to different origin.\n *\n * All redirect locations need to be configured in the edgio.config.js with exact hostname in\n * hostnames section otherwise the default origin will be used.\n *\n */\nclass OriginFetcher {\n    constructor(propertyContext) {\n        this.propertyContext = propertyContext;\n    }\n    /**\n     * Fetches a response from the origin and follows redirects based on provided options.\n     * @param req The request\n     * @param res The response\n     * @param options Additional options for this single fetch request\n     * @param providedOriginName The origin name to be used. If not provided, the origin name will be extracted from the request.\n     */\n    async fetch(req, res, options, providedOriginName) {\n        options = options || {};\n        const originName = providedOriginName || this.propertyContext.getDefaultOrigin(req);\n        const originConfig = this.propertyContext.getOrigin(originName);\n        if (!originConfig) {\n            throw new errors_1.EdgioProjectError(`Upstream origin '${originName}' doesn't exist.`);\n        }\n        try {\n            await new Origin_1.default(originConfig).fetch(req, res, options);\n        }\n        catch (e) {\n            // BackendFetchErrors are expected errors.\n            // We need to handle them to allow Router.catch retries,\n            // response manipulation in transformResponse, etc.\n            if (e instanceof BackendFetchError_1.default) {\n                log_1.default.error(`[OriginFetcher] Upstream origin '${originName}' fetch failed: ${e.message}`);\n                return convertBackendErrorToResponse(e, res);\n            }\n            throw e;\n        }\n        // if we get 416, we're out of range -> we refetch full asset if ignoreUnsatisfiableRanges\n        if (res.statusCode === 416 && options.ignoreUnsatisfiableRanges) {\n            req.removeHeader(constants_1.HTTP_HEADERS.range);\n            res.clear();\n            return this.fetch(req, res, options);\n        }\n    }\n    /**\n     * Removes sensitive headers from the request.\n     * @param req\n     */\n    removeSensitiveHeaders(req) {\n        req.removeHeader('authorization');\n        req.removeHeader('cookie');\n    }\n}\nexports.default = OriginFetcher;\nfunction convertBackendErrorToResponse(e, res) {\n    var _a;\n    res.clear();\n    res.clearHeaders();\n    res.setHeader(constants_1.HTTP_HEADERS.xEdgServerlessError, e.message);\n    if (((_a = e.cause) === null || _a === void 0 ? void 0 : _a.code) === 'ETIMEDOUT') {\n        res.statusCode = 504;\n        res.statusMessage = 'Gateway Timeout';\n        res.body = '504 - Gateway Timeout';\n        return;\n    }\n    res.statusCode = 502;\n    res.statusMessage = 'Bad Gateway';\n    res.body = '502 - Bad Gateway';\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * `isEmpty` function instead of importing lodash.\n *\n * Note that this function is not entirely equivalent to lodash's but it uses far less space in the bundle.\n */\nfunction isEmpty(value) {\n    if (!value) {\n        return true;\n    }\n    if (typeof value.length === 'number') {\n        return !value.length;\n    }\n    if (typeof value === 'object' && Object.keys(value).length) {\n        return false;\n    }\n    return true;\n}\nexports.default = isEmpty;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.paramMatcherToParam = exports.isParamMatcher = void 0;\n/**\n * Returns true if the value is a matcher that is used to extract\n * request params, like ':id' or ':path'\n * @param value\n */\nfunction isParamMatcher(value) {\n    return typeof value === 'string' && /^:\\w+$/.test(value);\n}\nexports.isParamMatcher = isParamMatcher;\n/**\n * Transform a route param matcher to the param name\n * ex: ':id' -> 'id'\n * @param value\n */\nfunction paramMatcherToParam(value) {\n    return value.slice(1);\n}\nexports.paramMatcherToParam = paramMatcherToParam;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst RouteCriteria_1 = require(\"./RouteCriteria\");\nconst path_to_regexp_1 = require(\"path-to-regexp\");\nconst universalRouteUtils_1 = require(\"../utils/universalRouteUtils\");\nclass ParamsExtractor {\n    constructor(routeCriteria) {\n        this.routeCriteria = {};\n        this.updateRouteCriteria(routeCriteria);\n    }\n    updateRouteCriteria(routeCriteria) {\n        this.routeCriteria = {\n            path: routeCriteria === null || routeCriteria === void 0 ? void 0 : routeCriteria.path,\n            query: routeCriteria === null || routeCriteria === void 0 ? void 0 : routeCriteria.query,\n        };\n    }\n    /**\n     * Returns the object with extracted params from request path and query matched by latest routeCriteria\n     * @returns\n     */\n    extract(request) {\n        var _a, _b;\n        return {\n            ...(((_a = this.routeCriteria) === null || _a === void 0 ? void 0 : _a.path) && !(0, RouteCriteria_1.isNegation)(this.routeCriteria.path)\n                ? ParamsExtractor.getMatchedPathParams(this.routeCriteria.path, request.path)\n                : {}),\n            ...(((_b = this.routeCriteria) === null || _b === void 0 ? void 0 : _b.query)\n                ? ParamsExtractor.getMatchedQueryParams(this.routeCriteria.query, request.query)\n                : {}),\n        };\n    }\n    /**\n     * Returns params from request path matched by route criteria path\n     * @param criteriaPath\n     * @param requestPath\n     * @returns\n     */\n    static getMatchedPathParams(criteriaPath, requestPath) {\n        // When criteriaPath is a RegExp, we extract matched groups from requestPath\n        // and expose them in params object under \"$\" key.\n        // Example: $1 => req.params.$[1]\n        if (criteriaPath instanceof RegExp)\n            return {\n                $: criteriaPath.exec(requestPath) || [],\n            };\n        if (Array.isArray(criteriaPath))\n            return undefined;\n        const pathMatcher = (0, path_to_regexp_1.match)(criteriaPath.toString(), { decode: decodeURIComponent });\n        const result = pathMatcher(requestPath);\n        return result ? result.params : undefined;\n    }\n    /**\n     * Returns params from request query matched by route criteria query\n     * @param criteriaQuery object of routeCriteria queries\n     * @param requestQuery object of parsed queries\n     * @returns\n     */\n    static getMatchedQueryParams(criteriaQuery, requestQuery) {\n        let extractedParams = {};\n        if (typeof requestQuery !== 'object')\n            return extractedParams;\n        for (const criteriaQueryKey in criteriaQuery) {\n            const criteriaQueryValue = criteriaQuery[criteriaQueryKey];\n            if (typeof criteriaQueryValue !== 'string' || !(0, universalRouteUtils_1.isParamMatcher)(criteriaQueryValue))\n                continue;\n            const paramName = (0, universalRouteUtils_1.paramMatcherToParam)(criteriaQueryValue);\n            extractedParams = {\n                ...extractedParams,\n                [paramName]: requestQuery[paramName],\n            };\n        }\n        return extractedParams;\n    }\n}\nexports.default = ParamsExtractor;\n", "'use strict';\n\n/** @type {import('./type')} */\nmodule.exports = TypeError;\n", "module.exports = require('util').inspect;\n", "var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nvar quotes = {\n    __proto__: null,\n    'double': '\"',\n    single: \"'\"\n};\nvar quoteREs = {\n    __proto__: null,\n    'double': /([\"\\\\])/g,\n    single: /(['\\\\])/g\n};\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && !has(quotes, opts.quoteStyle)) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        if (mapForEach) {\n            mapForEach.call(obj, function (value, key) {\n                mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n            });\n        }\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        if (setForEach) {\n            setForEach.call(obj, function (value) {\n                setParts.push(inspect(value, obj));\n            });\n        }\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    // note: in IE 8, sometimes `global !== window` but both are the prototypes of each other\n    /* eslint-env browser */\n    if (typeof window !== 'undefined' && obj === window) {\n        return '{ [object Window] }';\n    }\n    if (\n        (typeof globalThis !== 'undefined' && obj === globalThis)\n        || (typeof global !== 'undefined' && obj === global)\n    ) {\n        return '{ [object globalThis] }';\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var style = opts.quoteStyle || defaultStyle;\n    var quoteChar = quotes[style];\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction canTrustToString(obj) {\n    return !toStringTag || !(typeof obj === 'object' && (toStringTag in obj || typeof obj[toStringTag] !== 'undefined'));\n}\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && canTrustToString(obj); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && canTrustToString(obj); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && canTrustToString(obj); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && canTrustToString(obj); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && canTrustToString(obj); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && canTrustToString(obj); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && canTrustToString(obj); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    var quoteRE = quoteREs[opts.quoteStyle || 'single'];\n    quoteRE.lastIndex = 0;\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, quoteRE, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n", "'use strict';\n\nvar inspect = require('object-inspect');\n\nvar $TypeError = require('es-errors/type');\n\n/*\n* This function traverses the list returning the node corresponding to the given key.\n*\n* That node is also moved to the head of the list, so that if it's accessed again we don't need to traverse the whole list.\n* By doing so, all the recently used nodes can be accessed relatively quickly.\n*/\n/** @type {import('./list.d.ts').listGetNode} */\n// eslint-disable-next-line consistent-return\nvar listGetNode = function (list, key, isDelete) {\n\t/** @type {typeof list | NonNullable<(typeof list)['next']>} */\n\tvar prev = list;\n\t/** @type {(typeof list)['next']} */\n\tvar curr;\n\t// eslint-disable-next-line eqeqeq\n\tfor (; (curr = prev.next) != null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\tif (!isDelete) {\n\t\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\t\tcurr.next = /** @type {NonNullable<typeof list.next>} */ (list.next);\n\t\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\t}\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\n/** @type {import('./list.d.ts').listGet} */\nvar listGet = function (objects, key) {\n\tif (!objects) {\n\t\treturn void undefined;\n\t}\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\n/** @type {import('./list.d.ts').listSet} */\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = /** @type {import('./list.d.ts').ListNode<typeof value, typeof key>} */ ({ // eslint-disable-line no-param-reassign, no-extra-parens\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t});\n\t}\n};\n/** @type {import('./list.d.ts').listHas} */\nvar listHas = function (objects, key) {\n\tif (!objects) {\n\t\treturn false;\n\t}\n\treturn !!listGetNode(objects, key);\n};\n/** @type {import('./list.d.ts').listDelete} */\n// eslint-disable-next-line consistent-return\nvar listDelete = function (objects, key) {\n\tif (objects) {\n\t\treturn listGetNode(objects, key, true);\n\t}\n};\n\n/** @type {import('.')} */\nmodule.exports = function getSideChannelList() {\n\t/** @typedef {ReturnType<typeof getSideChannelList>} Channel */\n\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t/** @type {import('./list.d.ts').RootNode<V, K> | undefined} */ var $o;\n\n\t/** @type {Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\t'delete': function (key) {\n\t\t\tvar root = $o && $o.next;\n\t\t\tvar deletedNode = listDelete($o, key);\n\t\t\tif (deletedNode && root && root === deletedNode) {\n\t\t\t\t$o = void undefined;\n\t\t\t}\n\t\t\treturn !!deletedNode;\n\t\t},\n\t\tget: function (key) {\n\t\t\treturn listGet($o, key);\n\t\t},\n\t\thas: function (key) {\n\t\t\treturn listHas($o, key);\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (!$o) {\n\t\t\t\t// Initialize the linked list as an empty node, so that we don't have to special-case handling of the first node: we can always refer to it as (previous node).next, instead of something like (list).head\n\t\t\t\t$o = {\n\t\t\t\t\tnext: void undefined\n\t\t\t\t};\n\t\t\t}\n\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\tlistSet(/** @type {NonNullable<typeof $o>} */ ($o), key, value);\n\t\t}\n\t};\n\t// @ts-expect-error TODO: figure out why this is erroring\n\treturn channel;\n};\n", "'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Object;\n", "'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Error;\n", "'use strict';\n\n/** @type {import('./eval')} */\nmodule.exports = EvalError;\n", "'use strict';\n\n/** @type {import('./range')} */\nmodule.exports = RangeError;\n", "'use strict';\n\n/** @type {import('./ref')} */\nmodule.exports = ReferenceError;\n", "'use strict';\n\n/** @type {import('./syntax')} */\nmodule.exports = SyntaxError;\n", "'use strict';\n\n/** @type {import('./uri')} */\nmodule.exports = URIError;\n", "'use strict';\n\n/** @type {import('./abs')} */\nmodule.exports = Math.abs;\n", "'use strict';\n\n/** @type {import('./floor')} */\nmodule.exports = Math.floor;\n", "'use strict';\n\n/** @type {import('./max')} */\nmodule.exports = Math.max;\n", "'use strict';\n\n/** @type {import('./min')} */\nmodule.exports = Math.min;\n", "'use strict';\n\n/** @type {import('./pow')} */\nmodule.exports = Math.pow;\n", "'use strict';\n\n/** @type {import('./round')} */\nmodule.exports = Math.round;\n", "'use strict';\n\n/** @type {import('./isNaN')} */\nmodule.exports = Number.isNaN || function isNaN(a) {\n\treturn a !== a;\n};\n", "'use strict';\n\nvar $isNaN = require('./isNaN');\n\n/** @type {import('./sign')} */\nmodule.exports = function sign(number) {\n\tif ($isNaN(number) || number === 0) {\n\t\treturn number;\n\t}\n\treturn number < 0 ? -1 : +1;\n};\n", "'use strict';\n\n/** @type {import('./gOPD')} */\nmodule.exports = Object.getOwnPropertyDescriptor;\n", "'use strict';\n\n/** @type {import('.')} */\nvar $gOPD = require('./gOPD');\n\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n", "'use strict';\n\n/** @type {import('.')} */\nvar $defineProperty = Object.defineProperty || false;\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = false;\n\t}\n}\n\nmodule.exports = $defineProperty;\n", "'use strict';\n\n/** @type {import('./shams')} */\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\t/** @type {{ [k in symbol]?: unknown }} */\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (var _ in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\t// eslint-disable-next-line no-extra-parens\n\t\tvar descriptor = /** @type {PropertyDescriptor} */ (Object.getOwnPropertyDescriptor(obj, sym));\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n", "'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\n/** @type {import('.')} */\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n", "'use strict';\n\n/** @type {import('./Reflect.getPrototypeOf')} */\nmodule.exports = (typeof Reflect !== 'undefined' && Reflect.getPrototypeOf) || null;\n", "'use strict';\n\nvar $Object = require('es-object-atoms');\n\n/** @type {import('./Object.getPrototypeOf')} */\nmodule.exports = $Object.getPrototypeOf || null;\n", "'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar toStr = Object.prototype.toString;\nvar max = Math.max;\nvar funcType = '[object Function]';\n\nvar concatty = function concatty(a, b) {\n    var arr = [];\n\n    for (var i = 0; i < a.length; i += 1) {\n        arr[i] = a[i];\n    }\n    for (var j = 0; j < b.length; j += 1) {\n        arr[j + a.length] = b[j];\n    }\n\n    return arr;\n};\n\nvar slicy = function slicy(arrLike, offset) {\n    var arr = [];\n    for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {\n        arr[j] = arrLike[i];\n    }\n    return arr;\n};\n\nvar joiny = function (arr, joiner) {\n    var str = '';\n    for (var i = 0; i < arr.length; i += 1) {\n        str += arr[i];\n        if (i + 1 < arr.length) {\n            str += joiner;\n        }\n    }\n    return str;\n};\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.apply(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slicy(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                concatty(args, arguments)\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        }\n        return target.apply(\n            that,\n            concatty(args, arguments)\n        );\n\n    };\n\n    var boundLength = max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs[i] = '$' + i;\n    }\n\n    bound = Function('binder', 'return function (' + joiny(boundArgs, ',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n", "'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n", "'use strict';\n\n/** @type {import('./functionCall')} */\nmodule.exports = Function.prototype.call;\n", "'use strict';\n\n/** @type {import('./functionApply')} */\nmodule.exports = Function.prototype.apply;\n", "'use strict';\n\n/** @type {import('./reflectApply')} */\nmodule.exports = typeof Reflect !== 'undefined' && Reflect && Reflect.apply;\n", "'use strict';\n\nvar bind = require('function-bind');\n\nvar $apply = require('./functionApply');\nvar $call = require('./functionCall');\nvar $reflectApply = require('./reflectApply');\n\n/** @type {import('./actualApply')} */\nmodule.exports = $reflectApply || bind.call($call, $apply);\n", "'use strict';\n\nvar bind = require('function-bind');\nvar $TypeError = require('es-errors/type');\n\nvar $call = require('./functionCall');\nvar $actualApply = require('./actualApply');\n\n/** @type {(args: [Function, thisArg?: unknown, ...args: unknown[]]) => Function} TODO FIXME, find a way to use import('.') */\nmodule.exports = function callBindBasic(args) {\n\tif (args.length < 1 || typeof args[0] !== 'function') {\n\t\tthrow new $TypeError('a function is required');\n\t}\n\treturn $actualApply(bind, $call, args);\n};\n", "'use strict';\n\nvar callBind = require('call-bind-apply-helpers');\nvar gOPD = require('gopd');\n\nvar hasProtoAccessor;\ntry {\n\t// eslint-disable-next-line no-extra-parens, no-proto\n\thasProtoAccessor = /** @type {{ __proto__?: typeof Array.prototype }} */ ([]).__proto__ === Array.prototype;\n} catch (e) {\n\tif (!e || typeof e !== 'object' || !('code' in e) || e.code !== 'ERR_PROTO_ACCESS') {\n\t\tthrow e;\n\t}\n}\n\n// eslint-disable-next-line no-extra-parens\nvar desc = !!hasProtoAccessor && gOPD && gOPD(Object.prototype, /** @type {keyof typeof Object.prototype} */ ('__proto__'));\n\nvar $Object = Object;\nvar $getPrototypeOf = $Object.getPrototypeOf;\n\n/** @type {import('./get')} */\nmodule.exports = desc && typeof desc.get === 'function'\n\t? callBind([desc.get])\n\t: typeof $getPrototypeOf === 'function'\n\t\t? /** @type {import('./get')} */ function getDunder(value) {\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\treturn $getPrototypeOf(value == null ? value : $Object(value));\n\t\t}\n\t\t: false;\n", "'use strict';\n\nvar reflectGetProto = require('./Reflect.getPrototypeOf');\nvar originalGetProto = require('./Object.getPrototypeOf');\n\nvar getDunderProto = require('dunder-proto/get');\n\n/** @type {import('.')} */\nmodule.exports = reflectGetProto\n\t? function getProto(O) {\n\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\treturn reflectGetProto(O);\n\t}\n\t: originalGetProto\n\t\t? function getProto(O) {\n\t\t\tif (!O || (typeof O !== 'object' && typeof O !== 'function')) {\n\t\t\t\tthrow new TypeError('getProto: not an object');\n\t\t\t}\n\t\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\t\treturn originalGetProto(O);\n\t\t}\n\t\t: getDunderProto\n\t\t\t? function getProto(O) {\n\t\t\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\t\t\treturn getDunderProto(O);\n\t\t\t}\n\t\t\t: null;\n", "'use strict';\n\nvar call = Function.prototype.call;\nvar $hasOwn = Object.prototype.hasOwnProperty;\nvar bind = require('function-bind');\n\n/** @type {import('.')} */\nmodule.exports = bind.call(call, $hasOwn);\n", "'use strict';\n\nvar undefined;\n\nvar $Object = require('es-object-atoms');\n\nvar $Error = require('es-errors');\nvar $EvalError = require('es-errors/eval');\nvar $RangeError = require('es-errors/range');\nvar $ReferenceError = require('es-errors/ref');\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\nvar $URIError = require('es-errors/uri');\n\nvar abs = require('math-intrinsics/abs');\nvar floor = require('math-intrinsics/floor');\nvar max = require('math-intrinsics/max');\nvar min = require('math-intrinsics/min');\nvar pow = require('math-intrinsics/pow');\nvar round = require('math-intrinsics/round');\nvar sign = require('math-intrinsics/sign');\n\nvar $Function = Function;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = require('gopd');\nvar $defineProperty = require('es-define-property');\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = require('get-proto');\nvar $ObjectGPO = require('get-proto/Object.getPrototypeOf');\nvar $ReflectGPO = require('get-proto/Reflect.getPrototypeOf');\n\nvar $apply = require('call-bind-apply-helpers/functionApply');\nvar $call = require('call-bind-apply-helpers/functionCall');\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t__proto__: null,\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': $Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': $EvalError,\n\t'%Float16Array%': typeof Float16Array === 'undefined' ? undefined : Float16Array,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': $Object,\n\t'%Object.getOwnPropertyDescriptor%': $gOPD,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': $RangeError,\n\t'%ReferenceError%': $ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': $URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\n\t'%Function.prototype.call%': $call,\n\t'%Function.prototype.apply%': $apply,\n\t'%Object.defineProperty%': $defineProperty,\n\t'%Object.getPrototypeOf%': $ObjectGPO,\n\t'%Math.abs%': abs,\n\t'%Math.floor%': floor,\n\t'%Math.max%': max,\n\t'%Math.min%': min,\n\t'%Math.pow%': pow,\n\t'%Math.round%': round,\n\t'%Math.sign%': sign,\n\t'%Reflect.getPrototypeOf%': $ReflectGPO\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t__proto__: null,\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call($call, Array.prototype.concat);\nvar $spliceApply = bind.call($apply, Array.prototype.splice);\nvar $replace = bind.call($call, String.prototype.replace);\nvar $strSlice = bind.call($call, String.prototype.slice);\nvar $exec = bind.call($call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n", "'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBindBasic = require('call-bind-apply-helpers');\n\n/** @type {(thisArg: string, searchString: string, position?: number) => number} */\nvar $indexOf = callBindBasic([GetIntrinsic('%String.prototype.indexOf%')]);\n\n/** @type {import('.')} */\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\t/* eslint no-extra-parens: 0 */\n\n\tvar intrinsic = /** @type {(this: unknown, ...args: unknown[]) => unknown} */ (GetIntrinsic(name, !!allowMissing));\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBindBasic(/** @type {const} */ ([intrinsic]));\n\t}\n\treturn intrinsic;\n};\n", "'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = require('es-errors/type');\nvar $Map = GetIntrinsic('%Map%', true);\n\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => V} */\nvar $mapGet = callBound('Map.prototype.get', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K, value: V) => void} */\nvar $mapSet = callBound('Map.prototype.set', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => boolean} */\nvar $mapHas = callBound('Map.prototype.has', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => boolean} */\nvar $mapDelete = callBound('Map.prototype.delete', true);\n/** @type {<K, V>(thisArg: Map<K, V>) => number} */\nvar $mapSize = callBound('Map.prototype.size', true);\n\n/** @type {import('.')} */\nmodule.exports = !!$Map && /** @type {Exclude<import('.'), false>} */ function getSideChannelMap() {\n\t/** @typedef {ReturnType<typeof getSideChannelMap>} Channel */\n\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t/** @type {Map<K, V> | undefined} */ var $m;\n\n\t/** @type {Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\t'delete': function (key) {\n\t\t\tif ($m) {\n\t\t\t\tvar result = $mapDelete($m, key);\n\t\t\t\tif ($mapSize($m) === 0) {\n\t\t\t\t\t$m = void undefined;\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($m) {\n\t\t\t\treturn $mapGet($m, key);\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($m) {\n\t\t\t\treturn $mapHas($m, key);\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (!$m) {\n\t\t\t\t// @ts-expect-error TS can't handle narrowing a variable inside a closure\n\t\t\t\t$m = new $Map();\n\t\t\t}\n\t\t\t$mapSet($m, key, value);\n\t\t}\n\t};\n\n\t// @ts-expect-error TODO: figure out why TS is erroring here\n\treturn channel;\n};\n", "'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bound');\nvar inspect = require('object-inspect');\nvar getSideChannelMap = require('side-channel-map');\n\nvar $TypeError = require('es-errors/type');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\n\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => V} */\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K, value: V) => void} */\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => boolean} */\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => boolean} */\nvar $weakMapDelete = callBound('WeakMap.prototype.delete', true);\n\n/** @type {import('.')} */\nmodule.exports = $WeakMap\n\t? /** @type {Exclude<import('.'), false>} */ function getSideChannelWeakMap() {\n\t\t/** @typedef {ReturnType<typeof getSideChannelWeakMap>} Channel */\n\t\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t\t/** @type {WeakMap<K & object, V> | undefined} */ var $wm;\n\t\t/** @type {Channel | undefined} */ var $m;\n\n\t\t/** @type {Channel} */\n\t\tvar channel = {\n\t\t\tassert: function (key) {\n\t\t\t\tif (!channel.has(key)) {\n\t\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t\t}\n\t\t\t},\n\t\t\t'delete': function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapDelete($wm, key);\n\t\t\t\t\t}\n\t\t\t\t} else if (getSideChannelMap) {\n\t\t\t\t\tif ($m) {\n\t\t\t\t\t\treturn $m['delete'](key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tget: function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn $m && $m.get(key);\n\t\t\t},\n\t\t\thas: function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn !!$m && $m.has(key);\n\t\t\t},\n\t\t\tset: function (key, value) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif (!$wm) {\n\t\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t\t}\n\t\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t\t} else if (getSideChannelMap) {\n\t\t\t\t\tif (!$m) {\n\t\t\t\t\t\t$m = getSideChannelMap();\n\t\t\t\t\t}\n\t\t\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\t\t\t/** @type {NonNullable<typeof $m>} */ ($m).set(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// @ts-expect-error TODO: figure out why this is erroring\n\t\treturn channel;\n\t}\n\t: getSideChannelMap;\n", "'use strict';\n\nvar $TypeError = require('es-errors/type');\nvar inspect = require('object-inspect');\nvar getSideChannelList = require('side-channel-list');\nvar getSideChannelMap = require('side-channel-map');\nvar getSideChannelWeakMap = require('side-channel-weakmap');\n\nvar makeChannel = getSideChannelWeakMap || getSideChannelMap || getSideChannelList;\n\n/** @type {import('.')} */\nmodule.exports = function getSideChannel() {\n\t/** @typedef {ReturnType<typeof getSideChannel>} Channel */\n\n\t/** @type {Channel | undefined} */ var $channelData;\n\n\t/** @type {Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\t'delete': function (key) {\n\t\t\treturn !!$channelData && $channelData['delete'](key);\n\t\t},\n\t\tget: function (key) {\n\t\t\treturn $channelData && $channelData.get(key);\n\t\t},\n\t\thas: function (key) {\n\t\t\treturn !!$channelData && $channelData.has(key);\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (!$channelData) {\n\t\t\t\t$channelData = makeChannel();\n\t\t\t}\n\n\t\t\t$channelData.set(key, value);\n\t\t}\n\t};\n\t// @ts-expect-error TODO: figure out why this is erroring\n\treturn channel;\n};\n", "'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n", "'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar limit = 1024;\n\n/* eslint operator-linebreak: [2, \"before\"] */\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var j = 0; j < string.length; j += limit) {\n        var segment = string.length >= limit ? string.slice(j, j + limit) : string;\n        var arr = [];\n\n        for (var i = 0; i < segment.length; ++i) {\n            var c = segment.charCodeAt(i);\n            if (\n                c === 0x2D // -\n                || c === 0x2E // .\n                || c === 0x5F // _\n                || c === 0x7E // ~\n                || (c >= 0x30 && c <= 0x39) // 0-9\n                || (c >= 0x41 && c <= 0x5A) // a-z\n                || (c >= 0x61 && c <= 0x7A) // A-Z\n                || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n            ) {\n                arr[arr.length] = segment.charAt(i);\n                continue;\n            }\n\n            if (c < 0x80) {\n                arr[arr.length] = hexTable[c];\n                continue;\n            }\n\n            if (c < 0x800) {\n                arr[arr.length] = hexTable[0xC0 | (c >> 6)]\n                    + hexTable[0x80 | (c & 0x3F)];\n                continue;\n            }\n\n            if (c < 0xD800 || c >= 0xE000) {\n                arr[arr.length] = hexTable[0xE0 | (c >> 12)]\n                    + hexTable[0x80 | ((c >> 6) & 0x3F)]\n                    + hexTable[0x80 | (c & 0x3F)];\n                continue;\n            }\n\n            i += 1;\n            c = 0x10000 + (((c & 0x3FF) << 10) | (segment.charCodeAt(i) & 0x3FF));\n\n            arr[arr.length] = hexTable[0xF0 | (c >> 18)]\n                + hexTable[0x80 | ((c >> 12) & 0x3F)]\n                + hexTable[0x80 | ((c >> 6) & 0x3F)]\n                + hexTable[0x80 | (c & 0x3F)];\n        }\n\n        out += arr.join('');\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n", "'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    allowEmptyArrays: false,\n    arrayFormat: 'indices',\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encodeDotInKeys: false,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar sentinel = {};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    commaRoundTrip,\n    allowEmptyArrays,\n    strictNullHandling,\n    skipNulls,\n    encodeDotInKeys,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    var tmpSc = sideChannel;\n    var step = 0;\n    var findFlag = false;\n    while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) {\n        // Where object last appeared in the ref tree\n        var pos = tmpSc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            } else {\n                findFlag = true; // Break while\n            }\n        }\n        if (typeof tmpSc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        if (encodeValuesOnly && encoder) {\n            obj = utils.maybeMap(obj, encoder);\n        }\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    var encodedPrefix = encodeDotInKeys ? prefix.replace(/\\./g, '%2E') : prefix;\n\n    var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? encodedPrefix + '[]' : encodedPrefix;\n\n    if (allowEmptyArrays && isArray(obj) && obj.length === 0) {\n        return adjustedPrefix + '[]';\n    }\n\n    for (var j = 0; j < objKeys.length; ++j) {\n        var key = objKeys[j];\n        var value = typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var encodedKey = allowDots && encodeDotInKeys ? key.replace(/\\./g, '%2E') : key;\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjustedPrefix, encodedKey) : adjustedPrefix\n            : adjustedPrefix + (allowDots ? '.' + encodedKey : '[' + encodedKey + ']');\n\n        sideChannel.set(object, step);\n        var valueSideChannel = getSideChannel();\n        valueSideChannel.set(sentinel, sideChannel);\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            commaRoundTrip,\n            allowEmptyArrays,\n            strictNullHandling,\n            skipNulls,\n            encodeDotInKeys,\n            generateArrayPrefix === 'comma' && encodeValuesOnly && isArray(obj) ? null : encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.encodeDotInKeys !== 'undefined' && typeof opts.encodeDotInKeys !== 'boolean') {\n        throw new TypeError('`encodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    var arrayFormat;\n    if (opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if ('indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = defaults.arrayFormat;\n    }\n\n    if ('commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.encodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        arrayFormat: arrayFormat,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        commaRoundTrip: opts.commaRoundTrip,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encodeDotInKeys: typeof opts.encodeDotInKeys === 'boolean' ? opts.encodeDotInKeys : defaults.encodeDotInKeys,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[options.arrayFormat];\n    var commaRoundTrip = generateArrayPrefix === 'comma' && options.commaRoundTrip;\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            commaRoundTrip,\n            options.allowEmptyArrays,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encodeDotInKeys,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('\u2713')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n", "'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowEmptyArrays: false,\n    allowPrototypes: false,\n    allowSparse: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decodeDotInKeys: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    duplicates: 'combine',\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictDepth: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the \u2713 character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the \u2713 character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('\u2713')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = { __proto__: null };\n\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    cleanStr = cleanStr.replace(/%5B/gi, '[').replace(/%5D/gi, ']');\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = utils.maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        var existing = has.call(obj, key);\n        if (existing && options.duplicates === 'combine') {\n            obj[key] = utils.combine(obj[key], val);\n        } else if (!existing || options.duplicates === 'last') {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = options.allowEmptyArrays && (leaf === '' || (options.strictNullHandling && leaf === null))\n                ? []\n                : [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var decodedRoot = options.decodeDotInKeys ? cleanRoot.replace(/%2E/g, '.') : cleanRoot;\n            var index = parseInt(decodedRoot, 10);\n            if (!options.parseArrays && decodedRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== decodedRoot\n                && String(index) === decodedRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else if (decodedRoot !== '__proto__') {\n                obj[decodedRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, check strictDepth option for throw, else just add whatever is left\n\n    if (segment) {\n        if (options.strictDepth === true) {\n            throw new RangeError('Input depth exceeded depth option of ' + options.depth + ' and strictDepth is true');\n        }\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.decodeDotInKeys !== 'undefined' && typeof opts.decodeDotInKeys !== 'boolean') {\n        throw new TypeError('`decodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.decoder !== null && typeof opts.decoder !== 'undefined' && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    var duplicates = typeof opts.duplicates === 'undefined' ? defaults.duplicates : opts.duplicates;\n\n    if (duplicates !== 'combine' && duplicates !== 'first' && duplicates !== 'last') {\n        throw new TypeError('The duplicates option must be either combine, first, or last');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.decodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decodeDotInKeys: typeof opts.decodeDotInKeys === 'boolean' ? opts.decodeDotInKeys : defaults.decodeDotInKeys,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        duplicates: duplicates,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictDepth: typeof opts.strictDepth === 'boolean' ? !!opts.strictDepth : defaults.strictDepth,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    if (options.allowSparse === true) {\n        return obj;\n    }\n\n    return utils.compact(obj);\n};\n", "'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.serializeCookie = void 0;\n/**\n * Serializes a cookie name with value and its options into a string\n * format of set-cookie header.\n * @param name\n * @param value\n * @param options\n * @example serializeCookie('name', 'value', { domain: 'test.com', HttpOnly: true, Secure: true }) => 'name=value; domain=test.com; HttpOnly; Secure'\n */\nfunction serializeCookie(name, value, options = {}) {\n    return Object.keys(options).reduce((output, key) => {\n        const opt = options[key];\n        if (typeof opt === 'boolean' && opt)\n            return `${output}; ${key}`;\n        return `${output}; ${key}=${opt}`;\n    }, `${name}=${value}`);\n}\nexports.serializeCookie = serializeCookie;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toTimeInterval = void 0;\n/**\n * Converts to from number or string to TimeInterval type, this is mostly\n * done when we do conversion from EdgeJs fluent API calls to Sailfish definition\n * @param value\n * @returns\n */\nconst toTimeInterval = (value) => {\n    if (typeof value === 'string') {\n        return value;\n    }\n    return `${value}s`;\n};\nexports.toTimeInterval = toTimeInterval;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst constants_1 = require(\"../constants\");\nconst path_1 = require(\"./path\");\nconst origins_1 = require(\"../origins\");\nconst RouteCriteria_1 = require(\"./RouteCriteria\");\nconst constants_2 = require(\"../constants\");\nconst RedirectOptions_1 = require(\"./RedirectOptions\");\nconst OriginFetcher_1 = __importDefault(require(\"../runtime/OriginFetcher\"));\nconst isEmpty_1 = __importDefault(require(\"../utils/isEmpty\"));\nconst bindParams_1 = __importDefault(require(\"../utils/bindParams\"));\nconst ParamsExtractor_1 = __importDefault(require(\"./ParamsExtractor\"));\nconst qs_1 = __importDefault(require(\"qs\"));\nconst toEdgeRegex_1 = __importDefault(require(\"../utils/toEdgeRegex\"));\nconst cookieUtils_1 = require(\"../utils/cookieUtils\");\nconst exact_1 = require(\"./exact\");\nconst toTimeInterval_1 = require(\"./converters/toTimeInterval\");\n/**\n * RouteHelper makes it easy to implement common request handling patterns and provides backwards compatibility with Layer0's\n * [ResponseWriter](https://docs.layer0.co/docs/api/core/classes/_router_responsewriter_.responsewriter.html) class.\n * Please pay attention to the following notes when using RouteHelper to avoid unexpected behavior.\n *\n * **Retrieving the RouteHelper instance**\n *\n * When a function is passed to the second argument of a rule, that function is provided with an instance of RouteHelper as the sole argument.\n *\n * Example:\n *\n * ```js\n *  import { Router } from '@edgio/core/router'\n *\n *  export default new Router()\n *    .get('/favicon.ico', ({ serveStatic }) => { // the parameter provided here is an instance of RouteHelper\n *      serveStatic('images/favicon.ico')\n *    })\n * ```\n *\n * **Overriding methods**\n *\n * The below RouteHelper methods are partially or fully overriding each other and should not be used together in the same rule.\n * Only the method in the last matched rule will be performed.\n * ```js\n *  RouteHelper.proxy\n *  RouteHelper.compute\n *  RouteHelper.renderWithApp\n *  RouteHelper.serveStatic\n *  RouteHelper.redirect\n *  RouteHelper.setOrigin\n *  RouteHelper.appShell\n *  RouteHelper.send\n *  RouteHelper.setResponseBody\n *  RouteHelper.serviceWorker\n * ```\n *\n * Example:\n *\n * ```js\n *  import { Router } from '@edgio/core/router'\n *\n *  export default new Router()\n *    // This compute() will be executed on all paths except the '/page'.\n *    .get('/:path*', ({ compute }) => {\n *      compute(async (req, res) => {\n *        res.setHeader('content-type', 'text/html')\n *        res.body = '<html><body>Hello World</body></html>'\n *      })\n *    })\n *    // On a '/page' path, the proxy() call will override the compute() above, and just the proxy will be executed.\n *   .get('/page', ({ proxy }) => {\n *      proxy(\"origin\")\n *    })\n * ```\n *\n * **Incorrect usage of methods**\n *\n * All RouteHelper methods are independent by design and cannot be nested or called from each other.\n *\n * Example of incorrect usage:\n *\n * ```js\n *  import { Router } from '@edgio/core/router'\n *\n *  export default new Router()\n *    // This rule will not work!\n *    .get('/page1', ({ compute, cache }) => {\n *      compute(async (req, res) => {\n *        res.body = '<html><body>Hello World</body></html>'\n *        cache({\n *          edge: {\n *            maxAgeSeconds: 60 * 60 * 24,\n *          }\n *        })\n *      })\n *    })\n *    // This rule will work\n *    .get('/page2', ({ compute, cache }) => {\n *      compute(async (req, res) => {\n *        res.body = '<html><body>Hello World</body></html>'\n *      })\n *      cache({\n *          edge: {\n *            maxAgeSeconds: 60 * 60 * 24,\n *          }\n *      })\n *    })\n * ```\n */\nclass RouteHelper {\n    /**\n     * @private\n     * @param criteria\n     * @param router\n     */\n    constructor(criteria, router) {\n        this.features = {};\n        /**\n         * Adds features to the route using features json object. This can be used to combine\n         * functional style route setting with object style route setting.\n         *\n         * This RouteHelper method should be called as first RouteHelper method in the same rule\n         * to ensure that other methods such as serveStatic are not partially overridden by specified features.\n         *\n         * **Example**\n         *\n         * ```js\n         *  import { Router } from '@edgio/core/router'\n         *\n         *  export default new Router()\n         *    .get('/images/:files*', ({ addFeatures, serveStatic }) => {\n         *      addFeatures({\n         *        response: {\n         *          optimize_images: true,\n         *        }\n         *      })\n         *      serveStatic('images/:files*')\n         *    })\n         * ```\n         */\n        this.addFeatures = (features) => {\n            this.features = { ...this.features, ...features };\n        };\n        /**\n         * Serves a service worker with proper edge and browser cache headers.\n         * @param filePath The path to the service worker relative to the root directory of your app\n         *\n         * **Example**\n         *\n         * ```js\n         *  import { Router } from '@edgio/core/router'\n         *\n         *  export default new Router()\n         *    .get('/service-worker.js', ({ serviceWorker }) => {\n         *      serviceWorker('dist/service-worker.js')\n         *    })\n         * ```\n         */\n        this.serviceWorker = (filePath) => {\n            this.cache({ edge: { maxAgeSeconds: constants_1.FAR_FUTURE_TTL }, browser: false });\n            if (filePath) {\n                this.serveStatic(filePath);\n            }\n            else {\n                this.setOrigin(origins_1.STATIC_ORIGIN_NAME);\n                this.rewritePath(undefined, `${(0, origins_1.getPathPrefix)(origins_1.STATIC_ORIGIN_NAME)}/service-worker.js`);\n            }\n        };\n        /**\n         * Sets the caching behavior for both browser and edge.\n         * The `cache()` method can be called in the same rule where the `proxy()` is called or in any other rule that matches the same path.\n         *\n         * **Example**\n         *\n         * ```\n         *  import { Router } from '@edgio/core/router'\n         *\n         *  export default new Router()\n         *    .get('/p/:productId', ({ cache, proxy }) => {\n         *      cache({\n         *        browser: {\n         *          maxAgeSeconds: 0,\n         *          serviceWorkerSeconds: 60 * 60, // 1 hour\n         *        },\n         *        edge: {\n         *          maxAgeSeconds: 60 * 60 * 24, // 24 hours\n         *          staleWhileRevalidateSeconds: 60 * 60 // 1 hour\n         *        }\n         *      })\n         *      proxy('origin')\n         *    })\n         * ```\n         */\n        this.cache = (options) => {\n            this.features.caching = this.features.caching || {};\n            const { caching } = this.features;\n            if (options.edge) {\n                if (options.edge.maxAgeSeconds) {\n                    caching.max_age = (0, toTimeInterval_1.toTimeInterval)(options.edge.maxAgeSeconds);\n                }\n                if (options.edge.staleWhileRevalidateSeconds) {\n                    caching.stale_while_revalidate = (0, toTimeInterval_1.toTimeInterval)(options.edge.staleWhileRevalidateSeconds);\n                }\n                if (options.edge.forcePrivateCaching) {\n                    caching.ignore_origin_no_cache = [200];\n                }\n            }\n            else if (options.edge === false) {\n                caching.bypass_cache = true;\n            }\n            if (options && options.cacheableStatusCodes) {\n                caching.cacheable_status_codes = options.cacheableStatusCodes;\n            }\n            if (options && options.enableCachingMethods) {\n                caching.enable_caching_for_methods = options.enableCachingMethods;\n            }\n            if (options && options.ignoreOriginNoCache) {\n                caching.ignore_origin_no_cache = options.ignoreOriginNoCache;\n            }\n            if (options.browser) {\n                if (options.browser.serviceWorkerSeconds == null && options.browser.maxAgeSeconds == null) {\n                    throw new Error('The browser cache setting should specify serviceWorkerSeconds or maxAgeSeconds.');\n                }\n                if (options.browser.serviceWorkerSeconds) {\n                    caching.service_worker_max_age = (0, toTimeInterval_1.toTimeInterval)(options.browser.serviceWorkerSeconds);\n                }\n                if (options.browser.maxAgeSeconds === 0) {\n                    caching.bypass_client_cache = true;\n                }\n                else if (options.browser.maxAgeSeconds) {\n                    caching.client_max_age = (0, toTimeInterval_1.toTimeInterval)(options.browser.maxAgeSeconds);\n                }\n            }\n            else if (options.browser === false) {\n                caching.bypass_client_cache = true;\n            }\n            if (options.key) {\n                options.key.applyCaching(this.features);\n            }\n        };\n        /**\n         * Responds with a static asset from the specified path.\n         *\n         * **Example**\n         *\n         * ```js\n         * serveStatic('path/to/asset/from/app/root')\n         * ```\n         *\n         * You can also use variables in the asset path.  For example, to return files under the `assets` directory\n         * when the url starts with `/static`:\n         *\n         * ```\n         *  new Router()\n         *    .get('/static/:path*', ({ serveStatic }) => {\n         *      serveStatic('assets/:path*')\n         *    })\n         * ```\n         *\n         * The substitution group params can be used in the asset path when path criteria is Regular Expression.\n         * The same functionality can be achieved using the code below.\n         *\n         * ```\n         *  new Router()\n         *    .get(/\\/static\\/(.*)/, ({ serveStatic }) => {\n         *      serveStatic('assets/$1')\n         *    })\n         * ```\n         * @param path The relative path to the asset from the app's root directory. You can reference path variables using `:variable`.\n         * @param options The different options to serving static assets\n         */\n        this.serveStatic = (path, options = {}) => {\n            var _a, _b, _c;\n            const { edgeMaxAgeSeconds = constants_1.FAR_FUTURE_TTL, permanent } = options;\n            this.cache({ edge: { maxAgeSeconds: edgeMaxAgeSeconds } });\n            const origin = permanent ? origins_1.PERMANENT_STATIC_ORIGIN_NAME : origins_1.STATIC_ORIGIN_NAME;\n            this.setOrigin(origin);\n            const pathPrefix = (0, origins_1.getPathPrefix)(origin);\n            // Normalize path\n            path = path\n                // Path is expected to use forward slashes,\n                // so we need to replace backslashes with forward slashes on Windows systems.\n                // Otherwise, we would generate invalid rewritePath source.\n                .replace(/\\\\+/g, '/')\n                // Remove current directory path references\n                .replace(/^\\.\\//, '')\n                // Path is expected to be relative to the app root directory,\n                // so we need to remove leading slash if it exists\n                .replace(/^\\/(.*)/, '$1');\n            // In case the route criteria path is array (IN operator) or negation,\n            // we can't use it as a source for rewritePath\n            const sourceFromCriteria = (0, RouteCriteria_1.isNegation)((_a = this.routeCriteria) === null || _a === void 0 ? void 0 : _a.path) || Array.isArray((_b = this.routeCriteria) === null || _b === void 0 ? void 0 : _b.path)\n                ? undefined\n                : (_c = this.routeCriteria) === null || _c === void 0 ? void 0 : _c.path;\n            // We will always try to use rewrite source from options first, then from criteria and then default to '/:path*'\n            const source = (options === null || options === void 0 ? void 0 : options.rewritePathSource) || sourceFromCriteria || '/:path*';\n            if (options.statusCode) {\n                this.setResponseCode(options.statusCode);\n            }\n            // TODO remove this once edge control supports path_prefix in origins.hosts\n            this.rewritePath(source, `${pathPrefix}/${path}`, {\n                // We need to remove trailing slash from the path here,\n                // so that both '/posts/' and '/posts' match the same '/posts/index.html' file alias on S3.\n                skipSlash: true,\n                // Query search params need to be preserved in the rewrite destination,\n                // so the Sailfish image optimizer params work with images on S3.\n                skipQuery: false,\n            });\n        };\n        /**\n         * Renders a result in Edgio's serverless cloud using your application. Use this method\n         * to respond with an SSR or API result from your application.\n         * This method will only work with applications that has serverless backend such as Next.js, Nuxt.js, Express etc...\n         */\n        this.renderWithApp = () => {\n            this.sendToServerless(constants_1.EDGIO_CLOUD_FUNCTIONS_HINTS.app);\n        };\n        /**\n         * Registers a new Edgio Cloud Function.\n         * The provided callback function is executed in Edgio's serverless cloud.\n         * The callback is passed the request and the response\n         *\n         * Use this method when you need to compute a response in the cloud rather than at the edge or at build time. A common example\n         * is when the response must be computed based on request parameters, headers, or cookies.\n         *\n         * A common example is to look up the destination for a redirect from an external API:\n         *\n         * ```js\n         *  new Router()\n         *    .get('/products/:id', ({ redirect, compute }) => {\n         *      compute(async (request, response) => {\n         *        const destination = await getDestinationFromAPI(request.params.id)\n         *        response.statusCode = 302\n         *        response.setHeader(\"Location\", destination)\n         *      })\n         *    })\n         * ```\n         *\n         * This method can be combined with `cache` to compute complex responses in the cloud and cache them at edge:\n         *\n         * ```js\n         *  new Router()\n         *    .get('/products/:id', ({ cache, compute }) => {\n         *      cache({\n         *        edge: {\n         *          maxAgeSeconds: 60 * 60 * 24,\n         *        }\n         *      })\n         *      compute(async (request, response) => {\n         *        const product = await getProductFromAPI(request.params.id)\n         *        response.setHeader(\"content-type\", \"application/json\")\n         *        response.body = JSON.stringify({\n         *          success: true,\n         *          product,\n         *        })\n         *      })\n         *    })\n         * ```\n         * Note: Extracted params from express-style criteria are available as object under req.params.\n         * When regular expression is used as path criteria, the matched group params are available as array under req.params.$.\n         * Example: $1 => req.params.$[1]\n         *\n         * @param fn A function to run in the cloud to compute the response\n         */\n        this.compute = (fn) => {\n            this.sendToServerless(constants_1.EDGIO_CLOUD_FUNCTIONS_HINTS.compute, fn);\n        };\n        /**\n         * Relays the request to the specified origin.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path/with/:variable', ({ proxy }) => {\n         *      proxy('legacy', { path: '/some/other/path/with/:variable' })\n         *    })\n         * ```\n         *\n         * In this example, we relay the request to the \"legacy\" origin. In this case, `edgio.config.js` must\n         * contain a definition for the `legacy` origin.  For example:\n         *\n         * ```\n         *  // edgio.config.js\n         *\n         *  module.exports = {\n         *    routes: \"./routes.js\",\n         *    ...\n         *    origins: [\n         *       {\n         *         name: 'legacy',\n         *         balancer: 'round_robin',\n         *         hosts: [{ location: 'legacy.domain.com' }],\n         *       },\n         *     ],\n         *  }\n         * ```\n         *\n         * NOTE: The proxy is executed at the edge unless the `transformRequest` or `transformResponse` options are provided.\n         * In that case, the proxy is executed using Edgio Cloud Functions.\n         *\n         * **Example of transformResponse**\n         *\n         * ```\n         * import { Router } from '@edgio/core/router'\n         * import responseBodyToString from '@edgio/core/utils/responseBodyToString';\n         *\n         *  new Router()\n         *    .get('/some/path/with/:variable', ({ proxy }) => {\n         *      proxy('legacy', {\n         *        transformResponse: async (res) => {\n         *          // Simple headers manipulation\n         *          res.setHeader('x-custom-header', 'custom-value')\n         *        }\n         *      })\n         *    })\n         *    .get('/another/path/with/:variable', ({ proxy }) => {\n         *      proxy('legacy', {\n         *        transformResponse: async (res) => {\n         *          // Body can be encoded by brotli, gzip, deflate or plain text. We need to decode it first.\n         *          const originalBody = responseBodyToString(res.body)\n         *          // Remove content-encoding header as we are changing the body\n         *          res.removeHeader('content-encoding')\n         *          // Modify the body\n         *          res.body = originalBody.replace('</body>', '<script src=\"https://example.com/script.js\"></script></body>')\n         *        }\n         *      })\n         *    })\n         * ```\n         * NOTE: When both res.body and res.chunks are present with different values in transformResponse,\n         * the res.body will be preferred over the chunks and used as the final response.\n         * @param backend The name of one of the origins in your `edgio.config.js` file.\n         * @param options\n         */\n        this.proxy = (backend, options) => {\n            this.setOrigin(backend);\n            if ((options === null || options === void 0 ? void 0 : options.transformRequest) || (options === null || options === void 0 ? void 0 : options.transformResponse)) {\n                // if either transformRequest or transformResponse are provided, we need to use serverless\n                // since sailfish does not support these options\n                this.sendToServerless(constants_1.EDGIO_CLOUD_FUNCTIONS_HINTS.proxy, async (req, res, propertyContext) => {\n                    // we know that lambdaresponse is used internally, just not exposed in compute api for users\n                    const lambdaResponse = res;\n                    (options === null || options === void 0 ? void 0 : options.transformRequest) && (await options.transformRequest(req));\n                    // TODO: if we dont tranform response, we COULD stream the body chunk by chunk, but we dont have\n                    // an access to requestcontext here so its moreso an idea for the future, as its an edge case\n                    // if (!options?.transformResponse) {\n                    //   lambdaResponse.setOnWrite(async () => await this.context.executeStreamResponse())\n                    // }\n                    await new OriginFetcher_1.default(propertyContext).fetch(req, res, {\n                        headers: options === null || options === void 0 ? void 0 : options.headers,\n                        removeEmptySearchParamValues: options === null || options === void 0 ? void 0 : options.removeEmptySearchParamValues,\n                        path: options === null || options === void 0 ? void 0 : options.path,\n                    }, backend);\n                    // we create body from received chunks, so users can further transform it in transformResponse\n                    // the ending chunk is always null, therefore we omit it, otherwise the buffer wont be able to concat\n                    lambdaResponse.body = Buffer.concat(lambdaResponse.chunks.slice(0, -1));\n                    // if we dont transform response, the chunks are already in proper format at this time\n                    if (options === null || options === void 0 ? void 0 : options.transformResponse) {\n                        await options.transformResponse(res, req);\n                        res.setHeader('Content-Length', lambdaResponse.body.length.toString());\n                    }\n                });\n            }\n            else if (options) {\n                // otherwise we can transform the request at the edge using features\n                if (options.path) {\n                    const destination = typeof options.path === 'string' ? options.path : options.path();\n                    // If path is an array (InOperatorValues), we use match all as a path\n                    // as we cannot know which path will be used, so whatever is matched pass it to the origin\n                    // otherwise if it is.\n                    // Matching against negation doesnt make sense.\n                    const path = Array.isArray(this.routeCriteria.path) || (0, RouteCriteria_1.isNegation)(this.routeCriteria.path)\n                        ? '/:path*'\n                        : this.routeCriteria.path;\n                    if (destination) {\n                        this.rewritePath(path, destination);\n                    }\n                }\n                if (options === null || options === void 0 ? void 0 : options.headers) {\n                    for (const [key, value] of Object.entries(options.headers)) {\n                        this.setRequestHeader(key, value);\n                    }\n                }\n                if ((options === null || options === void 0 ? void 0 : options.followRedirects) != null) {\n                    if (!this.features.url)\n                        this.features.url = {};\n                    this.features.url.follow_redirects = options === null || options === void 0 ? void 0 : options.followRedirects;\n                }\n            }\n        };\n        /**\n         * Adds or replaces existing response header\n         * immediately before delivering the response downstream.\n         * New value can be appended to the end of existing value by prepending a `+` symbol to the header name.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path', ({ setResponseHeader, proxy }) => {\n         *      proxy('origin')\n         *      setResponseHeader('new-header', 'some-value')\n         *      setResponseHeader('+existing-header', 'other-value')\n         *    })\n         * ```\n         *\n         * @param name The case-insensitive name of the response header\n         * @param value The value to set\n         */\n        this.setResponseHeader = (name, value) => {\n            /* istanbul ignore else */\n            if (!this.features.headers) {\n                this.features.headers = {};\n            }\n            /* istanbul ignore else */\n            if (!this.features.headers.set_response_headers) {\n                this.features.headers.set_response_headers = {};\n            }\n            const headers = this.features.headers.set_response_headers;\n            headers[name] = value;\n        };\n        /**\n         * Adds new response header without replacing existing headers with the same name\n         * before delivering the response downstream.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path', ({ addResponseHeader, proxy }) => {\n         *      proxy('origin')\n         *      addResponseHeader('some-header', 'some-value')\n         *    })\n         * ```\n         *\n         * @param name The case-insensitive name of the response header\n         * @param value The value to set\n         */\n        this.addResponseHeader = (name, value) => {\n            /* istanbul ignore else */\n            if (!this.features.headers) {\n                this.features.headers = {};\n            }\n            /* istanbul ignore else */\n            if (!this.features.headers.add_response_headers) {\n                this.features.headers.add_response_headers = {};\n            }\n            const headers = this.features.headers.add_response_headers;\n            headers[name] = value;\n        };\n        /**\n         * Alters a response header immediately before delivering the response downstream.\n         * Use this method to derive the new header value from the existing one.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path', ({ updateResponseHeader, proxy }) => {\n         *      proxy('origin')\n         *      updateResponseHeader('some-header', /some-.*-part/gi, 'some-replacement')\n         *    })\n         * ```\n         *\n         * @param name The case-insensitive name of the response header\n         * @param match Regex to find the part that should be replaced.\n         * @param replace Value that will replace the matched part.\n         */\n        this.updateResponseHeader = (name, match, replace) => {\n            // Creates Find And Replace interpolation expression from the given regex and replacement string\n            this.setResponseHeader(name, `%{resp_${name}/${match.global ? '/' : ''}${(0, toEdgeRegex_1.default)(match, '', true)}/${replace}}`);\n        };\n        /**\n         * Removes a response header immediately before delivering the response downstream.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path', ({ removeResponseHeader, proxy }) => {\n         *      proxy('origin')\n         *      removeResponseHeader('some-header')\n         *    })\n         * ```\n         * @param name The case-insensitive name of the response header\n         */\n        this.removeResponseHeader = (name) => {\n            /* istanbul ignore else */\n            if (!this.features.headers) {\n                this.features.headers = {};\n            }\n            if (!this.features.headers.remove_response_headers) {\n                this.features.headers.remove_response_headers = [];\n            }\n            ;\n            this.features.headers.remove_response_headers.push(name);\n        };\n        /**\n         * Removes a header from the response provided by an origin server.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path', ({ removeUpstreamResponseHeader, proxy }) => {\n         *      proxy('origin')\n         *      removeUpstreamResponseHeader('some-header')\n         *    })\n         * ```\n         * @param name The case-insensitive name of the response header\n         */\n        this.removeUpstreamResponseHeader = (name) => {\n            /* istanbul ignore else */\n            if (!this.features.headers) {\n                this.features.headers = {};\n            }\n            if (!this.features.headers.remove_origin_response_headers) {\n                this.features.headers.remove_origin_response_headers = [];\n            }\n            this.features.headers.remove_origin_response_headers.push(name);\n        };\n        /**\n         * Adds or replaces a request header.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path', ({ setRequestHeader, proxy }) => {\n         *      setRequestHeader('some-header', 'some-value')\n         *      proxy('origin')\n         *    })\n         * ```\n         *\n         * @param name The case-insensitive name of the request header\n         * @param value The value to set\n         */\n        this.setRequestHeader = (name, value) => {\n            /* istanbul ignore else */\n            if (!this.features.headers) {\n                this.features.headers = {};\n            }\n            /* istanbul ignore else */\n            if (!this.features.headers.set_request_headers) {\n                this.features.headers.set_request_headers = {};\n            }\n            const headers = this.features.headers.set_request_headers;\n            headers[name] = value;\n        };\n        /**\n         * Alters a request header. Use this method to derive the new header value from the existing one.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path', ({ updateRequestHeader, proxy }) => {\n         *      updateRequestHeader('some-header', /some-.*-part/gi, 'some-replacement')\n         *      proxy('origin')\n         *    })\n         * ```\n         *\n         * @param name The case-insensitive name of the request header\n         * @param match Regex to find the part that should be replaced.\n         * @param replace Value that will replace the matched part.\n         */\n        this.updateRequestHeader = (name, match, replace) => {\n            // Creates Find And Replace interpolation expression from the given regex and replacement string\n            this.setRequestHeader(name, `%{http_${name}/${match.global ? '/' : ''}${(0, toEdgeRegex_1.default)(match, '', true)}/${replace}}`);\n        };\n        /**\n         * Adds or replaces a response body. It optionally sets response code or message.\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path', ({ setResponseBody }) => {\n         *      setResponseBody('<html><body>Hello World!</body></html>', 200, 'OK')\n         *    })\n         * ```\n         *\n         * @param body The response body.\n         * @param code The response code.\n         * @param done Indicates that this is last feature\n         */\n        this.setResponseBody = (body, code, done) => {\n            if (!this.features.response) {\n                this.features.response = {};\n            }\n            this.features.response.set_done = !!done;\n            this.features.response.set_response_body = body;\n            if (code)\n                this.features.response.set_status_code = code;\n        };\n        /**\n         * Adds or replaces a response code.\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path', ({ setResponseCode, proxy }) => {\n         *      setResponseCode(200)\n         *      proxy('origin')\n         *    })\n         * ```\n         *\n         * @param code The response code.\n         */\n        this.setResponseCode = (code) => {\n            if (!this.features.response) {\n                this.features.response = {};\n            }\n            this.features.response.set_status_code = code;\n        };\n        /**\n         * Sends the necessary response headers to allow CORS.\n         *\n         * **Example**\n         *\n         * ```js\n         *  new Router()\n         *    .match('/api/:path*', ({ allowCors }) => {\n         *      allowCors({\n         *        origin: '*', // this is the default\n         *        methods: ['get', 'post'],\n         *        headers: ['x-some-header'],\n         *        maxAge: 60 * 60, // one hour\n         *        credentials: true\n         *      })\n         *    })\n         * ```\n         *\n         * @param config\n         */\n        this.allowCors = (config = {}) => {\n            this.setResponseHeader('Access-Control-Allow-Origin', config.origin || '*');\n            if (config.methods) {\n                this.setResponseHeader('Access-Control-Allow-Methods', config.methods.join(', '));\n            }\n            if (config.headers) {\n                this.setResponseHeader('Access-Control-Allow-Headers', config.headers.join(', '));\n            }\n            if (config.maxAge) {\n                this.setResponseHeader('Access-Control-Max-Age', config.maxAge.toString());\n            }\n            if (config.credentials != null) {\n                this.setResponseHeader('Access-Control-Allow-Credentials', config.credentials.toString());\n            }\n        };\n        /**\n         * Adds a path_rewrite feature using path-to-regexp syntax for the source and destination\n         * @param source\n         * @param destination\n         * @param options Additional options that allow to control the rewrite behavior\n         * @private\n         */\n        this.rewritePath = (source, destination, options) => {\n            /* istanbul ignore else */\n            if (!this.features.url) {\n                this.features.url = {};\n            }\n            /* istanbul ignore else */\n            if (!this.features.url.url_rewrite) {\n                this.features.url.url_rewrite = [];\n            }\n            // Convert ExactPath to string to\n            // allow CriteriaPath to be used as source.\n            if (source instanceof exact_1.ExactPath) {\n                source = source.toString();\n            }\n            if (typeof source === 'string') {\n                // When source is string, we can assume that the user wants to use the path-to-regexp syntax with support for named parameters.\n                this.features.url.url_rewrite.push((0, path_1.rewritePath)(source, destination, options));\n            }\n            else {\n                // The user will have to write substitution groups in destination by themselves when regex is used as source.\n                this.features.url.url_rewrite.push({\n                    syntax: 'regexp',\n                    source: source ? (0, toEdgeRegex_1.default)(source) : undefined,\n                    destination,\n                });\n            }\n        };\n        /**\n         * Rewrites the request path.\n         *\n         * Example:\n         *\n         * ```js\n         *  router.get('/products/:id', ({ updatePath }) => {\n         *    updatePath('/p/:id')\n         *  })\n         * ```\n         *\n         * The substitution group params can be used in the asset path when path criteria is Regular Expression.\n         * The same functionality can be achieved using the code below.\n         *\n         * ```js\n         *  new Router()\n         *    .get(/\\/products\\/(.+)/, ({ updatePath }) => {\n         *      updatePath('/p/$1')\n         *    })\n         * ```\n         *\n         * @param destination a new route path, which can include params captured from the original path\n         */\n        this.updatePath = (destination) => {\n            var _a;\n            // params should be extracted by the latest path rule\n            this.paramsExtractor.updateRouteCriteria({\n                path: destination,\n            });\n            this.rewritePath((_a = this.routeCriteria.path) !== null && _a !== void 0 ? _a : '/:path*', destination);\n        };\n        /**\n         * Sends string content back to client. If content is a string, the response will be sent\n         * directly from the edge. If it is a function, the request will be computed in Edgio's serverless cloud.\n         * StatusCode defaults to 200. On error routes we send the status code\n         * as null, since we need to preserve the status code of the failed request unless it is provided.\n         * @param content The content to send to the browser\n         * @param statusCode The HTTP status code.\n         */\n        this.send = (content, statusCode) => {\n            if (typeof content === 'function') {\n                this.compute(async (req, res) => {\n                    res.body = content();\n                    res.statusCode = statusCode;\n                });\n                return;\n            }\n            this.setResponseBody(content, statusCode, true);\n        };\n        /**\n         * Removes a request header.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path', async ({ removeRequestHeader, proxy }) => {\n         *      removeRequestHeader('some-header')\n         *      proxy('origin')\n         *    })\n         * ```\n         * @param name The case-insensitive name of the request header\n         */\n        this.removeRequestHeader = (name) => {\n            // create empty object when no object exists\n            this.features.headers = !this.features.headers ? {} : this.features.headers;\n            this.features.headers.set_request_headers = !this.features.headers.set_request_headers\n                ? {}\n                : this.features.headers.set_request_headers;\n            // Removing header by setting it to empty (empty headers are not added to result) because there's no\n            // remove_request_header option in schema?\n            const headers = this.features.headers.set_request_headers;\n            headers[name] = '';\n        };\n        /**\n         * Serves an HTML app shell from a static file with HTML content-type.\n         * This method can be used to serve the initial HTML for a single page app.\n         * @param indexHtmlPath The path to the app shell html file\n         *\n         * **Example**\n         *\n         * ```js\n         *  new Router()\n         *    .fallback(({ appShell }) => {\n         *      appShell('dist/index.html')\n         *    })\n         * ```\n         */\n        this.appShell = (indexHtmlPath) => {\n            this.setResponseHeader(constants_2.HTTP_HEADERS.contentType, 'text/html');\n            this.serveStatic(indexHtmlPath);\n        };\n        /**\n         * Redirects the browser to a new location.\n         * Query params from the original request are added to the redirect URL.\n         * Complex redirects manipulating query string are computed using Edgio Cloud Functions.\n         *\n         *\n         * **Examples**\n         *\n         * ```\n         *  new Router()\n         *    .get('/p/:productId', ({ redirect }) => {\n         *      return redirect('/products/:productId', { statusCode: 301 })\n         *    })\n         *.\n         *  // The substitution group params can be used in the redirect location when path criteria is Regular Expression.\n         *  new Router()\n         *    .get(/\\/p\\/(.+)/, ({ redirect }) => {\n         *      return redirect('/products/$1', { statusCode: 301 })\n         *    })\n         *\n         *  // Extract id from route and apply as query string\n         *  new Router()\n         *    .get('/p/:productId', ({ redirect }) => {\n         *      return redirect('/product', { query: { id: ':productId' }})\n         *    })\n         *\n         *  new Router()\n         *  .get(/\\/p\\/(\\d+)\\/?/, ({ redirect }) => {\n         *      return redirect('/product', { query: { id: '$1' }})\n         *    })\n         *\n         *  // Extract id from query string and apply to route\n         *  new Router()\n         *    .get({ path: '/p', query: { id: ':id' } }, ({ redirect }) => {\n         *      return redirect('/product/:id')\n         *    })\n         * ```\n         *\n         * @param to The URL to which the browser will be redirected.\n         * @param options\n         * @param options.statusCode The HTTP status to return. Defaults to 302\n         * @param options.query Key-value object of query strings to be added to the redirect url\n         */\n        this.redirect = (to, options = {}) => {\n            var _a, _b, _c, _d, _e, _f;\n            // query object contains query extracted from toPath and additional queries provided in options\n            const { to: toPath, statusCode, query: query } = (0, RedirectOptions_1.normalizeRedirectOptions)(to, options);\n            // we can use simple rewrite if query is used for matching only\n            const isMatchOnlyQuery = () => {\n                var _a;\n                return !Object.values((_a = this.routeCriteria.query) !== null && _a !== void 0 ? _a : {}).find(value => typeof value === 'string' && value.startsWith(':'));\n            };\n            // Sailfish is matching url_redirect.source against the current request URL,\n            // and not incoming URL. If there's any rewrite rule together with redirect (such as the one in serveStatic method),\n            // the redirect is not matched. This is not how the old redirect method worked. The redirect(\"/dest/:path\") would not work.\n            // That's why we need to add this rewrite rule to the same URL.\n            this.rewritePath('/:path*', '/:path*');\n            // When there's no manipulation with request or response query,\n            // we can bind params via regex on the Edge.\n            // Otherwise, there's no way to backreference query matches during replace,\n            // as they can be in any order, and the replace follows match order.\n            if ((0, isEmpty_1.default)(query) && isMatchOnlyQuery()) {\n                this.features.url = (_a = this.features.url) !== null && _a !== void 0 ? _a : {};\n                this.features.url.url_redirect = (_b = this.features.url.url_redirect) !== null && _b !== void 0 ? _b : {};\n                this.features.url.url_redirect.code = statusCode;\n                // When path is provided as Regex there are no params in path to be extracted.\n                // The user can use groups captured params in destination path.\n                if (((_c = this.routeCriteria) === null || _c === void 0 ? void 0 : _c.path) instanceof RegExp) {\n                    this.features.url.url_redirect.source = (0, toEdgeRegex_1.default)((_d = this.routeCriteria) === null || _d === void 0 ? void 0 : _d.path);\n                    this.features.url.url_redirect.destination = toPath;\n                    this.features.url.url_redirect.syntax = 'regexp';\n                    return;\n                }\n                this.features.url.url_redirect = {\n                    ...this.features.url.url_redirect,\n                    ...(0, path_1.rewritePath)((_f = (_e = this.routeCriteria) === null || _e === void 0 ? void 0 : _e.path) === null || _f === void 0 ? void 0 : _f.toString(), toPath, {\n                        skipQuery: true,\n                    }),\n                };\n                return;\n            }\n            // Complex redirects manipulating query string are delegated to compute and cached \"for ever\".\n            // Cache key includes query string by default so every path / query string\n            // combination is cached independently, which is what we want as redirects\n            // location header includes original request's query string.\n            this.sendToServerless(constants_1.EDGIO_CLOUD_FUNCTIONS_HINTS.redirect, async (req, res) => {\n                let queryWithReplacedParams = {};\n                // Bind params to query key and values extracted from\n                // redirect path and options\n                for (const queryKey in query) {\n                    queryWithReplacedParams = {\n                        ...queryWithReplacedParams,\n                        [(0, bindParams_1.default)(queryKey, req.params)]: (0, bindParams_1.default)(query[queryKey], req.params),\n                    };\n                }\n                // Generate the final location by binding params to redirect path and\n                // concatenating the original request query together with extracted query from\n                // redirect path and options\n                res.setHeader(constants_2.HTTP_HEADERS.location, `${(0, bindParams_1.default)(toPath, req.params)}${Object.keys(queryWithReplacedParams).length > 0\n                    ? '?' + qs_1.default.stringify(queryWithReplacedParams)\n                    : ''}`);\n                res.statusCode = statusCode;\n                res.body = '';\n            });\n            this.cache({\n                cacheableStatusCodes: [301, 302, 305, 307, 308],\n                edge: {\n                    maxAgeSeconds: constants_1.FAR_FUTURE_TTL,\n                },\n            });\n        };\n        /**\n         * Adds a `set-cookie` header to the response.\n         * This does not replace any cookies with the same name - for that you should use `updateResponseCookie`.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path', ({ addResponseCookie, proxy }) => {\n         *      proxy('origin')\n         *      addResponseCookie('my-cookie', 'my-cookie-value', { domain: 'test.com' })\n         *    })\n         * ```\n         *\n         * @param name Name of the cookie to add.\n         * @param value Value to set\n         * @param options Optional options to add to cookie\n         */\n        this.addResponseCookie = (name, value, options) => {\n            this.addResponseHeader(constants_2.HTTP_HEADERS.setCookie, (0, cookieUtils_1.serializeCookie)(name, value, options));\n        };\n        /**\n         * Allows to change the origin that the request is proxied to.\n         * This is useful when you want to proxy to a different origin based on the matched rule.\n         * The origin set by the latest matched rule will be used.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/:path*', ({ setOrigin }) => {\n         *      setOrigin('fallback_origin')\n         *    })\n         *    .get('/products/1', ({ setOrigin }) => {\n         *      setOrigin('web_origin')\n         *    })\n         * ```\n         *\n         * @param name The origin name\n         */\n        this.setOrigin = (name) => {\n            if (!this.features.origin)\n                this.features.origin = {};\n            this.features.origin.set_origin = name;\n        };\n        /**\n         * Allows to set a comment feature on the rule, which will be displayed in the dashboard.\n         * The comment message supports markdown.\n         * @param message The comment message.\n         * @param append If true, the comment will be appended to the existing comment.\n         */\n        this.setComment = (message, append = false) => {\n            if (!append)\n                this.features.comment = '';\n            this.features.comment += message;\n        };\n        /**\n         * Allows to enable/disable the Edgio Image Optimizer\n         * for the matched path. The optimizer is disabled by default.\n         *\n         * The optimizer can be configured using query search params in request URL\n         * or request headers.\n         *\n         * See https://docs.edg.io/guides/v7/performance/image_optimization for more details.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/images/:path*', ({ optimizeImages }) => {\n         *      optimizeImages(true)\n         *    })\n         * ```\n         *\n         * @param value\n         */\n        this.optimizeImages = (value = true) => {\n            if (!this.features.response)\n                this.features.response = {};\n            this.features.response.optimize_images = value;\n        };\n        /**\n         * Allows to easily configure common security headers in single method call.\n         * For example: X-Frame-Options, X-XSS-Protection, X-Content-Type-Options.\n         * The security headers are pre-configured with default values\n         * that should suit most applications.\n         *\n         * By default, all security headers are added with default values,\n         * and you can disable single headers by setting their value to false\n         * or override the default value by setting the value to a string.\n         *\n         * HINT: If you wish to configure HSTS header, you can do so in `Router.forceHttps()` method.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    // Forces HTTPS for all paths and sets HSTS header\n         *    .forceHttps()\n         *    // Sets security headers with default values to all paths\n         *    .get('/:path*', ({ setSecurityHeaders }) => {\n         *      addSecurityHeaders()\n         *    })\n         *    // Customize security headers for specific paths\n         *    .get('/products/:path*', ({ setSecurityHeaders }) => {\n         *      addSecurityHeaders({\n         *        xFrameOptions: false,\n         *        referrerPolicy: 'no-referrer'\n         *      })\n         *    })\n         * ```\n         */\n        this.setSecurityHeaders = (options = {}) => {\n            var _a, _b, _c, _d;\n            options.xFrameOptions = (_a = options.xFrameOptions) !== null && _a !== void 0 ? _a : 'SAMEORIGIN';\n            options.xXssProtection = (_b = options.xXssProtection) !== null && _b !== void 0 ? _b : '1; mode=block';\n            options.xContentTypeOptions = (_c = options.xContentTypeOptions) !== null && _c !== void 0 ? _c : 'nosniff';\n            options.referrerPolicy = (_d = options.referrerPolicy) !== null && _d !== void 0 ? _d : 'same-origin';\n            Object.entries(options).forEach(([headerKey, value]) => {\n                const header = constants_2.HTTP_HEADERS[headerKey];\n                // Do not set the header if the value is false\n                if (!value || !header)\n                    return;\n                this.setResponseHeader(constants_2.HTTP_HEADERS[headerKey], value);\n            });\n        };\n        this.routeCriteria = criteria;\n        this.paramsExtractor = new ParamsExtractor_1.default(criteria);\n        this.router = router;\n    }\n    /**\n     * Creates a Features instance by running the provided callback.\n     * @private\n     * @param creator\n     * @returns\n     */\n    evaluate(creator) {\n        creator(this);\n        return this.features;\n    }\n    /**\n     * Forwards the request to the serverless origin\n     * @param hint\n     * @param fn\n     */\n    sendToServerless(hint, fn) {\n        const hintIndex = fn\n            ? this.router.addFunction(async (req, res, propertyContext) => {\n                // extract params matched by routeCriteria path, query matched by routeCriteria query\n                // and add them to request for backward compatibility\n                req.params = this.paramsExtractor.extract(req);\n                // execute original compute function\n                await fn(req, res, propertyContext);\n                // set default content type if none was set\n                if (!res.getHeader(constants_2.HTTP_HEADERS.contentType)) {\n                    res.setHeader(constants_2.HTTP_HEADERS.contentType, 'text/plain');\n                }\n            })\n            : null;\n        this.setRequestHeader(`+${constants_1.EDGIO_CLOUD_FUNCTIONS_HINT_HEADER}`, hintIndex !== null ? `${hint}:${hintIndex}` : hint);\n        // Remove the default origin and team prefix\n        // RequestContext.executeApp will append the origin and team\n        this.setOrigin(origins_1.SERVERLESS_ORIGIN_NAME);\n    }\n}\nexports.default = RouteHelper;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toFeature = void 0;\nconst RouteHelper_1 = __importDefault(require(\"../RouteHelper\"));\nconst toFeature = (criteria, features, router) => {\n    if (typeof features === 'function') {\n        return new RouteHelper_1.default(criteria, router).evaluate(features);\n    }\n    else {\n        return features;\n    }\n};\nexports.toFeature = toFeature;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Tasks {\n    constructor() {\n        this._tasks = [];\n        this._resolveHandler = Function.prototype;\n        this._errorHandler = (err) => {\n            throw err;\n        };\n    }\n    /**\n     * Adds a task to taks array that can be resolved with tasks.resolve()\n     *\n     * @param tasks List of tasks to finish\n     */\n    add(...tasks) {\n        this._tasks.push(...tasks);\n        return this;\n    }\n    /**\n     * Resolve Handler that will be called per each task with resolved value\n     *\n     * @param handler\n     */\n    onTaskDone(handler) {\n        this._resolveHandler = handler;\n        return this;\n    }\n    /**\n     * Error Handler that will be called per each task and can be useful\n     * for ignoring the specific errors\n     *\n     * @param errorHandler\n     */\n    onTaskError(errorHandler) {\n        this._errorHandler = errorHandler;\n        return this;\n    }\n    /**\n     * Finishes all tasks\n     */\n    resolve() {\n        const promises = this._convertTasksToPromises().map((task, i) => {\n            return task\n                .then((res) => {\n                this._resolveHandler(res);\n                return res;\n            })\n                .catch((err) => {\n                return this._errorHandler(err);\n            });\n        });\n        return Promise.all(promises);\n    }\n    /**\n     * Returns list of tasks that are converted into promises | functions\n     */\n    _convertTasksToPromises() {\n        return this._tasks.map(task => {\n            if (typeof task !== 'function') {\n                return Promise.resolve(task);\n            }\n            // Run the task and check if it returns a promise\n            try {\n                const taskResult = task();\n                if (taskResult instanceof Promise) {\n                    return taskResult;\n                }\n                // sync function results\n                return Promise.resolve(taskResult);\n            }\n            catch (e) {\n                // Return a error promise if sync task fails\n                // This allows to ignore some errors with error handler\n                return Promise.reject(e);\n            }\n        });\n    }\n}\nexports.default = Tasks;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Tasks_1 = __importDefault(require(\"../utils/Tasks\"));\nclass PreloadRequests {\n    constructor() {\n        /**\n         * The list of preload config options which will be later resolved to PreloadRequests.\n         */\n        this.options = [];\n    }\n    /**\n     * Adds preload config options to the list\n     * @param preloadOptions\n     */\n    push(...options) {\n        this.options.push(...options);\n    }\n    /**\n     * Returns object with preload config\n     * @private\n     */\n    async getPreloadConfig(config) {\n        const requests = [];\n        await new Tasks_1.default()\n            .add(...this.options)\n            .onTaskDone((result) => requests.push(...result))\n            .resolve();\n        return JSON.stringify({\n            requests,\n            concurrency: config === null || config === void 0 ? void 0 : config.prerenderConcurrency,\n        });\n    }\n}\nexports.default = PreloadRequests;\n", "/*!\n * path-root-regex <https://github.com/jonschlinkert/path-root-regex>\n *\n * Copyright (c) 2016, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function() {\n  // Regex is modified from the split device regex in the node.js path module.\n  return /^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?([\\\\\\/])?/;\n};\n", "/*!\n * path-root <https://github.com/jonschlinkert/path-root>\n *\n * Copyright (c) 2016, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nvar pathRootRegex = require('path-root-regex');\n\nmodule.exports = function(filepath) {\n  if (typeof filepath !== 'string') {\n    throw new TypeError('expected a string');\n  }\n\n  var match = pathRootRegex().exec(filepath);\n  if (match) {\n    return match[0];\n  }\n};\n", "export default function rethrowUnlessCode(maybeError: unknown, ...codes: Array<string>) {\n  if (maybeError !== null && typeof maybeError === 'object') {\n    const code = (maybeError as { code: any }).code;\n    for (const allowed of codes) {\n      if (code === allowed) {\n        return;\n      }\n    }\n  }\n\n  throw maybeError;\n}\n", "'use strict';\n\nfunction includes(array: [string], entry: string) {\n  for (let i = 0; i < array.length; i++) {\n    if (array[i] === entry) {\n      return true;\n    }\n  }\n  return false;\n}\n/*\n * utility to detect if node is respective symlinks or not\n */\nexport = function (process: any) {\n  return !!process.env.NODE_PRESERVE_SYMLINKS || includes(process.execArgv, '--preserve-symlinks');\n};\n", "'use strict';\n// credit goes to https://github.com/davecombs\n// extracted in part from: https://github.com/stefanpenner/hash-for-dep/blob/15b2ebcf22024ceb2eb7907f8c412ae40f87b15e/lib/resolve-package-path.js#L1\n//\nimport fs = require('fs');\nimport path = require('path');\nimport pathRoot = require('path-root');\n\nimport Cache = require('./cache');\nimport CacheGroup = require('./cache-group');\nimport rethrowUnlessCode from './rethrow-unless-code';\n\n/*\n * Define a regex that will match against the 'name' value passed into\n * resolvePackagePath. The regex corresponds to the following test:\n *   Match any of the following 3 alternatives:\n *\n *  1) dot, then optional second dot, then / or nothing    i.e.  .  ./  ..  ../        OR\n *  2) /                                                   i.e.  /                     OR\n *  3) (A-Za-z colon - [optional]), then / or \\            i.e. optional drive letter + colon, then / or \\\n *\n * Basically, the three choices mean \"explicitly relative or absolute path, on either\n * Unix/Linux or Windows\"\n */\n\nconst ABSOLUTE_OR_RELATIVE_PATH_REGEX = /^(?:\\.\\.?(?:\\/|$)|\\/|([A-Za-z]:)?[/\\\\])/;\n\nimport shouldPreserveSymlinks = require('./should-preserve-symlinks');\nconst PRESERVE_SYMLINKS = shouldPreserveSymlinks(process);\n/*\n * Resolve the real path for a file. Return null if does not\n * exist or is not a file or FIFO, return the real path otherwise.\n *\n * Cache the result in the passed-in cache for performance,\n * keyed on the filePath passed in.\n *\n * NOTE: Because this is a private method, it does not attempt to normalize\n * the path passed in - it assumes the caller has done that.\n *\n * @private\n * @method _getRealFilePath\n * @param {Cache} realFilePathCache the Cache object to cache the real (resolved)\n * path in, keyed by filePath. See lib/cache.js and lib/cache-group.js\n * @param {String} filePath the path to the file of interest (which must have\n * been normalized, but not necessarily resolved to a real path).\n * @return {String} real path or null\n */\nfunction _getRealFilePath(realFilePathCache: Cache, filePath: string) {\n  if (realFilePathCache.has(filePath)) {\n    return realFilePathCache.get(filePath); // could be null\n  }\n\n  let realPath = null; // null = 'FILE NOT FOUND'\n\n  try {\n    const stat = fs.statSync(filePath);\n\n    // I don't know if Node would handle having the filePath actually\n    // be a FIFO, but as the following is also part of the node-resolution\n    // algorithm in resolve.sync(), we'll do the same check here.\n    if (stat.isFile() || stat.isFIFO()) {\n      if (PRESERVE_SYMLINKS) {\n        realPath = filePath;\n      } else {\n        realPath = fs.realpathSync(filePath);\n      }\n    }\n  } catch (e) {\n    rethrowUnlessCode(e, 'ENOENT');\n  }\n\n  realFilePathCache.set(filePath, realPath);\n\n  return realPath;\n}\n\n/*\n * Resolve the real path for a directory, return null if does not\n * exist or is not a directory, return the real path otherwise.\n *\n * @param {Cache} realDirectoryPathCache the Cache object to cache the real (resolved)\n * path in, keyed by directoryPath. See lib/cache.js and lib/cache-group.js\n * @param {String} directoryPath the path to the directory of interest (which must have\n * been normalized, but not necessarily resolved to a real path).\n * @return {String} real path or null\n */\nfunction _getRealDirectoryPath(realDirectoryPathCache: Cache, directoryPath: string) {\n  if (realDirectoryPathCache.has(directoryPath)) {\n    return realDirectoryPathCache.get(directoryPath); // could be null\n  }\n\n  let realPath = null;\n\n  try {\n    const stat = fs.statSync(directoryPath);\n\n    if (stat.isDirectory()) {\n      if (PRESERVE_SYMLINKS) {\n        realPath = directoryPath;\n      } else {\n        realPath = fs.realpathSync(directoryPath);\n      }\n    }\n  } catch (e) {\n    rethrowUnlessCode(e, 'ENOENT', 'ENOTDIR');\n  }\n\n  realDirectoryPathCache.set(directoryPath, realPath);\n\n  return realPath;\n}\n\n/*\n * Given a package 'name' and starting directory, resolve to a real (existing) file path.\n *\n * Do it similar to how it is done in resolve.sync() - travel up the directory hierarchy,\n * attaching 'node-modules' to each directory and seeing if the directory exists and\n * has the relevant 'package.json' file we're searching for. It is *much* faster than\n * resolve.sync(), because we don't test that the requested name is a directory.\n * This routine assumes that it is only called when we don't already have\n * the cached entry.\n *\n * NOTE: it is valid for 'name' to be an absolute or relative path.\n * Because this is an internal routine, we'll require that 'dir' be non-empty\n * if this is called, to make things simpler (see resolvePackagePath).\n *\n * @param realFilePathCache the cache containing the real paths corresponding to\n *   various file and directory paths (which may or may not be already resolved).\n *\n * @param name the 'name' of the module, i.e. x in require(x), but with\n *   '/package.json' on the end. It is NOT referring to a directory (so we don't\n *   have to do the directory checks that resolve.sync does).\n *   NOTE: because this is an internal routine, for speed it does not check\n *   that '/package.json' is actually the end of the name.\n *\n * @param dir the directory (MUST BE non-empty, and valid) to start from, appending the name to the\n *   directory and checking that the file exists. Go up the directory hierarchy from there.\n *   if name is itself an absolute path,\n *\n * @result the path to the actual package.json file that's found, or null if not.\n */\nfunction _findPackagePath(realFilePathCache: Cache, name: string, dir: string) {\n  const fsRoot = pathRoot(dir);\n  let currPath = dir;\n\n  while (currPath !== fsRoot) {\n    // when testing for 'node_modules', need to allow names like NODE_MODULES,\n    // which can occur with case-insensitive OSes.\n    let endsWithNodeModules = path.basename(currPath).toLowerCase() === 'node_modules';\n\n    let filePath = path.join(currPath, endsWithNodeModules ? '' : 'node_modules', name);\n\n    let realPath = _getRealFilePath(realFilePathCache, filePath);\n\n    if (realPath) {\n      return realPath;\n    }\n\n    if (endsWithNodeModules) {\n      // go up past the ending node_modules directory so the next dirname\n      // goes up past that (if ending in node_modules, going up just one\n      // directory below will then add 'node_modules' on the next loop and\n      // re-process this same node_modules directory.\n      currPath = path.dirname(currPath);\n    }\n\n    currPath = path.dirname(currPath);\n  }\n\n  return null;\n}\n\n/*\n * Resolve the path to the nearest `package.json` from the given initial search\n * directory.\n *\n * @param  {Cache} findUpCache - a cache of memoized results that is\n * prioritized to avoid I/O.\n *\n * @param {string} initialSearchDir - the normalized path to start searching\n * from.\n *\n * @return {string | null} - the deepest directory on the path to root from\n * `initialSearchDir` that contains a {{package.json}}, or `null` if no such\n * directory exists.\n */\nfunction _findUpPackagePath(findUpCache: Cache, initialSearchDir: string) {\n  let previous;\n  let dir = initialSearchDir;\n  let maybePackageJsonPath;\n  let result = null;\n\n  do {\n    if (findUpCache.has(dir)) {\n      result = findUpCache.get(dir);\n      break;\n    }\n\n    maybePackageJsonPath = path.join(dir, 'package.json');\n    if (fs.existsSync(maybePackageJsonPath)) {\n      result = maybePackageJsonPath;\n      break;\n    }\n\n    previous = dir;\n    dir = path.dirname(dir);\n  } while (dir !== previous);\n\n  findUpCache.set(initialSearchDir, result);\n\n  return result;\n}\n\n/*\n * Resolve the path to a module's package.json file, if it exists. The\n * name and dir are as in hashForDep and ModuleEntry.locate.\n *\n *  @param caches an instance of CacheGroup where information will be cached\n *  during processing.\n *\n *  @param name the 'name' of the module.  The name may also be a path,\n *  either relative or absolute. The path must be to a module DIRECTORY, NOT to the\n *  package.json file in the directory, as we attach 'package.json' here.\n *\n *  @param dir (optional) the root directory to run the path resolution from.\n *  if dir is not provided, __dirname for this module is used instead.\n *\n *  @return the realPath corresponding to the module's package.json file, or null\n *  if that file is not found or is not a file.\n *\n * Note: 'name' is expected in the format expected for require(x), i.e., it is\n * resolved using the Node path-normalization rules.\n */\nfunction resolvePackagePath(caches: CacheGroup, name?: string, dir?: string) {\n  if (typeof name !== 'string' || name.length === 0) {\n    throw new TypeError(\"resolvePackagePath: 'name' must be a non-zero-length string.\");\n  }\n\n  // Perform tests similar to those in resolve.sync().\n  let basedir = dir || __dirname;\n\n  // Ensure that basedir is an absolute path at this point. If it does not refer to\n  // a real directory, go up the path until a real directory is found, or return an error.\n\n  // BUG!: this will never throw an exception, at least on Unix/Linux. If the path is\n  // relative, path.resolve() will make it absolute by putting the current directory\n  // before it, so it won't fail. If the path is already absolute, / will always be\n  // valid, so again it won't fail.\n  let absoluteStart = path.resolve(basedir);\n\n  while (_getRealDirectoryPath(caches.REAL_DIRECTORY_PATH, absoluteStart) === null) {\n    absoluteStart = path.dirname(absoluteStart);\n  }\n\n  if (!absoluteStart) {\n    let error = new TypeError(\n      \"resolvePackagePath: 'dir' or one of the parent directories in its path must refer to a valid directory.\",\n    );\n    (error as any).code = 'MODULE_NOT_FOUND';\n    throw error;\n  }\n\n  if (ABSOLUTE_OR_RELATIVE_PATH_REGEX.test(name)) {\n    let res = path.resolve(absoluteStart, name);\n    return _getRealFilePath(caches.REAL_FILE_PATH, path.join(res, 'package.json'));\n\n    // XXX Do we need to handle the core(x) case too? Not sure.\n  } else {\n    return _findPackagePath(caches.REAL_FILE_PATH, path.join(name, 'package.json'), absoluteStart);\n  }\n}\n\nexport = resolvePackagePath;\nresolvePackagePath._findPackagePath = _findPackagePath;\nresolvePackagePath._findUpPackagePath = _findUpPackagePath;\nresolvePackagePath._getRealFilePath = _getRealFilePath;\nresolvePackagePath._getRealDirectoryPath = _getRealDirectoryPath;\n", "'use strict';\n\nfunction makeCache() {\n  // object with no prototype\n  const cache = Object.create(null);\n\n  // force the jit to immediately realize this object is a dictionary. This\n  // should prevent the JIT from going wastefully one direction (fast mode)\n  // then going another (dict mode) after\n  cache['_cache'] = 1;\n  delete cache['_cache'];\n\n  return cache;\n}\n\nexport = class Cache {\n  _store: { [key: string]: string };\n  constructor() {\n    this._store = makeCache();\n  }\n\n  set(key: string, value: any) {\n    return (this._store[key] = value);\n  }\n\n  get(key: string) {\n    return this._store[key];\n  }\n\n  has(key: string) {\n    return key in this._store;\n  }\n\n  delete(key: string) {\n    delete this._store[key];\n  }\n\n  get size() {\n    return Object.keys(this._store).length;\n  }\n};\n", "'use strict';\n\nimport Cache = require('./cache');\n\n/*\n * CacheGroup is used to both speed up and ensure consistency of hashForDep.\n *\n * The CacheGroup contains three separate caches:\n *\n *  - MODULE_ENTRY: the cache of realPathKey => ModuleEntry objects.\n *    Each ModuleEntry contains information about a particular module\n *    found during hash-for-dep processing.  realPathKey is a hash\n *    of the resolved real path to the module's package.json file.\n *\n *    Having the real path means that when resolving dependencies, we can\n *    take the resolved paths, hash them and check quickly for cache entries,\n *    speeding creation of the cache. Because many modules may refer to\n *    the same module as a dependency, this eliminates duplication and having\n *    to reread package.json files.\n *\n *    However, that also means we need a second cache to map from the original\n *    name and dir passed to hashForDep to the final resolved path for the\n *    module's package.json file.\n *\n *  - PATH: the cache of nameDirKey => realPathKey. nameDirKey is a hash of the\n *    combination of the name and starting directory passed to hashForDep.\n *    realPathKey is a hash of the resulting real path to the relevant package.json file.\n *\n *  - REAL_FILE_PATH: the cache of filePath => resolved realPath for relevant files.\n *    When determining the location of a file, the file path may involve links.\n *    This cache is keyed on the original file path, with a value of the real path.\n *    This cache helps to speed up path resolution in both cases by minimizing\n *    the use of costly 'fs.statSync' calls.\n *\n *  - REAL_DIRECTORY_PATH: the cache of filePath => resolved realPath for relevant directories.\n *    When determining the location of a file by going up the node_modules chain,\n *    paths to intervening directories may contain links. Similar to REAL_FILE_PATH,\n *    this cache is keyed on the original directory path, with a value of the real path.\n *    This cache helps to speed up path resolution in both cases by minimizing\n *    the use of costly 'fs.statSync' calls.\n *\n * Note: when discussing 'real paths' above, the paths are normalized by routines\n * like path.join() or path.resolve(). We do nothing beyond that (e.g., we do not attempt\n * to force the paths into POSIX style.)\n */\nexport = class CacheGroup {\n  MODULE_ENTRY = new Cache();\n  PATH = new Cache();\n  REAL_FILE_PATH = new Cache();\n  REAL_DIRECTORY_PATH = new Cache();\n  constructor() {\n    Object.freeze(this);\n  }\n};\n", "'use strict';\n\nimport path from 'path';\nimport customResolvePackagePath from './resolve-package-path';\nimport rethrowUnlessCode from './rethrow-unless-code';\nconst ALLOWED_ERROR_CODES = [\n  // resolve package error codes\n  'MODULE_NOT_FOUND',\n\n  // Yarn PnP Error Codes\n  'UNDECLARED_DEPENDENCY',\n  'MISSING_PEER_DEPENDENCY',\n  'MISSING_DEPENDENCY'\n];\n\nimport CacheGroup = require('./cache-group');\nimport Cache = require('./cache');\nconst getRealFilePath = customResolvePackagePath._getRealFilePath;\nconst getRealDirectoryPath = customResolvePackagePath._getRealDirectoryPath;\nconst __findUpPackagePath = customResolvePackagePath._findUpPackagePath;\n\nlet CACHE = new CacheGroup();\nlet FIND_UP_CACHE = new Cache();\nlet pnp: any;\n\ntry {\n  // eslint-disable-next-line node/no-missing-require\n  pnp = require('pnpapi');\n} catch (error) {\n  // not in Yarn PnP; not a problem\n}\n\n/**\n * Search each directory in the absolute path `baseDir`, from leaf to root, for\n * a `package.json`, and return the first match, or `null` if no `package.json`\n * was found.\n *\n * @public\n * @param {string} baseDir - an absolute path in which to search for a `package.json`\n * @param {CacheGroup|boolean} [_cache] (optional)\n *  * if true: will choose the default global cache\n *  * if false: will not cache\n *  * if undefined or omitted, will choose the default global cache\n *  * otherwise we assume the argument is an external cache of the form provided by resolve-package-path/lib/cache-group.js\n *\n * @return {string|null} a full path to the resolved package.json if found or null if not\n */\nfunction _findUpPackagePath(baseDir: string, _cache?: Cache | boolean) {\n  let cache;\n  if (_cache === undefined || _cache === null || _cache === true) {\n    // if no cache specified, or if cache is true then use the global cache\n    cache = FIND_UP_CACHE;\n  } else if (_cache === false) {\n    // if cache is explicity false, create a throw-away cache;\n    cache = new Cache();\n  } else {\n    // otherwise, assume the user has provided an alternative cache for the following form:\n    // provided by resolve-package-path/lib/cache-group.js\n    cache = _cache;\n  }\n\n  let absoluteStart = path.resolve(baseDir);\n\n  return __findUpPackagePath(cache, absoluteStart);\n}\n\n/*\n * @public\n *\n * @method resolvePackagePathSync\n * @param {string} name name of the dependency module.\n * @param {string} baseDir root dir to run the resolve from\n * @param {Boolean|CustomCache} (optional)\n *  * if true: will choose the default global cache\n *  * if false: will not cache\n *  * if undefined or omitted, will choose the default global cache\n *  * otherwise we assume the argument is an external cache of the form provided by resolve-package-path/lib/cache-group.js\n *\n * @return {string|null} a full path to the resolved package.json if found or null if not\n */\nexport = resolvePackagePath;\nfunction resolvePackagePath(\n  target: string,\n  baseDir: string,\n  _cache?: CacheGroup | boolean,\n): string | null {\n  let cache;\n\n  if (_cache === undefined || _cache === null || _cache === true) {\n    // if no cache specified, or if cache is true then use the global cache\n    cache = CACHE;\n  } else if (_cache === false) {\n    // if cache is explicity false, create a throw-away cache;\n    cache = new CacheGroup();\n  } else {\n    // otherwise, assume the user has provided an alternative cache for the following form:\n    // provided by resolve-package-path/lib/cache-group.js\n    cache = _cache;\n  }\n\n  if (baseDir.charAt(baseDir.length - 1) !== path.sep) {\n    baseDir = `${baseDir}${path.sep}`;\n  }\n\n  const key = target + '\\x00' + baseDir;\n\n  let pkgPath;\n\n  if (cache.PATH.has(key)) {\n    pkgPath = cache.PATH.get(key);\n  } else {\n    try {\n      // the custom `pnp` code here can be removed when yarn 1.13 is the\n      // current release. This is due to Yarn 1.13 and resolve interoperating\n      // together seamlessly.\n      pkgPath = pnp\n        ? pnp.resolveToUnqualified(target + '/package.json', baseDir)\n        : customResolvePackagePath(cache, target, baseDir);\n    } catch (e) {\n      rethrowUnlessCode(e,  ...ALLOWED_ERROR_CODES);\n      pkgPath = null;\n    }\n\n    cache.PATH.set(key, pkgPath);\n  }\n  return pkgPath;\n}\n\nresolvePackagePath._resetCache = function () {\n  CACHE = new CacheGroup();\n  FIND_UP_CACHE = new Cache();\n};\n// eslint-disable-next-line no-redeclare\nmodule resolvePackagePath {\n  export let _CACHE: CacheGroup;\n  export let _FIND_UP_CACHE = FIND_UP_CACHE;\n  export let findUpPackagePath = _findUpPackagePath;\n}\nObject.defineProperty(resolvePackagePath, '_CACHE', {\n  get: function () {\n    return CACHE;\n  },\n});\nObject.defineProperty(resolvePackagePath, '_FIND_UP_CACHE', {\n  get: function () {\n    return FIND_UP_CACHE;\n  },\n});\n\nresolvePackagePath.getRealFilePath = function (filePath: string) {\n  return getRealFilePath(CACHE.REAL_FILE_PATH, filePath);\n};\n\nresolvePackagePath.getRealDirectoryPath = function (directoryPath: string) {\n  return getRealDirectoryPath(CACHE.REAL_DIRECTORY_PATH, directoryPath);\n};\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst resolve_package_path_1 = __importDefault(require(\"resolve-package-path\"));\nconst path_1 = require(\"path\");\n/**\n * Returns the path to a file within a node package\n * @param pkg The name of a node package\n * @param file The path to the file within the package\n * @return A file path\n */\nfunction resolveInPackage(pkg, ...file) {\n    let path = (0, resolve_package_path_1.default)(pkg, __dirname) || (0, resolve_package_path_1.default)(pkg, process.cwd());\n    if (!path)\n        return undefined;\n    const packagePath = (0, path_1.dirname)(path);\n    return (0, path_1.join)(packagePath, ...file);\n}\nexports.default = resolveInPackage;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getJsInternalPath = exports.getConfigPath = exports.getRoutesPath = exports.getSrcConfigPath = exports.getSrcRouterPath = exports.getStaticAssetManifestPath = exports.getEntryPoint = exports.pathForBackend = exports.STATIC_ASSET_EXPIRATION_FILE_NAME = exports.STATIC_ASSET_MANIFEST_FILE_NAME = exports.CONFIG_FILE_NAME = exports.ROUTES_FILE_NAME = exports.TMP_DIR = exports.SOURCES_DIR = exports.PERMANENT_ASSETS_DIR = exports.ASSETS_DIR = exports.EDGE_FUNCTIONS_QUICKJS_BYTECODE_PATH = exports.EDGE_FUNCTIONS_QUICKJS_BYTECODE_FILENAME = exports.EDGE_FUNCTIONS_INDEX_PATH = exports.EDGE_FUNCTIONS_BUNDLE_PATH = exports.EDGE_FUNCTIONS_BUNDLE_FILENAME = exports.EDGE_FUNCTION_SOURCES_FILENAME = exports.EDGE_FUNCTIONS_INDEX_FILENAME = exports.JS_APP_DIR = exports.JS_APP_DIR_NAME = exports.JS_INTERNAL_DIR = exports.JS_INTERNAL_DIR_NAME = exports.LAMBDA_DIR = exports.EDGIO_DIR = void 0;\nconst fs_1 = require(\"fs\");\nconst path_1 = require(\"path\");\nconst resolveInPackage_1 = __importDefault(require(\"./resolveInPackage\"));\nconst global_helpers_1 = require(\"../lambda/global.helpers\");\n/**\n * The .edgio build directory\n */\nexports.EDGIO_DIR = '.edgio';\n/**\n * The destination directory with entrypoint for lambda function.\n * This directory contains two directories: internal and app.\n */\nexports.LAMBDA_DIR = (0, path_1.join)(exports.EDGIO_DIR, 'lambda');\n/**\n * The name of destination directory for our internal JS files such as\n * handler, backends, router etc...\n */\nexports.JS_INTERNAL_DIR_NAME = 'internal';\n/**\n * The relative path to destination directory for our internal JS files such as\n * handler, backends, router etc...\n */\nexports.JS_INTERNAL_DIR = (0, path_1.join)(exports.LAMBDA_DIR, exports.JS_INTERNAL_DIR_NAME);\n/**\n * The name of destination directory for user's file with JS code\n * with server and its dependencies\n */\nexports.JS_APP_DIR_NAME = 'app';\n/**\n * The relative path to destination directory for user's file with JS code\n * with server and its dependencies\n */\nexports.JS_APP_DIR = (0, path_1.join)(exports.LAMBDA_DIR, exports.JS_APP_DIR_NAME);\n/**\n * The name of the bundled edge functions index file\n */\nexports.EDGE_FUNCTIONS_INDEX_FILENAME = '__edge-functions-index__.js';\n/**\n * The name of the file containing edge function source code\n */\nexports.EDGE_FUNCTION_SOURCES_FILENAME = '__edge-function-sources__.json';\n/**\n * The name of the bundled edge functions file\n */\nexports.EDGE_FUNCTIONS_BUNDLE_FILENAME = 'edge-function.js';\n/**\n * The path of the bundled edge functions file\n */\nexports.EDGE_FUNCTIONS_BUNDLE_PATH = (0, path_1.join)(exports.JS_INTERNAL_DIR, exports.EDGE_FUNCTIONS_BUNDLE_FILENAME);\n/**\n * The path to the edge functions index file\n */\nexports.EDGE_FUNCTIONS_INDEX_PATH = (0, path_1.join)(exports.JS_INTERNAL_DIR, exports.EDGE_FUNCTIONS_INDEX_FILENAME);\n/**\n * The name of the bundled edge functions index compiled QuickJS bytecode file\n */\nexports.EDGE_FUNCTIONS_QUICKJS_BYTECODE_FILENAME = '__edge-functions__.qbc';\n/**\n * The path to the bundled edge functions index compiled QuickJS bytecode file\n */\nexports.EDGE_FUNCTIONS_QUICKJS_BYTECODE_PATH = (0, path_1.join)(exports.JS_INTERNAL_DIR, exports.EDGE_FUNCTIONS_QUICKJS_BYTECODE_FILENAME);\n/**\n * The destination directory for static assets\n */\nexports.ASSETS_DIR = (0, path_1.join)(exports.EDGIO_DIR, 's3');\nexports.PERMANENT_ASSETS_DIR = (0, path_1.join)(exports.EDGIO_DIR, 's3-permanent');\n/**\n * The directory into which source code is copied for debugging purposes\n */\nexports.SOURCES_DIR = (0, path_1.join)(exports.EDGIO_DIR, 'src');\n/**\n * The directory for temporary files during the build process.\n * This directory is cleaned after the build process is complete.\n */\nexports.TMP_DIR = (0, path_1.join)(exports.EDGIO_DIR, 'tmp');\n/**\n * The name of the compiled routes file\n */\nexports.ROUTES_FILE_NAME = 'routes.cjs';\n/**\n * The name of the compiled edgio config file\n */\nexports.CONFIG_FILE_NAME = 'edgio.config.cjs';\n/**\n * The static asset manifest file name\n * @private\n */\nexports.STATIC_ASSET_MANIFEST_FILE_NAME = 'static-asset-manifest.json';\n/**\n * The static asset expiration file name\n * @private\n */\nexports.STATIC_ASSET_EXPIRATION_FILE_NAME = 'static-asset-expiration.json';\n/**\n * Returns the destination path within the lambda dir for the specified backend\n * @param backend A backend name\n * @return a file path\n */\nfunction pathForBackend(backend) {\n    return (0, path_1.join)('__backends__', `${backend}.cjs`);\n}\nexports.pathForBackend = pathForBackend;\nconst getEntryPoint = (entry, appDir, connector = '@edgio/core') => {\n    // If the connector is a relative path,\n    // we assume that the user wants to use custom connector\n    if (connector === null || connector === void 0 ? void 0 : connector.startsWith('.')) {\n        const entryFile = [\n            (0, path_1.join)(appDir, connector, `${entry}.cjs`),\n            (0, path_1.join)(appDir, connector, `${entry}.mjs`),\n            (0, path_1.join)(appDir, connector, `${entry}.js`), // Treating as CommonJS - use require\n        ].find(file => (0, fs_1.existsSync)(file)) || '';\n        if (entryFile && (0, fs_1.existsSync)(entryFile)) {\n            return entryFile;\n        }\n        return undefined;\n    }\n    // Try to find the entry file in the connector package\n    // and fallback to @edgio/core package\n    // if the provided connector doesn't have the specified entry file.\n    // NOTE: The fallback here is important because some connectors\n    // have only dev file but not prod file.\n    return ([\n        (0, resolveInPackage_1.default)(connector, `${entry}.js`),\n        (0, resolveInPackage_1.default)('@edgio/connectors', `${entry}.js`),\n        (0, resolveInPackage_1.default)('@edgio/core', `${entry}.js`),\n    ].find(file => file && (0, fs_1.existsSync)(file)) || '');\n};\nexports.getEntryPoint = getEntryPoint;\n/**\n * Gets the path to static-asset-manifest.json file\n * @returns\n */\nfunction getStaticAssetManifestPath() {\n    var _a, _b;\n    if ((_a = global_helpers_1.EdgioRuntimeGlobal.runtimeOptions) === null || _a === void 0 ? void 0 : _a.fs.edgio.lambda.internal.staticAssetManifest)\n        return (_b = global_helpers_1.EdgioRuntimeGlobal.runtimeOptions) === null || _b === void 0 ? void 0 : _b.fs.edgio.lambda.internal.staticAssetManifest.value;\n    const filePath = (0, path_1.join)(getJsInternalPath(), exports.STATIC_ASSET_MANIFEST_FILE_NAME);\n    if (!(0, fs_1.existsSync)(filePath)) {\n        throw new Error(`The '${filePath}' file was not found. Please try to re-run 'edgio build'.`);\n    }\n    return filePath;\n}\nexports.getStaticAssetManifestPath = getStaticAssetManifestPath;\n/**\n * Returns the path to the routes.js file with the router.\n * @param config The config from edgio.config.js\n * @param cwd The current working directory\n * @returns\n */\nfunction getSrcRouterPath(config) {\n    const folder = process.cwd();\n    const result = ((config === null || config === void 0 ? void 0 : config.routes)\n        ? [(0, path_1.join)(process.cwd(), config.routes)]\n        : [(0, path_1.join)(folder, 'routes.js'), (0, path_1.join)(folder, 'routes.ts'), (0, path_1.join)(folder, 'routes.cjs')]).find(fs_1.existsSync);\n    if (result == null) {\n        const srcFile = (config === null || config === void 0 ? void 0 : config.routes) || `routes.js, routes.ts, or routes.cjs`;\n        throw new Error(`Edgio routes file not found. Please create ${srcFile} in the root directory of your project.`);\n    }\n    return result;\n}\nexports.getSrcRouterPath = getSrcRouterPath;\n/**\n * Gets the path to edgio.config.js file\n * @returns\n */\nfunction getSrcConfigPath() {\n    // When app is running in production mode,\n    // the built config file from the internal folder is returned.\n    // Otherwise, the config file from the project root folder is returned.\n    const folder = process.cwd();\n    const result = [\n        (0, path_1.join)(folder, 'edgio.config.js'),\n        (0, path_1.join)(folder, 'edgio.config.ts'),\n        (0, path_1.join)(folder, 'edgio.config.cjs'),\n    ].find(fs_1.existsSync);\n    if (result == null) {\n        throw new Error('Edgio config file not found. Please create edgio.config.js or edgio.config.cjs in the root directory of your project.');\n    }\n    return result;\n}\nexports.getSrcConfigPath = getSrcConfigPath;\n/**\n * Gets the path to '.edgio/lambda/internal/routes.cjs file\n * @returns\n */\nfunction getRoutesPath() {\n    var _a, _b;\n    return (_b = (_a = global_helpers_1.EdgioRuntimeGlobal.runtimeOptions) === null || _a === void 0 ? void 0 : _a.fs.edgio.lambda.internal.routes) !== null && _b !== void 0 ? _b : getSrcRouterPath();\n}\nexports.getRoutesPath = getRoutesPath;\n/**\n * Gets the path to '.edgio/lambda/internal/edgio.config.cjs file\n * @returns\n */\nfunction getConfigPath() {\n    var _a, _b;\n    return ((_b = (_a = global_helpers_1.EdgioRuntimeGlobal.runtimeOptions) === null || _a === void 0 ? void 0 : _a.fs.edgio.lambda.internal.config.value) !== null && _b !== void 0 ? _b : getSrcConfigPath());\n}\nexports.getConfigPath = getConfigPath;\n/**\n * Returns the path to the '.edgio/lambda/internal' folder\n * with our edgio's JS files such as routes.cjs or edgio.config.cjs.\n * @returns\n */\nfunction getJsInternalPath() {\n    var _a, _b;\n    return ((_b = (_a = global_helpers_1.EdgioRuntimeGlobal.runtimeOptions) === null || _a === void 0 ? void 0 : _a.fs.edgio.lambda.internal.value) !== null && _b !== void 0 ? _b : (0, path_1.join)(process.cwd(), exports.JS_INTERNAL_DIR));\n}\nexports.getJsInternalPath = getJsInternalPath;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getConfigFromFile = exports.getConfig = void 0;\nconst paths_1 = require(\"./deploy/paths\");\nconst utils_1 = require(\"./utils\");\nconst log_1 = __importDefault(require(\"./log\"));\nlet config;\nfunction getConfig(reload = false) {\n    const srcPath = (0, paths_1.getConfigPath)();\n    return getConfigFromFile(srcPath, reload);\n}\nexports.getConfig = getConfig;\n/**\n * Returns the contents of edgio.config.js\n * @param reload Set to true to ensure that the config is reloaded from disk\n * @returns\n */\nfunction getConfigFromFile(srcPath, reload = false) {\n    if (!config || reload) {\n        if (reload) {\n            delete require.cache[srcPath];\n        }\n        try {\n            // NOTE: We cannot use import here to solve the issue with ESM modules\n            // because this function would need to be changed to async.\n            // This function is used on several places including the Router methods (onRegister for example) and there is no way to make them async\n            // without breaking the method chaining feature or mess up the rules order.\n            config = (0, utils_1.nonWebpackRequire)(srcPath);\n        }\n        catch (e) {\n            if (e.code === 'ERR_REQUIRE_ESM') {\n                log_1.default.error(`Error: The 'edgio.config.js' file cannot be loaded because it uses CommonJS syntax and this project is set to type 'module'. Please rename it to 'edgio.config.cjs'.`);\n                process.exit(1);\n            }\n            throw e;\n        }\n        // injected by build-lambda/src/jobs/deployBuild.js\n        const environment = process.env.EDGIO_ENVIRONMENT_NAME;\n        // apply config overrides for the current environment\n        if (environment && config.environments && config.environments[environment]) {\n            log_1.default.info(`using config overrides for ${environment}`);\n            Object.assign(config, config.environments[environment]);\n        }\n        // this is backwards compatibility for the old custom connector\n        // which is now deprecated, but it was out for a bit so we need to support it\n        if (config.nodejsConnector && config.customConnector) {\n            config.nodejsConnector = config.customConnector;\n        }\n    }\n    return config;\n}\nexports.getConfigFromFile = getConfigFromFile;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst path_1 = require(\"path\");\nconst constants_1 = require(\"../constants\");\nconst source_1 = require(\"../source\");\nconst utils_1 = require(\"../utils\");\nconst requireInternal_1 = __importDefault(require(\"../utils/requireInternal\"));\nconst toRule_1 = require(\"./converters/toRule\");\nconst toFeature_1 = require(\"./converters/toFeature\");\nconst PreloadRequests_1 = __importDefault(require(\"./PreloadRequests\"));\nconst exact_1 = require(\"./exact\");\nconst environment_1 = require(\"../environment\");\nconst slash_1 = __importDefault(require(\"slash\"));\nconst paths_1 = require(\"../deploy/paths\");\nconst config_1 = require(\"../config\");\n/**\n * The router allows to define EdgeJS rules and their associated features\n * in convenient way as a chainable javascript code.\n * Please pay attention to the following notes when using Router to avoid unexpected behavior.\n *\n * **Router evaluation**\n *\n * The defined EdgeJS rules are transformed to equivalent EdgeControl rules for the Edge\n * only once during the build of Router when it's evaluated in Edgio's serverless cloud.\n * Therefore, any other runtime modifications of the Router are not supported even though they are valid javascript code.\n *\n * Example of incorrect usages:\n * ```js\n *  import { Router } = from '@edgio/core/router'\n *\n *  const router = new Router()\n *    // This will not work!\n *    // Router cannot be modified during runtime from the compute function.\n *    .get('/products/:category/:id', ({ compute }) => {\n *      compute(async (req, res) => {\n *        if(req.path.startsWith('/product/books')){\n *          router.static('products/books')\n *        }\n *      })\n *    })\n *    // This will not work as expected!\n *    // The following code will add two independent rules, one for '/products/:category/:id' and second for '/products/books/:id',\n *    // because the called get() methods don't know about nested structure. We strongly recommend to avoid this code pattern.\n *    .get('/products/:category/:id', ({}) => {\n *      router.get('/products/books/:id', {\n *        origin: {\n *          set_origin: \"api\"\n *        }\n *      })\n *    })\n *\n *  export default router\n * ```\n */\nclass Router {\n    constructor(options = {}) {\n        this.rules = [];\n        this.routerOptions = {};\n        // We need to keep functions in object, for cases where one would initialize a nested router BEFORE the main one.\n        // That would cause the indices to be invalid, and wrong functions to be invoked.\n        //\n        // In order to avoid confusion, and a lot of changes anywhere functions are exported (breaking to existing projects),\n        // the 'functions' property remains an instance variable / isnt static.\n        this.functions = {};\n        this.preloadRequests = new PreloadRequests_1.default();\n        /**\n         * Variable that is true only if router is inside of 'if' statement.\n         *\n         * NOTE: we could allow user to 'else' and 'elseif' before previous 'if' calls,\n         * as in many cases, it would be valid - bool was added to avoid having to handle invalid cases.\n         *\n         * Invalid cases :\n         *   - previous conditional with already existing 'else'\n         *   - features-only rule, when createMatchers returns empty criteria\n         *\n         * Also, it just seems wrong to allow calling something like .get().elseif()\n         */\n        this.isIfActive = false;\n        this.configInternal = undefined;\n        /**\n         * Forces the HTTPS protocol for all requests by redirecting HTTP requests to HTTPS\n         * and sets the `Strict-Transport-Security` header with the specified options\n         * to tell the browser to remember that this site is only to be accessed using HTTPS.\n         *\n         * Example:\n         *\n         * ```js\n         *  new Router()\n         *    .forceHttps({\n         *      redirectCode: 302,\n         *      hsts: true,\n         *      hstsMaxAge: 31536000,\n         *    })\n         *    .get('/api/products/:category/:id', ({ setOrigin }) => {\n         *      setOrigin('api');\n         *    })\n         * ```\n         *\n         * @param options\n         * @returns A self-reference, suitable for chaining.\n         */\n        this.forceHttps = ({ redirectCode = 301, hsts = true, hstsMaxAge = 15768000, // 6 months in seconds\n        hstsIncludeSubDomains = false, hstsPreload = false, } = {}) => {\n            this.match({ scheme: 'HTTP' }, ({ setResponseHeader, setResponseCode, setComment }) => {\n                setComment(`Redirect to HTTPS`);\n                // This approach works correctly even with rewrites, as it uses the original request path.\n                setResponseHeader(constants_1.HTTP_HEADERS.location, `https://%{host}%{normalized_uri}`);\n                setResponseCode(redirectCode);\n            });\n            // Always add HSTS header with the specified options\n            if (hsts) {\n                this.always(({ setComment, setResponseHeader }) => {\n                    setComment(`Set HSTS header`);\n                    setResponseHeader(constants_1.HTTP_HEADERS.strictTransportSecurity, `max-age=${hstsMaxAge}${hstsIncludeSubDomains ? '; includeSubDomains' : ''}${hstsPreload ? '; preload' : ''}`);\n                });\n            }\n            return this;\n        };\n        this.routerOptions = options;\n    }\n    get Config() {\n        if (!this.configInternal) {\n            this.configInternal = (0, config_1.getConfig)(true);\n        }\n        return this.configInternal;\n    }\n    addStaticAssetManifestEntry(path, data) {\n        if (Router._staticAssetManifest[path] === undefined) {\n            Router._staticAssetManifest[path] = data;\n        }\n        else {\n            // We need to make sure that we don't have duplicates in the array.\n            Router._staticAssetManifest[path] = Array.from(new Set([...Router._staticAssetManifest[path], ...data]));\n        }\n    }\n    /**\n     * Returns the static asset manifest from this router file.\n     * NOTE: This method is needed because we're dynamically loading\n     * another Router class from a bundled routes.js file,\n     * which doesn't share a same class static variables.\n     */\n    getStaticAssetManifest() {\n        return Router._staticAssetManifest;\n    }\n    /**\n     * Loads and returns a router from a file that exports it with `module.exports` or `export default`.\n     * @param routerPath A path to routes.js,\n     */\n    static load(routerPath) {\n        const routerModule = (0, utils_1.nonWebpackRequire)(routerPath);\n        return (routerModule.default || routerModule);\n    }\n    /**\n     * Defines a route that matches all requests.\n     * @param features Features to apply on all requests.\n     * @returns A self reference, suitable for chaining\n     */\n    always(features, options) {\n        return this.matchInternal({}, features, options);\n    }\n    /**\n     * Defines a route that matches GET requests.\n     * @param criteria An express-style path expression, regular expression or advanced criteria object\n     * @param features Features to apply when a request matches the route.\n     * @returns A self reference, suitable for chaining\n     */\n    get(criteria, features, options) {\n        return this.matchMethod(constants_1.HTTP_METHODS.get, criteria, features, options);\n    }\n    /**\n     * Defines a route that matches POST requests.\n     * @param criteria An express-style path expression, regular expression or advanced criteria object\n     * @param features Features to apply when a request matches the route\n     * @returns A self reference, suitable for chaining\n     */\n    put(criteria, features, options) {\n        return this.matchMethod(constants_1.HTTP_METHODS.put, criteria, features, options);\n    }\n    /**\n     * Defines a route that matches PATCH requests.\n     * @param criteria An express-style path expression, regular expression or advanced criteria object\n     * @param features Features to apply when a request matches the route\n     * @returns A self reference, suitable for chaining\n     */\n    patch(criteria, features, options) {\n        return this.matchMethod(constants_1.HTTP_METHODS.patch, criteria, features, options);\n    }\n    /**\n     * Defines a route that matches POST requests.\n     * @param criteria An express-style path expression, regular expression or advanced criteria object\n     * @param features Features to apply when a request matches the route\n     * @returns A self reference, suitable for chaining\n     */\n    post(criteria, features, options) {\n        return this.matchMethod(constants_1.HTTP_METHODS.post, criteria, features, options);\n    }\n    /**\n     * Defines a route that matches HEAD requests.\n     * @param criteria An express-style path expression, regular expression or advanced criteria object\n     * @param features Features to apply when a request matches the route\n     * @returns A self reference, suitable for chaining\n     */\n    head(criteria, features, options) {\n        return this.matchMethod(constants_1.HTTP_METHODS.head, criteria, features, options);\n    }\n    /**\n     * Defines a route that matches DELETE requests.\n     * @param criteria An express-style path expression, regular expression or advanced criteria object\n     * @param features Features to apply when a request matches the route\n     * @returns A self reference, suitable for chaining\n     */\n    delete(criteria, features, options) {\n        return this.matchMethod(constants_1.HTTP_METHODS.delete, criteria, features, options);\n    }\n    /**\n     * Defines a route that matches OPTIONS requests.\n     * @param criteria An express-style path expression, regular expression or advanced criteria object\n     * @param features Features to apply when a request matches the route\n     * @returns A self reference, suitable for chaining\n     */\n    options(criteria, features, options) {\n        return this.matchMethod(constants_1.HTTP_METHODS.options, criteria, features, options);\n    }\n    /**\n     * Defines a route.\n     * @param criteria An express-style path expression, regular expression or advanced criteria object\n     * @param features Features to apply when a request matches the route\n     * @returns A self reference, suitable for chaining\n     */\n    match(criteria, features, options) {\n        if (typeof criteria === 'string' ||\n            criteria instanceof RegExp ||\n            criteria instanceof exact_1.ExactPath) {\n            return this.matchInternal({ path: criteria }, features, options);\n        }\n        else {\n            return this.matchInternal(criteria, features, options);\n        }\n    }\n    /**\n     * Registers a rule that supports advanced if/then/else logic.\n     * @param criteria\n     * @returns A self reference, suitable for chaining\n     */\n    conditional(criteria) {\n        this.rules.push(criteria);\n        return this;\n    }\n    /**\n     * Adds an if condition\n     * @param criteria A criteria object, with ability to create advanced criteria through 'and' and 'or' methods.\n     * @param featuresOrRouter features to be applied, or router to be nested.\n     * @param featuresOrRouters additional features to be applied, or routers to be nested.\n     * @returns A self reference, suitable for chaining\n     */\n    if(criteria, featureOrRouter, ...featuresOrRouters) {\n        if (Object.keys(criteria).length === 0) {\n            throw new Error(\"If statement mustn't have empty criteria.\");\n        }\n        this.isIfActive = true;\n        this.rules.push((0, toRule_1.toRule)(criteria, ...this.createConditionFeatures(criteria, featureOrRouter, featuresOrRouters)));\n        this.addNestedFunctions(featureOrRouter, featuresOrRouters);\n        return this;\n    }\n    /**\n     * Adds an elseif condition - requires either 'if' or 'elseif' functions to be called previously.\n     * @param criteria A criteria object, with ability to create advanced criteria through 'and' and 'or' methods.\n     * @param featuresOrRouter features to be applied, or router to be nested.\n     * @param featuresOrRouters additional features to be applied, or routers to be nested.\n     * @returns A self reference, suitable for chaining\n     */\n    elseif(criteria, featureOrRouter, ...featuresOrRouters) {\n        if (Object.keys(criteria).length === 0) {\n            throw new Error(\"Elseif statement mustn't have empty criteria.\");\n        }\n        if (!this.isIfActive) {\n            throw new Error(\"Call of 'elseif' must follow either 'if', or 'elseif' calls. If you are re-using the parent router, please create a new instance.\");\n        }\n        const lastRule = this.rules[this.rules.length - 1];\n        const rule = (0, toRule_1.toRule)(criteria, ...this.createConditionFeatures(criteria, featureOrRouter, featuresOrRouters));\n        lastRule.if.push(...(rule.if ? rule.if : [rule]));\n        this.addNestedFunctions(featureOrRouter, featuresOrRouters);\n        return this;\n    }\n    /**\n     * Adds an else condition - requires either 'if' or 'elseif' functions to be called previously.\n     * @param featuresOrRouter features to be applied, or router to be nested.\n     * @param featuresOrRouters additional features to be applied, or routers to be nested.\n     * @returns A self reference, suitable for chaining\n     */\n    else(featureOrRouter, ...featuresOrRouters) {\n        if (!this.isIfActive) {\n            throw new Error(\"Call of 'else' must follow either 'if', or 'elseif' calls. If you are re-using the parent router, please create a new instance.\");\n        }\n        const lastRule = this.rules[this.rules.length - 1];\n        lastRule.if.push((0, toRule_1.toThen)(this.createConditionFeatures({}, featureOrRouter, featuresOrRouters)));\n        this.addNestedFunctions(featureOrRouter, featuresOrRouters);\n        this.isIfActive = false;\n        return this;\n    }\n    /**\n     * Searches through features for possible routers, adds all of their nested functions into this router.\n     * @private\n     */\n    addNestedFunctions(featureOrRouter, featuresOrRouters = []) {\n        ;\n        [featureOrRouter, ...featuresOrRouters].forEach((featureOrRouter) => {\n            // We know its a router if it has functions.\n            if (featureOrRouter === null || featureOrRouter === void 0 ? void 0 : featureOrRouter.functions) {\n                // We merge the functions - as the index is global, none of them will overlap.\n                // We dont create a new object, to keep the original reference.\n                Object.entries(featureOrRouter.functions).forEach(([key, value]) => (this.functions[key] = value));\n            }\n        });\n    }\n    /**\n     * Registers a plugin that adds group of rules into the router.\n     * This method should be always called before any other methods that add rules.\n     * **Example**\n     *\n     * ```js\n     *  import { Router } = from '@edgio/core/router'\n     *  import { nextRoutes } from '@edgio/next'\n     *\n     * export default new Router()\n     *   // NextRoutes automatically adds rules for all Next.js pages and their assets.\n     *   // This should be called before any custom rules are added.\n     *   .use(nextRoutes)\n     *   .get('/custom-rule', {\n     *      origin: {\n     *        set_origin: \"api\"\n     *      }\n     *   })\n     * ```\n     * @param plugin\n     */\n    use(plugin) {\n        plugin.onRegister(this);\n        return this;\n    }\n    // We normalize all feature creators into features\n    createConditionFeatures(criteria, featureOrRouter, featuresOrRouters = []) {\n        return [featureOrRouter, ...featuresOrRouters].map(featureOrRouter => typeof featureOrRouter === 'function'\n            ? (0, toFeature_1.toFeature)(criteria, featureOrRouter, this)\n            : featureOrRouter);\n    }\n    /**\n     * Internal normalized method for adding a route.\n     * @param criteria\n     * @param features Features to apply when a request matches the route\n     * @returns A self reference, suitable for chaining\n     */\n    matchInternal(criteria, featuresParam, options) {\n        // convert to rule and add it internally\n        const features = (0, toFeature_1.toFeature)(criteria, featuresParam, this);\n        const rule = (0, toRule_1.toRule)(criteria, features);\n        this.rules.push(rule);\n        // We must deactivate conditions for cases where they wouldnt be closed with 'else'.\n        // All other places either call matchInternal, or all irrelevant, as they dont create any rules.\n        this.isIfActive = false;\n        return this;\n    }\n    /**\n     * Adds a route that matches the specific HTTP method and additional criteria.\n     * @param method An HTTP method\n     * @param criteria An express-style path expression, regular expression or advanced criteria object\n     * @param features Features to apply when a request matches the route\n     * @returns A self reference, suitable for chaining\n     */\n    matchMethod(method, criteria, features, options) {\n        if (typeof criteria === 'string' ||\n            criteria instanceof RegExp ||\n            criteria instanceof exact_1.ExactPath) {\n            return this.match({\n                method,\n                path: criteria,\n            }, features);\n        }\n        if (criteria === null || criteria === void 0 ? void 0 : criteria.method) {\n            throw new Error(`Invalid criteria property method passed to call to Router#${method}. Specifying a method in the criteria is redundant.`);\n        }\n        return this.match({ ...criteria, method }, features, options);\n    }\n    /**\n     * Adds routes for all files in a directory tree.\n     * @private\n     * @param sourcePath The path to a directory containing static assets relative to the root of your project.\n     * @param features A features that will be used to handle the matched files.\n     * @param options\n     * @returns A self-reference, suitable for chaining.\n     */\n    dir(sourcePath, features, options = {}) {\n        const createInMatcher = (files) => {\n            // Don't create any rule if there are no files\n            if (!files || files.length === 0)\n                return;\n            const paths = files\n                .flatMap(file => { var _a; return ((_a = options === null || options === void 0 ? void 0 : options.paths) === null || _a === void 0 ? void 0 : _a.call(options, file)) || [`/${file}`]; })\n                // Normalize paths to use backslashes on Windows systems\n                .map(path => path.replace(/\\\\+/g, '/'))\n                .flatMap(path => {\n                if (!path.endsWith('/index.html'))\n                    return [path];\n                // Add additional paths for index.html files\n                return Array.from(new Set([\n                    // Add path with trailing slash\n                    // Example: /folder/ for /folder/index.html\n                    path.toString().replace(/\\/index.html$/, '/'),\n                    // Add path without trailing slash\n                    // Example: /folder for /folder/index.html\n                    path.toString().replace(/\\/index.html$/, ''),\n                ])).filter(path => path.length > 0);\n            });\n            this.match({ path: paths }, features);\n        };\n        if ((0, environment_1.isCloud)()) {\n            const files = this.staticAssetsForPath(sourcePath);\n            createInMatcher(files);\n        }\n        else {\n            const files = Router.collectFiles(sourcePath, options);\n            this.addStaticAssetManifestEntry((0, slash_1.default)(sourcePath), files);\n            createInMatcher(files);\n        }\n        return this;\n    }\n    /**\n     * Adds routes for all static assets in a directory tree.\n     * @param sourcePath The path to a directory containing static assets relative to the root of your project.\n     * @param options\n     * @returns A self-reference, suitable for chaining.\n     */\n    static(sourcePath, options = {}) {\n        const features = (helper) => {\n            helper.serveStatic(`${sourcePath}/:path*`, {\n                rewritePathSource: options === null || options === void 0 ? void 0 : options.rewritePathSource,\n            });\n            if (options === null || options === void 0 ? void 0 : options.handler)\n                options.handler(helper);\n        };\n        return this.dir(sourcePath, features, options);\n    }\n    /**\n     * Since the files are now on S3, we can no longer crawl the file system to\n     * determine the routes, so we use the manifest file.\n     * We also prevent webpack from trying to bundle the manifest, which will fail.\n     */\n    staticAssetsForPath(path) {\n        return (0, utils_1.nonWebpackRequire)((0, paths_1.getStaticAssetManifestPath)())[path];\n    }\n    /**\n     * Registers Edgio Cloud Function. Returns the index of the function being registered so that it can be called\n     * at runtime based on the `x-edg-fn` request header.\n     * @private\n     * @param fn The Edgio Cloud Function to store\n     * @returns the index of the function being registered\n     */\n    addFunction(fn) {\n        // We use the global index in order to make sure we link function in the nested routers properly.\n        // Alternativelly, we could either create a hash of the function, or use UUID - both of those would look bad in the UI.\n        // We dont expect the global state to be an issue apart from potential unit test confusion.\n        // But even for unit tests, its only an issue if testing against exact indices, the execution should be ok no matter what.\n        this.functions[Router.functionIndex] = fn;\n        return Router.functionIndex++;\n    }\n    /**\n     * Adds preload config for router\n     *\n     * ```js\n     *  new Router().prerender(\n     *    async () => [{ path: '/foo', headers: { foo: 'bar' } }],\n     *    [{ path: '/bar' }]\n     *  )\n     * ```\n     *\n     * @param preloadOptions\n     * @private\n     */\n    prerender(...preloadOptions) {\n        this.preloadRequests.push(...preloadOptions);\n        return this;\n    }\n    /**\n     * Disables crawling of permalinks by setting the `x-robots-tag: noindex` response header\n     * for hosts matching edgio.link or edgio-perma.link.\n     *\n     * ```js\n     *  new Router().noIndexPermalink()\n     * ```\n     *   @deprecated Deprecated. Indexing permalinks is automatically disabled. Use `indexPermalink?: boolean` on Router Options to enable them.\n     * * @returns {Router} A self-reference, suitable for chaining.\n     */\n    noIndexPermalink() {\n        // The functionality of this function is automatically taken over\n        // packages/core/src/router/addBuildInRoutes.ts\n        return this;\n    }\n    static collectFiles(sourcePath, options) {\n        var _a;\n        const directory = (0, path_1.join)((0, source_1.getSourceDir)(), sourcePath);\n        const ignore = typeof options.ignore === 'string' ? [options.ignore] : (_a = options.ignore) !== null && _a !== void 0 ? _a : [];\n        // glob is large and we don't need it in production so we use nonWebpackRequire\n        let files = (0, requireInternal_1.default)('globby').sync(options.glob || '**/*', {\n            cwd: directory,\n            onlyFiles: true,\n            ignore,\n        });\n        if (options.sort) {\n            files = options.sort(files);\n        }\n        return files;\n    }\n    /**\n     * Adds a route that matches all requests that result in an error.\n     *\n     * Example:\n     *\n     * ```js\n     *  new Router()\n     *    .catch(/^(4|5)\\d{2}$/, {\n     *      // retry all 4xx and 5xx errors using the legacy origin\n     *      retry: {\n     *        origin: \"legacy\",\n     *      },\n     *    });\n     * ```\n     *\n     * @param error A regular expression, string or number that matches the status code returned by the origin\n     * @param features Features to apply when a request matches the route\n     * @returns A self-reference, suitable for chaining.\n     */\n    catch(error, features) {\n        let errorRegex;\n        if (error instanceof RegExp) {\n            errorRegex = error;\n        }\n        else {\n            errorRegex = new RegExp(`^${error.toString()}$`);\n        }\n        return this.matchInternal({ response: { status_code: errorRegex } }, features);\n    }\n}\nexports.default = Router;\n// We keep a static global function index in order to support nested routers.\nRouter.functionIndex = 0;\n/**\n * The contents to be written to static-asset-manifest.json, which is used to recreate\n * the paths for router.static(dir) when generating the rules for EdgeControl.\n * This is a static variable, so it can be shared across all instances of Router\n * and works with nested rules too.\n * @private\n */\nRouter._staticAssetManifest = {};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fromTimeUnitAbbrev = void 0;\n/**\n * Converts string time interval to number of seconds\n * @example fromTimeUnitAbbrev('1h') => 3600\n */\nconst fromTimeUnitAbbrev = (timeInterval) => {\n    var _a;\n    const [_, value, unit] = (_a = timeInterval.match(/(\\d+)([a-z]+)/i)) !== null && _a !== void 0 ? _a : [];\n    const unitsInSec = {\n        s: 1,\n        h: 60 * 60,\n        d: 60 * 60 * 24,\n        m: 60 * 60 * 24 * 30.437,\n        y: 60 * 60 * 24 * 30.437 * 12,\n    };\n    return Number(value) * unitsInSec[unit];\n};\nexports.fromTimeUnitAbbrev = fromTimeUnitAbbrev;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NOT_IN = exports.IN = exports.LESS_THAN_OR_EQUALS = exports.LESS_THAN = exports.GREATER_THAN_OR_EQUALS = exports.GREATER_THAN = exports.NOT_MATCHES = exports.MATCHES = exports.NOT_EQUALS = exports.NOT_EQUALS_EXPRESS = exports.OR = exports.AND = exports.EQUALS = exports.EQUALS_EXPRESS = void 0;\nexports.EQUALS_EXPRESS = '==';\nexports.EQUALS = '===';\nexports.AND = 'and';\nexports.OR = 'or';\nexports.NOT_EQUALS_EXPRESS = '!=';\nexports.NOT_EQUALS = '!==';\nexports.MATCHES = '=~';\nexports.NOT_MATCHES = '!~';\nexports.GREATER_THAN = '>';\nexports.GREATER_THAN_OR_EQUALS = '>=';\nexports.LESS_THAN = '<';\nexports.LESS_THAN_OR_EQUALS = '<=';\nexports.IN = 'in';\nexports.NOT_IN = 'not_in';\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RulesVisitorStop = void 0;\nconst constants_1 = require(\"./constants\");\nclass RulesVisitorStop extends Error {\n}\nexports.RulesVisitorStop = RulesVisitorStop;\n/**\n * Visitor for Rules which allows to visit each node of the Rules structure\n * and call callbacks for each node type.\n */\nclass RulesVisitor {\n    constructor(callbacks = {}) {\n        this.callbacks = callbacks;\n    }\n    /**\n     * Sets callback which is triggered when Rule node is visited.\n     * @param callback\n     */\n    onRuleVisit(callback) {\n        this.callbacks.onRuleVisit = callback;\n    }\n    /**\n     * Sets callback which is triggered when Matches node is visited.\n     * @param callback\n     */\n    onMatchesVisit(callback) {\n        this.callbacks.onMatchesVisit = callback;\n    }\n    /**\n     * Sets callback which is triggered when Features node is visited.\n     * @param callback\n     */\n    onFeaturesVisit(callback) {\n        this.callbacks.onFeaturesVisit = callback;\n    }\n    /**\n     * Sets callback which is triggered when Conditionals node is visited.\n     * @param callback\n     */\n    onConditionalsVisit(callback) {\n        this.callbacks.onConditionalsVisit = callback;\n    }\n    /**\n     * Sets callback which is triggered when Boolean node is visited.\n     * @param callback\n     */\n    onBooleanVisit(callback) {\n        this.callbacks.onBooleanVisit = callback;\n    }\n    /**\n     * The visitor visits each node of the Rules structure and calls callbacks for each node type.\n     * This is starting point of the visitor.\n     * @param rules The array of rules\n     * @param parentRuleIndex The index of parent rule if we're visiting nested rules\n     */\n    visit(rules, parentRuleIndex) {\n        try {\n            rules.forEach((rule, ruleIndex) => this.visitRule(rule, parentRuleIndex !== null && parentRuleIndex !== void 0 ? parentRuleIndex : ruleIndex));\n        }\n        catch (e) {\n            if (e instanceof RulesVisitorStop)\n                return;\n            // Rethrow unknown error\n            throw e;\n        }\n    }\n    /**\n     * This method is called when we visit Rule node.\n     * @param rule\n     * @param ruleIndex\n     */\n    visitRule(rule, ruleIndex) {\n        var _a, _b;\n        (_b = (_a = this.callbacks) === null || _a === void 0 ? void 0 : _a.onRuleVisit) === null || _b === void 0 ? void 0 : _b.call(_a, rule, ruleIndex);\n        if (this.isMatches(rule)) {\n            this.visitMatches(rule, ruleIndex);\n        }\n        else {\n            this.visitFeaturesOrRules(rule, ruleIndex);\n        }\n    }\n    /**\n     * This method is called when we visit Matches node.\n     * @param matches\n     * @param ruleIndex\n     */\n    visitMatches(matches, ruleIndex) {\n        var _a, _b;\n        (_b = (_a = this.callbacks) === null || _a === void 0 ? void 0 : _a.onMatchesVisit) === null || _b === void 0 ? void 0 : _b.call(_a, matches, ruleIndex);\n        const ifStatements = matches === null || matches === void 0 ? void 0 : matches.if;\n        if (!ifStatements)\n            return;\n        ifStatements.forEach((ifStatement) => {\n            if (this.isConditionals(ifStatement)) {\n                this.visitConditionals(ifStatement, ruleIndex);\n            }\n            else if (this.isBoolean(ifStatement)) {\n                this.visitBoolean(ifStatement, ruleIndex);\n            }\n            else {\n                this.visitFeaturesOrRules(ifStatement, ruleIndex);\n            }\n        });\n    }\n    /**\n     * This method is called when we visit Features or Rules node.\n     * @param featuresOrRules\n     * @param ruleIndex\n     */\n    visitFeaturesOrRules(featuresOrRules, ruleIndex) {\n        this.isRules(featuresOrRules)\n            ? this.visit(featuresOrRules, ruleIndex)\n            : this.visitFeatures(featuresOrRules, ruleIndex);\n    }\n    /**\n     * This method is called when we visit Features node.\n     * @param features\n     * @param ruleIndex\n     */\n    visitFeatures(features, ruleIndex) {\n        var _a, _b;\n        (_b = (_a = this.callbacks) === null || _a === void 0 ? void 0 : _a.onFeaturesVisit) === null || _b === void 0 ? void 0 : _b.call(_a, features, ruleIndex);\n    }\n    /**\n     * This method is called when we visit Conditionals node.\n     * @param conditionals\n     * @param ruleIndex\n     */\n    visitConditionals(conditionals, ruleIndex) {\n        var _a, _b;\n        (_b = (_a = this.callbacks) === null || _a === void 0 ? void 0 : _a.onConditionalsVisit) === null || _b === void 0 ? void 0 : _b.call(_a, conditionals, ruleIndex);\n        Object.keys(conditionals).forEach(operator => {\n            const condition = conditionals[operator];\n            this.visitCondition(condition, operator, ruleIndex);\n        });\n    }\n    /**\n     * This method is called when we visit Condition node.\n     * @param operator\n     * @param condition\n     * @param ruleIndex\n     */\n    visitCondition(condition, operator, ruleIndex) {\n        var _a, _b;\n        (_b = (_a = this.callbacks) === null || _a === void 0 ? void 0 : _a.onConditionVisit) === null || _b === void 0 ? void 0 : _b.call(_a, condition, operator, ruleIndex);\n    }\n    /**\n     * This method is called when we visit Boolean node.\n     * @param boolean\n     * @param ruleIndex\n     */\n    visitBoolean(boolean, ruleIndex) {\n        var _a, _b, _c, _d;\n        (_b = (_a = this.callbacks) === null || _a === void 0 ? void 0 : _a.onBooleanVisit) === null || _b === void 0 ? void 0 : _b.call(_a, boolean, ruleIndex);\n        const booleanItemHandler = (item) => {\n            if (this.isBoolean(item))\n                return this.visitBoolean(item, ruleIndex);\n            this.visitConditionals(item, ruleIndex);\n        };\n        (_c = boolean[constants_1.AND]) === null || _c === void 0 ? void 0 : _c.forEach(booleanItemHandler);\n        (_d = boolean[constants_1.OR]) === null || _d === void 0 ? void 0 : _d.forEach(booleanItemHandler);\n    }\n    /**\n     * Returns true if passed object is Matches type from Rules\n     * @param rule\n     */\n    isMatches(rule) {\n        return Object.keys(rule).includes('if');\n    }\n    /**\n     * Returns true if passed object is Rules[] type from Rules\n     * @param rule\n     */\n    isRules(rule) {\n        return Array.isArray(rule);\n    }\n    /**\n     * Returns true if passed object is Boolean type from Rules\n     * @param condition\n     */\n    isBoolean(condition) {\n        return [constants_1.AND, constants_1.OR].some(key => Object.keys(condition).includes(key));\n    }\n    /**\n     * Returns true if passed object is Conditionals type from Rules\n     * @param condition\n     */\n    isConditionals(condition) {\n        return [\n            constants_1.EQUALS_EXPRESS,\n            constants_1.EQUALS,\n            constants_1.NOT_EQUALS_EXPRESS,\n            constants_1.NOT_EQUALS,\n            constants_1.MATCHES,\n            constants_1.NOT_MATCHES,\n            constants_1.GREATER_THAN,\n            constants_1.GREATER_THAN_OR_EQUALS,\n            constants_1.LESS_THAN,\n            constants_1.LESS_THAN_OR_EQUALS,\n            constants_1.IN,\n            constants_1.NOT_IN,\n        ].some(key => Object.keys(condition).includes(key));\n    }\n    /**\n     * This method can be called from any visit method or callback to immediately stop the visitor.\n     */\n    stop() {\n        throw new RulesVisitorStop();\n    }\n}\nexports.default = RulesVisitor;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.operatorsMap = void 0;\nconst RulesVisitor_1 = __importDefault(require(\"./RulesVisitor\"));\nconst constants_1 = require(\"./constants\");\nconst toRegExp_1 = __importDefault(require(\"../toRegExp\"));\nconst toPathRegexp_1 = __importDefault(require(\"../../utils/toPathRegexp\"));\n/**\n * This operator map provides the functions which are used to evaluate the conditionals.\n * The key is the operator name, the value is the function which accepts two operands (left and right side of condition).\n */\nexports.operatorsMap = {\n    [constants_1.EQUALS]: (l, r) => l === r,\n    [constants_1.NOT_EQUALS]: (l, r) => l !== r,\n    [constants_1.EQUALS_EXPRESS]: (l, r) => { var _a; return (0, toPathRegexp_1.default)(r).test((_a = l === null || l === void 0 ? void 0 : l.toString()) !== null && _a !== void 0 ? _a : ''); },\n    [constants_1.NOT_EQUALS_EXPRESS]: (l, r) => { var _a; return !(0, toPathRegexp_1.default)(r).test((_a = l === null || l === void 0 ? void 0 : l.toString()) !== null && _a !== void 0 ? _a : ''); },\n    [constants_1.LESS_THAN]: (l, r) => Number(l) < Number(r),\n    [constants_1.LESS_THAN_OR_EQUALS]: (l, r) => Number(l) <= Number(r),\n    [constants_1.GREATER_THAN]: (l, r) => Number(l) > Number(r),\n    [constants_1.GREATER_THAN_OR_EQUALS]: (l, r) => Number(l) >= Number(r),\n    [constants_1.MATCHES]: (l, r) => { var _a; return (0, toRegExp_1.default)(r).test((_a = l === null || l === void 0 ? void 0 : l.toString()) !== null && _a !== void 0 ? _a : ''); },\n    [constants_1.NOT_MATCHES]: (l, r) => { var _a; return !(0, toRegExp_1.default)(r).test((_a = l === null || l === void 0 ? void 0 : l.toString()) !== null && _a !== void 0 ? _a : ''); },\n    [constants_1.IN]: (l, r) => r === null || r === void 0 ? void 0 : r.some((item) => (l === null || l === void 0 ? void 0 : l.toString()) === (item === null || item === void 0 ? void 0 : item.toString())),\n    [constants_1.NOT_IN]: (l, r) => !(r === null || r === void 0 ? void 0 : r.some((item) => (l === null || l === void 0 ? void 0 : l.toString()) === (item === null || item === void 0 ? void 0 : item.toString()))),\n};\n/**\n * Visitor for the Rules which visits each node of the Rules structure\n * and call callbacks for each node type only if the Rule's condition is evaluated to true.\n */\nclass RulesConditionalVisitor extends RulesVisitor_1.default {\n    constructor(evalVariableCallback, callbacks = {}) {\n        super(callbacks);\n        this.evalVariableCallback = evalVariableCallback;\n    }\n    /**\n     * This method is called when we visit Matches node.\n     * It calls visitFeatures/visitRules if the Matches condition is evaluated to true.\n     * @param matches\n     * @param ruleIndex\n     */\n    visitMatches(matches, ruleIndex) {\n        var _a, _b;\n        (_b = (_a = this.callbacks) === null || _a === void 0 ? void 0 : _a.onMatchesVisit) === null || _b === void 0 ? void 0 : _b.call(_a, matches, ruleIndex);\n        const ifStatement = matches === null || matches === void 0 ? void 0 : matches.if;\n        if (!ifStatement)\n            return;\n        let conditionIndex = 0;\n        while (conditionIndex < matches.if.length) {\n            const ifIndex = conditionIndex;\n            const thenIndex = conditionIndex + 1;\n            const elseIndex = conditionIndex + 2;\n            const isLastCondition = elseIndex === matches.if.length - 1;\n            const condition = ifStatement[ifIndex];\n            let conditionResult = false;\n            // Evaluate the condition by evaluating the nested nodes\n            if (this.isConditionals(condition)) {\n                conditionResult = this.evalConditionals(condition, ruleIndex);\n            }\n            else if (this.isBoolean(condition)) {\n                conditionResult = this.evalBoolean(condition, ruleIndex);\n            }\n            else {\n                throw new Error(`Unsupported operator \"${Object.keys(condition).pop()}\".`);\n            }\n            // If the condition is met, we visit the 'then' Features,\n            // otherwise we visit the last 'else' Features.\n            if (conditionResult) {\n                this.visitFeaturesOrRules(ifStatement[thenIndex], ruleIndex);\n            }\n            else if (isLastCondition) {\n                this.visitFeaturesOrRules(ifStatement[elseIndex], ruleIndex);\n            }\n            // We're done if this is the last Condition in Rule\n            if (isLastCondition) {\n                break;\n            }\n            // If the condition isn't last, we have an 'else-if' statement.\n            // We update the index to point to the 'if' statement of it, and redo the loop.\n            conditionIndex += 2;\n        }\n    }\n    /**\n     * Returns true if provided Boolean is evaluated to true.\n     * @param boolean\n     * @param ruleIndex\n     * @example\n     * evalConditionals({\n     *   \"and\": [\n     *     {\n     *       \"==\": [\n     *         {\n     *           \"request\": \"path\"\n     *         },\n     *         \"/:path\"\n     *       ]\n     *     },\n     *     {\n     *       \"or\": [\n     *           {\n     *              \"==\": [\n     *                {\n     *                  \"request\": \"path\"\n     *                },\n     *                \"/:path\"\n     *              ]\n     *           }\n     *       ]\n     *     }\n     *   ]\n     * }) => true\n     */\n    evalBoolean(boolean, ruleIndex) {\n        var _a, _b;\n        (_b = (_a = this.callbacks) === null || _a === void 0 ? void 0 : _a.onBooleanVisit) === null || _b === void 0 ? void 0 : _b.call(_a, boolean, ruleIndex);\n        const booleanItemHandler = (item) => {\n            if (this.isBoolean(item))\n                return this.evalBoolean(item, ruleIndex);\n            return this.evalConditionals(item, ruleIndex);\n        };\n        if (boolean[constants_1.AND]) {\n            return boolean[constants_1.AND].every(booleanItemHandler);\n        }\n        if (boolean[constants_1.OR]) {\n            return boolean[constants_1.OR].some(booleanItemHandler);\n        }\n        return false;\n    }\n    /**\n     * Returns true if provided Conditionals is met, false otherwise.\n     * @param conditionals\n     * @param ruleIndex\n     * @example\n     * evalConditionals({\n     *     \"==\": [\n     *        {\n     *          \"request\": \"path\"\n     *        },\n     *        \"/:path\"\n     *     ]\n     * }) => true\n     */\n    evalConditionals(conditionals, ruleIndex) {\n        var _a, _b;\n        (_b = (_a = this.callbacks) === null || _a === void 0 ? void 0 : _a.onConditionalsVisit) === null || _b === void 0 ? void 0 : _b.call(_a, conditionals, ruleIndex);\n        const operators = Object.keys(conditionals);\n        if (operators.length !== 1) {\n            throw new Error(`Conditional statements must contain a single operator. The following operators were found: ${operators.join(', ')}`);\n        }\n        const [operator, condition] = Object.entries(conditionals)[0];\n        return this.evalCondition(condition, operator, ruleIndex);\n    }\n    /**\n     * Returns true if provided Condition is met, false otherwise.\n     * @param condition\n     * @param operator\n     * @param ruleIndex\n     * @example\n     * evalCondition([\n     *     {\n     *          \"request\": \"path\"\n     *     },\n     *     \"/:path\"\n     * ], \"==\") => true\n     */\n    evalCondition(condition, operator, ruleIndex) {\n        var _a, _b, _c;\n        (_b = (_a = this.callbacks) === null || _a === void 0 ? void 0 : _a.onConditionVisit) === null || _b === void 0 ? void 0 : _b.call(_a, condition, operator, ruleIndex);\n        const [left, right] = condition.map((operand) => this.evalOperand(operand));\n        return (_c = exports.operatorsMap === null || exports.operatorsMap === void 0 ? void 0 : exports.operatorsMap[operator]) === null || _c === void 0 ? void 0 : _c.call(exports.operatorsMap, left, right);\n    }\n    /**\n     * Evaluates an operands, which may be a constant or RulesVariable instance.\n     * @param operand\n     * @returns\n     */\n    evalOperand(operand) {\n        if (operand == null ||\n            typeof operand === 'string' ||\n            typeof operand === 'boolean' ||\n            typeof operand === 'number' ||\n            Array.isArray(operand)) {\n            return operand;\n        }\n        return this.evalVariableCallback(operand);\n    }\n}\nexports.default = RulesConditionalVisitor;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Deep merge two objects up to specified depth.\n * The passed obj2 properties is overriding the obj1.\n * @example\n * deepMerge({ a: { b: 1 } }, { a: { c: 2 } }, 1) => { a: { b: 1, c: 2 } }\n * deepMerge({ a: 1 }, { a: 2 }, 1) => { a: 2 }\n */\nfunction deepMerge(obj1, obj2, depth = 0) {\n    let merged = {\n        ...(obj1 && typeof obj1 === 'object' ? obj1 : {}),\n        ...(obj2 && typeof obj2 === 'object' ? obj2 : {}),\n    };\n    if (depth === 0)\n        return merged;\n    Object.keys(merged).forEach(key => {\n        const obj1DeepValue = obj1 && obj1[key];\n        const obj2DeepValue = obj2 && obj2[key];\n        if (typeof obj1DeepValue === 'object' && typeof obj2DeepValue === 'object') {\n            merged[key] = deepMerge(obj1DeepValue, obj2DeepValue, depth - 1);\n        }\n    });\n    return merged;\n}\nexports.default = deepMerge;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CacheManifest = void 0;\nconst constants_1 = require(\"../constants\");\nconst fromTimeUnitAbbrev_1 = require(\"./converters/fromTimeUnitAbbrev\");\nconst RulesConditionalVisitor_1 = __importDefault(require(\"../runtime/rules/RulesConditionalVisitor\"));\nconst deepMerge_1 = __importDefault(require(\"../utils/deepMerge\"));\n/**\n * This class represents the CacheManifest structure,\n * and provides helper methods.\n * @private\n */\nclass CacheManifest {\n    constructor() {\n        /**\n         * The array of edge-control rules.\n         */\n        this.rules = [];\n    }\n    /**\n     * Creates new instance from the object.\n     */\n    static from(obj) {\n        return Object.assign(new CacheManifest(), obj);\n    }\n    /**\n     * Returns true if provided URL should be prefetched.\n     */\n    shouldPrefetch(url) {\n        let matchedFeatures = {};\n        new RulesConditionalVisitor_1.default(this.getEvalVariableCallback(url), {\n            onFeaturesVisit: features => {\n                var _a;\n                // We exclude the rule's features with ignore comment,\n                // to provide the same experience in local simulation as on the Edge.\n                if ((_a = features === null || features === void 0 ? void 0 : features.comment) === null || _a === void 0 ? void 0 : _a.includes(constants_1.EDGIO_CACHE_MANIFEST_RULE_IGNORE_COMMENT)) {\n                    return;\n                }\n                matchedFeatures = (0, deepMerge_1.default)(matchedFeatures, features, 3);\n            },\n        }).visit(this.rules);\n        return this.isCacheable(matchedFeatures);\n    }\n    /**\n     * Returns the callback function which provides\n     * the values for the rule conditions in browser environment.\n     * We can match only against the values we can extract from the URL.\n     */\n    getEvalVariableCallback(url) {\n        return (variable) => {\n            var _a;\n            if (variable['request']) {\n                const param = variable['request'];\n                if (param === 'method')\n                    return 'GET';\n                if (param === 'origin_path')\n                    return url.pathname;\n                if (param === 'path')\n                    return url.pathname;\n                if (param === 'origin_query_string')\n                    return url.search.split('?')[1];\n                if (param === 'query')\n                    return url.search.split('?')[1];\n                if (param === 'querystring')\n                    return url.search.split('?')[1];\n                // URL returns the protocol with colon at the end, e.g. \"https:\". We need to remove it.\n                if (param === 'scheme')\n                    return url.protocol.replace(':', '').toUpperCase();\n            }\n            if (variable['request.origin_query']) {\n                return url.searchParams.get(variable['request.origin_query']) || undefined;\n            }\n            if (variable['request.path']) {\n                const param = variable['request.path'];\n                if (param === 'filename')\n                    return url.pathname.split('/').pop();\n                if (param === 'directory')\n                    return (_a = url.pathname.match(/(.*)[/\\\\]/)) === null || _a === void 0 ? void 0 : _a[1];\n                if (param === 'extension') {\n                    const extension = url.pathname.split('.').pop();\n                    return extension ? `.${extension}` : undefined;\n                }\n            }\n            return undefined;\n        };\n    }\n    /**\n     * Returns true if provided Features allow to cache the URL.\n     */\n    isCacheable(features) {\n        const { caching } = features;\n        // NOTE: It would make sense to add !caching?.bypass_client_cache into the condition too\n        // but all cache configs on Layer0 had cache.browser.maxAgeSeconds set to 0\n        // when serviceWorkerSeconds option was set.\n        // The cache.browser.maxAgeSeconds option is on v7 transformed by RouteHelper to caching.bypass_client_cache:true\n        // and this would turn off the prefetching completely for those routes\n        // even though it was enabled by service_worker_max_age feature.\n        return Boolean((caching === null || caching === void 0 ? void 0 : caching.max_age) !== undefined &&\n            (caching === null || caching === void 0 ? void 0 : caching.service_worker_max_age) &&\n            (0, fromTimeUnitAbbrev_1.fromTimeUnitAbbrev)(caching.service_worker_max_age) > 0 &&\n            !(caching === null || caching === void 0 ? void 0 : caching.bypass_cache));\n    }\n    /**\n     * Returns the content of /__edgio__/cache-manifest.js\n     * with serialized CacheManifest.\n     */\n    serialize() {\n        return `self.${constants_1.EDGIO_CACHE_MANIFEST_JS_VAR_NAME}=${JSON.stringify(this)}`;\n    }\n}\nexports.CacheManifest = CacheManifest;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst environment_1 = require(\"../environment\");\nconst constants_1 = require(\"../constants\");\nconst RouteCriteria_1 = require(\"./RouteCriteria\");\nconst CacheManifest_1 = require(\"./CacheManifest\");\nconst origins_1 = require(\"../origins\");\nfunction addBuiltInRoutes(router) {\n    try {\n        // Add @edgio/devtools built-in routes if the module is installed\n        require('@edgio/devtools/addBuiltInRoutes')({\n            router,\n            local: (0, environment_1.isLocal)(),\n        });\n    }\n    catch (e) {\n        // istanbul ignore if\n        // @ts-ignore\n        if (e.code !== 'MODULE_NOT_FOUND') {\n            throw e;\n        }\n    }\n    if (!router.routerOptions.indexPermalink) {\n        /**\n         * Disables crawling of permalinks by setting the `x-robots-tag: noindex` response header\n         * for hosts matching edgio.link or edgio-perma.link.\n         */\n        router.match({\n            headers: {\n                host: constants_1.HOSTS_NOINDEX_PERMALINK_REGEX,\n            },\n        }, {\n            headers: {\n                add_response_headers: {\n                    'x-robots-tag': 'nofollow, noindex',\n                },\n            },\n        });\n    }\n    /**\n     * Compress static assets by default\n     * unless explicitly disabled by the user.\n     */\n    if (router.routerOptions.compressStaticAssets !== false) {\n        router.always({\n            response: {\n                compress_content_types: [\n                    'text/html',\n                    'text/css',\n                    'text/xml',\n                    'text/plain',\n                    'text/javascript',\n                    'application/javascript',\n                    'application/x-javascript',\n                    'application/json',\n                    'application/xml',\n                    'image/svg+xml',\n                    'font/otf',\n                    'font/ttf',\n                    'font/woff',\n                    'font/woff2',\n                ],\n            },\n            comment: 'Compress static assets',\n        });\n    }\n    if ((0, environment_1.isLocal)()) {\n        /**\n         * Rule for /__edgio__/cache-manifest.js.\n         *\n         * When we're running locally, we just simulate the cache-manifest file.\n         * We don't need to do anything special for it. We can just expose all rules as its content.\n         *\n         * When site is deployed, the cache-manifest is generated by console-api and served by built-in rule.\n         * It contains only rules with allowed features and conditions. All other features are removed.\n         *\n         * NOTE: We'll not add this rule when running on permalinks to not expose any sensitive information of our customers.\n         * Cache-manifest will not work on permalinks until they will be moved behind the Edge.\n         * @example Content of cache-manifest.js:\n         * self.__EDGIO_CACHE_MANIFEST__={\n         *     \"rules\": [\n         *         {\n         *             \"caching\": {\n         *                 \"max_age\" : {\n         *                     \"200\":\"1y\"\n         *                 }\n         *             }\n         *         }\n         *     ]\n         * }\n         */\n        router.match(constants_1.EDGIO_CACHE_MANIFEST_PATH, ({ compute }) => {\n            compute(async (req, res) => {\n                const cacheManifest = CacheManifest_1.CacheManifest.from({\n                    rules: router.rules,\n                });\n                res.body = cacheManifest.serialize();\n                res.setHeader('content-type', 'application/javascript');\n            });\n        });\n    }\n    if ((0, environment_1.isLocal)()) {\n        /**\n         * Rule for /__edgio__/prefetch/:path* and /__edgio__service_worker_:version.js paths\n         *\n         * This rule is used to simulate @edgio/prefetch from CDN in local environment,\n         * so the <script src=\"/__edgio__/prefetch/install.js\"></script> will work same as deployed.\n         */\n        router.if((0, RouteCriteria_1.or)({\n            path: constants_1.EDGIO_PREFETCH_CDN_PATH,\n        }, {\n            path: constants_1.EDGIO_PREFETCH_CDN_SW_PATH,\n        }), ({ proxy, cache }) => {\n            proxy(origins_1.PREFETCH_ORIGIN_NAME);\n            cache({\n                edge: {\n                    maxAgeSeconds: 60 * 60,\n                },\n            });\n        });\n    }\n}\nexports.default = addBuiltInRoutes;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst addBuildInRoutes_1 = __importDefault(require(\"./addBuildInRoutes\"));\n/**\n * An Edgio middleware that automatically adds the service worker and browser.js routes to your Edgio router.\n *\n * Example:\n *\n * ```js\n * import { starterRoutes } from '@edgio/starter'\n * import { Router } from '@edgio/core/router'\n *\n * export default new Router().use(edgioRoutes)\n * ```\n */\nclass EdgioRoutes {\n    /**\n     * Called when plugin is registered\n     * @param router\n     */\n    onRegister(router) {\n        (0, addBuildInRoutes_1.default)(router);\n    }\n}\nexports.default = EdgioRoutes;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Allows you to split or normalize the cache space for a given route. Common use cases include:\n *\n * - serving multiple variants of the same URL based on a currency and/or language cookie.\n * - caching different responses based on device type\n * - ignoring all but a specific set of query parameters when looking up a response from the cache.\n *\n * **Example**\n *\n * ```js\n *  import { Router, CustomCacheKey } from '@edgio/core/router'\n *\n *  new Router()\n *    .match('/some-path', ({ cache }) => {\n *      cache({\n *        key: new CustomCacheKey()\n *          .excludeAllQueryParametersExcept('color', 'size')\n *          .addCookie('currency')\n *          .addDevice()\n *        edge: {\n *          maxAgeSeconds: 60 * 60\n *        }\n *      })\n *    })\n * ```\n */\nclass CustomCacheKey {\n    constructor() {\n        this.excludeAllQueryParametersFlag = false;\n        this.excludeQueryParametersFlag = [];\n        this.excludeAllQueryParametersExceptFlag = [];\n        this.headersFlag = [];\n        this.cookiesFlag = [];\n        this.removeMethodFlag = false;\n        this.isBotFlag = false;\n        this.vendorFlag = false;\n        this.deviceFlag = false;\n        this.browserFlag = false;\n    }\n    /**\n     * Excludes the entire query string from the cache key.\n     * @return {CustomCacheKey} A self-reference, suitable for chaining.\n     */\n    excludeAllQueryParameters() {\n        this.excludeAllQueryParametersFlag = true;\n        return this;\n    }\n    /**\n     * Excludes the provided query parameters from the cache key.  All other parameters\n     * will still be part of the cache key. We also refer to this as \"blacklisting\" query parameters.\n     * @param names The names of the query parameters to blacklist\n     * @return {CustomCacheKey} A self-reference, suitable for chaining.\n     */\n    excludeQueryParameters(...names) {\n        this.excludeQueryParametersFlag = [...this.excludeQueryParametersFlag, ...names];\n        return this;\n    }\n    /**\n     * Excludes all query parameters except those provided from the cache key.  We also refer to\n     * this as \"whitelisting\" query parameters.  We recommend using this method over `excludeQueryParameters`\n     * as it's difficult to know all of the query parameters your application might receive and unexpected\n     * query parameters can lead to significantly lower cache hit rates.\n     * @param names The names of the query parameters to whitelist\n     * @return {CustomCacheKey} A self-reference, suitable for chaining.\n     */\n    excludeAllQueryParametersExcept(...names) {\n        this.excludeAllQueryParametersExceptFlag = [\n            ...this.excludeAllQueryParametersExceptFlag,\n            ...names,\n        ];\n        return this;\n    }\n    /**\n     * Adds a request header to the cache key.\n     * This will have no effect on service worker cache.\n     * @param name The name of the request header\n     * @param createGroups A function that accepts a `Groups` instance and calls `groups.group(name)` to group multiple values into a single cache key component\n     * @return {CustomCacheKey} A self-reference, suitable for chaining.\n     */\n    addHeader(name) {\n        this.headersFlag = [...this.headersFlag, name];\n        return this;\n    }\n    /**\n     * Adds a cookie to the cache key.\n     * This will have no effect on service worker cache.\n     * @param name The name of the cookie\n     * @param createGroups An function that accepts a `Groups` instance and calls `groups.group(name)` to group multiple values into a single cache key component\n     * @return {CustomCacheKey} A self-reference, suitable for chaining.\n     */\n    addCookie(name) {\n        this.cookiesFlag = [...this.cookiesFlag, name];\n        return this;\n    }\n    /**\n     * Removes the HTTP method from the cache key.\n     * @return A self-reference, suitable for chaining.\n     */\n    removeMethod() {\n        this.removeMethodFlag = true;\n        return this;\n    }\n    /**\n     * This method is not supported, and will throw an error if called.\n     */\n    removeBody() {\n        throw new Error('Not supported');\n    }\n    /**\n     * Specifies that requests should be cached on a per-device basis.\n     * This will have no effect on service worker cache.\n     * @return {CustomCacheKey} A self-reference, suitable for chaining.\n     */\n    addDevice() {\n        this.deviceFlag = true;\n        return this;\n    }\n    /**\n     * Specifies that requests should be cached on a per-vendor basis.\n     * This will have no effect on service worker cache.\n     * @return {CustomCacheKey} A self-reference, suitable for chaining.\n     */\n    addVendor() {\n        this.vendorFlag = true;\n        return this;\n    }\n    /**\n     * Specifies that requests should be cached differently for bots.\n     * This will have no effect on service worker cache.\n     * @return {CustomCacheKey} A self-reference, suitable for chaining.\n     */\n    addIsBot() {\n        this.isBotFlag = true;\n        return this;\n    }\n    /**\n     * Specifies that requests should be cached on a per-browser basis.\n     * This will have no effect on service worker cache.\n     * @return {CustomCacheKey} A self-reference, suitable for chaining.\n     */\n    addBrowser() {\n        this.browserFlag = true;\n        return this;\n    }\n    applyCaching(features) {\n        if (features.caching === undefined) {\n            features.caching = {};\n        }\n        const { caching } = features;\n        const shouldOverwriteCache = this.excludeQueryParametersFlag.length > 0 ||\n            this.excludeAllQueryParametersExceptFlag.length > 0 ||\n            this.excludeAllQueryParametersFlag ||\n            this.headersFlag.length > 0 ||\n            this.cookiesFlag.length > 0 ||\n            this.isBotFlag ||\n            this.vendorFlag ||\n            this.deviceFlag ||\n            this.browserFlag;\n        if (shouldOverwriteCache && caching.cache_key === undefined) {\n            caching.cache_key = {};\n        }\n        if (this.excludeAllQueryParametersFlag) {\n            caching.cache_key.exclude_all_query_params = true;\n        }\n        // Note: we cast every array to `any` because the type definitions for Sailfish type\n        // for arrays are defined as [string, ...string[]] which means that at least one element\n        // must be present. As we are using the `length` property to check if the array is empty\n        // we know that the array is not empty, but the type definitions don't know that.\n        if (this.excludeQueryParametersFlag.length > 0) {\n            caching.cache_key.include_all_query_params_except = this.excludeQueryParametersFlag;\n        }\n        if (this.excludeAllQueryParametersExceptFlag.length > 0) {\n            caching.cache_key.include_query_params = this.excludeAllQueryParametersExceptFlag;\n        }\n        if (this.headersFlag.length > 0) {\n            caching.cache_key.include_headers = this.headersFlag;\n        }\n        if (this.cookiesFlag.length > 0) {\n            caching.cache_key.include_cookies = this.cookiesFlag;\n        }\n        let expressions = [];\n        if (this.deviceFlag) {\n            expressions = [\n                ...expressions,\n                `/device:smartphone_%{wurfl_vcap_is_smartphone}_tablet_%{wurfl_cap_is_tablet}_desktop_%{wurfl_vcap_is_full_desktop}`,\n            ];\n        }\n        if (this.isBotFlag) {\n            expressions = [...expressions, `/bot:%{wurfl_vcap_is_robot}`];\n        }\n        if (this.vendorFlag) {\n            expressions = [\n                ...expressions,\n                `/vendor:ios_%{wurfl_vcap_is_ios}_adndroid_%{wurfl_vcap_is_android}`,\n            ];\n        }\n        if (this.browserFlag) {\n            expressions = [...expressions, `/browser:%{wurfl_cap_mobile_browser}`];\n        }\n        if (expressions.length > 0) {\n            caching.cache_key.include_expressions = expressions;\n        }\n        if (this.removeMethodFlag) {\n            caching.enable_caching_for_methods = undefined;\n        }\n    }\n}\nexports.default = CustomCacheKey;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.edgioRoutes = exports.CustomCacheKey = exports.Router = exports.RouteHelper = void 0;\nconst EdgioRoutes_1 = __importDefault(require(\"./EdgioRoutes\"));\nvar RouteHelper_1 = require(\"./RouteHelper\");\nObject.defineProperty(exports, \"RouteHelper\", { enumerable: true, get: function () { return __importDefault(RouteHelper_1).default; } });\nvar Router_1 = require(\"./Router\");\nObject.defineProperty(exports, \"Router\", { enumerable: true, get: function () { return __importDefault(Router_1).default; } });\nvar CustomCacheKey_1 = require(\"./CustomCacheKey\");\nObject.defineProperty(exports, \"CustomCacheKey\", { enumerable: true, get: function () { return __importDefault(CustomCacheKey_1).default; } });\nexports.edgioRoutes = new EdgioRoutes_1.default();\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst QueryString = __importStar(require(\"qs\"));\nconst environment_1 = require(\"../environment\");\nconst constants_1 = require(\"../constants\");\n/**\n * Data holder for lambda request.\n\n * Useful for cases when request needs to be created for:\n *    - lambda invocation / reqResMapper\n *    - findMatchingRules invocation\n *    - fiddle RequestContext invocation\n *    - tests (mainly ones invoking RequestContext directly)\n */\nclass LambdaRequest {\n    constructor(options) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;\n        this.url = '/';\n        this.path = '/';\n        this.rawHeaders = [];\n        this.query = {};\n        this.method = 'GET';\n        this.protocol = 'http';\n        this.secure = true;\n        this.socket = { remoteAddress: '127.0.0.1', encrypted: true };\n        this.connection = { encrypted: true };\n        this.httpVersion = '1.1';\n        this.port = '443';\n        this.options = options;\n        this.invokeAction = options.invokeAction;\n        this.invokeSource = options.invokeSource;\n        this.url = options.url.pathname + ((_a = options.url.search) !== null && _a !== void 0 ? _a : '');\n        this.query = QueryString.parse((_b = options.url.search) !== null && _b !== void 0 ? _b : '', { ignoreQueryPrefix: true });\n        this.rawUrl = options.rawUrl;\n        this.path = options.url.pathname;\n        this.method = (_c = options.method) !== null && _c !== void 0 ? _c : this.method;\n        // Compatibility with https://nodejs.org/api/all.html#http_message_headers\n        // Header names *are* lower-cased to maintain Node compatibility.\n        this.headers = normalizeHeaders((_d = options.headers) !== null && _d !== void 0 ? _d : {});\n        // We need to set the correct host header here.\n        // Behind the edge, the host header is set to override_host_header origin config value,\n        // but the real host is passed in x-host header.\n        // NOTE: The real lambda function URL shouldn't customers see,\n        // so it's also important to override it here.\n        // @example\n        // Host: cqaxwkomusknlwhrmm46jg2v.lambda-url.us-east-2.on.aws\n        // x-host: example-site.glb.edgio-dev.link\n        const host = options.url.host || this.getHeader(constants_1.HTTP_HEADERS.xHost) || this.getHeader(constants_1.HTTP_HEADERS.host);\n        this.setHeader('host', host || 'localhost');\n        for (const key of Object.keys(this.headers)) {\n            // Compatibility with https://nodejs.org/api/all.html#http_message_rawheaders\n            // Header names are not lower-cased to maintain Node compatibility.\n            const header = this.headers[key];\n            for (const value of Array.isArray(header) ? header : [header]) {\n                this.rawHeaders.push(key);\n                this.rawHeaders.push(value);\n            }\n        }\n        this.httpVersion = (_e = options.httpVersion) !== null && _e !== void 0 ? _e : this.httpVersion;\n        // This is needed for matching on request.client_ip.\n        // The client ip is the first value in x-forwarded-for header behind the edge.\n        // The rest are another proxies.\n        // @example x-forwarded-for: 193.0.0.1, 1.1.1.2, 1.1.1.3\n        this.socket.remoteAddress = (((_h = (_g = (_f = this.getHeader(constants_1.HTTP_HEADERS.xForwardedFor)) === null || _f === void 0 ? void 0 : _f.toString()) === null || _g === void 0 ? void 0 : _g.split(',')) === null || _h === void 0 ? void 0 : _h[0]) || this.socket.remoteAddress);\n        if (options.url.protocol) {\n            // protocol trails with ':' locally, which is expected to be removed\n            this.protocol = (_j = options.url.protocol) === null || _j === void 0 ? void 0 : _j.replace(':', '');\n        }\n        else if (!(0, environment_1.isLocal)()) {\n            // Extract correct protocol for XBP permalinks\n            // TODO: Remove this when EDGE_PERMALINKS are enabled for all customers\n            const xbpProtocol = (_k = this.getHeader(constants_1.HTTP_HEADERS.x0Protocol)) === null || _k === void 0 ? void 0 : _k.toString();\n            // NOTE: Sailfish is always sending x-forwarded-proto: \"https\" header\n            // even when the HTTP protocol is used. We need know the original protocol used by the client,\n            // because the request is always sent to Function URL with HTTPS protocol.\n            // The right protocol seems to be the one from the via header.\n            const viaProtocol = (_p = (_o = (_m = (_l = this.getHeader(constants_1.HTTP_HEADERS.via)) === null || _l === void 0 ? void 0 : _l.toString()) === null || _m === void 0 ? void 0 : _m.split('/')) === null || _o === void 0 ? void 0 : _o.shift()) === null || _p === void 0 ? void 0 : _p.toLowerCase();\n            const xForwardedProtocol = (_r = (_q = this.getHeader(constants_1.HTTP_HEADERS.xForwardedProto)) === null || _q === void 0 ? void 0 : _q.toString()) === null || _r === void 0 ? void 0 : _r.toLowerCase();\n            this.protocol = xbpProtocol || viaProtocol || xForwardedProtocol || 'https';\n        }\n        // We need to set the correct port behind the edge.\n        // The x-forwarded-port\theader seems to have the same issue as x-forwarded-proto.\n        this.port = options.url.port || this.protocol === 'https' ? '443' : '80';\n        // Reassign the x-forwarded-* headers,\n        // se they are always present and in sync with the values in the request.\n        this.setHeader(constants_1.HTTP_HEADERS.xForwardedProto, this.protocol);\n        this.setHeader(constants_1.HTTP_HEADERS.xForwardedPort, this.port);\n        this.setHeader(constants_1.HTTP_HEADERS.xForwardedFor, this.socket.remoteAddress);\n        // req.secure is ExpressJS extension, set to false only when the app is running locally or the protocol is HTTP\n        // (so the default remains HTTPS which has historically been the only protocol we allowed)\n        this.secure = this.protocol === 'https';\n        // Depending on the version req.socket.encrypted is set to true by NodeJS when the protocol is HTTPS.\n        this.socket.encrypted = this.secure;\n        // Depending on the version req.connection.encrypted is set to true by NodeJS when the protocol is HTTPS.\n        this.connection.encrypted = this.secure;\n        this._rawBody = options.rawBody || Buffer.from((_s = options.body) !== null && _s !== void 0 ? _s : '');\n    }\n    static async fromNodeRequest(request) {\n        var _a;\n        const body = await new Promise(resolve => {\n            const bodyParts = [];\n            let body;\n            request\n                .on('data', (chunk) => {\n                bodyParts.push(chunk);\n            })\n                .on('end', () => {\n                body = Buffer.concat(bodyParts);\n                resolve(body);\n            });\n        });\n        const url = new URL(request.url, `http://${request.headers.host}`);\n        const invokeAction = request.headers[constants_1.HTTP_HEADERS.xEdgInvokeAction];\n        const invokeSource = request.headers[constants_1.HTTP_HEADERS.xEdgInvokeSource];\n        // Original URL from the invocation event without encoded/decoded query\n        const rawUrl = ((_a = request.headers[constants_1.HTTP_HEADERS.xEdgRawUrl]) === null || _a === void 0 ? void 0 : _a.toString()) || `${url.pathname}${url.search}`;\n        return new LambdaRequest({\n            url: {\n                // Normalize pathname to have only one unencoded slash between segments\n                // Example: /a//b -> /a/b\n                pathname: url.pathname.replace(/\\/+/g, '/'),\n                search: url.search,\n            },\n            rawUrl,\n            method: request.method,\n            headers: request.headers,\n            body,\n            invokeAction,\n            invokeSource,\n        });\n    }\n    /**\n     * Returns a clone of the original request, before any properties were altered.\n     */\n    cloneOriginal() {\n        return new LambdaRequest(this.options);\n    }\n    setHeader(name, value) {\n        this.headers[name.toLowerCase()] = value;\n    }\n    getHeader(name) {\n        return this.headers[name.toLowerCase()];\n    }\n    getHeaders() {\n        return this.headers;\n    }\n    removeHeader(name) {\n        delete this.headers[name.toLowerCase()];\n    }\n    get body() {\n        return this.rawBody.toString('utf8');\n    }\n    set body(value) {\n        this.rawBody = Buffer.from(value || '');\n    }\n    get rawBody() {\n        return this._rawBody;\n    }\n    set rawBody(value) {\n        this._rawBody = value;\n        this.setHeader(constants_1.HTTP_HEADERS.contentLength, this.rawBody.length.toString());\n    }\n}\nexports.default = LambdaRequest;\n// sets all headers to lowercase names, and 'flattens' the array values if they contain only one element\nfunction normalizeHeaders(headers) {\n    let result = {};\n    for (let name in headers) {\n        const header = headers[name];\n        result[name.toLowerCase()] =\n            Array.isArray(header) && header.length === 1 ? header[0] : header;\n    }\n    return result;\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateRandomId = void 0;\n/**\n * Generates a random id of the given length\n * just from A-Z, a-z, 0-9 characters.\n * @param length The length of the id\n */\nfunction generateRandomId(length = 10) {\n    let result = '';\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (let i = 0; i < length; i++) {\n        result += characters.charAt(Math.floor(Math.random() * characters.length));\n    }\n    return result;\n}\nexports.generateRandomId = generateRandomId;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.metrics = void 0;\nconst idUtils_1 = require(\"../utils/idUtils\");\nconst constants_1 = require(\"../constants\");\n/**\n * Object with the metrics for the current server.ts instance\n */\nexports.metrics = {\n    // Generate a unique ID for this server instance\n    // right after the server is started.\n    serverId: (0, idUtils_1.generateRandomId)(),\n    // Handler ID - The unique ID of the parent process handler.ts\n    _handlerId: undefined,\n    get handlerId() {\n        // Return extracted handlerId if it's already set\n        if (this._handlerId)\n            return this._handlerId;\n        // Extract handlerId from process.argv passed by parent process\n        process.argv.find(arg => {\n            var _a;\n            return (this._handlerId = (_a = arg.match(/^--handler-id=(.+)$/)) === null || _a === void 0 ? void 0 : _a[1]);\n        });\n        this._handlerId = this._handlerId || 'UNKNOWN_HANDLER_ID';\n        return this._handlerId;\n    },\n    // Times\n    appStartedAt: undefined,\n    appReadyAt: undefined,\n    // Counters\n    serverErrorCount: 0,\n    // The value of the Via req header,\n    // that will be injected into every upstream request made by fetch, axios, etc...\n    // Locally, it's just set to 'Edgio Core' by default.\n    // In Lambda, it's set to the value of the Via header from the original incoming request.\n    // This allows us to track the request path through the system and detect loops.\n    // NOTE: Every lambda can process only single request at a time, this value is always up-to-date.\n    via: constants_1.EDGIO_VIA_HEADER_VALUE,\n    // Calculates durations\n    get appReadyTime() {\n        return this.appReadyAt && this.appStartedAt ? this.appReadyAt - this.appStartedAt : 0;\n    },\n    get serverRss() {\n        const { rss } = process.memoryUsage();\n        return Math.round((rss / 1024 / 1024) * 100) / 100;\n    },\n    // Returns the serialized metrics\n    serialize() {\n        const shortcuts = {\n            // Server ID - The unique ID of this server instance.\n            sid: this.serverId,\n            // App ready time - The time in ms it took to start the app.\n            art: this.appReadyTime,\n            // Server Memory RSS - The total memory in MiB occupied by the code segment, heap and stack of this process\n            srss: this.serverRss,\n            // Server Error Count - The total number of errors this server instance has encountered.\n            sec: this.serverErrorCount,\n        };\n        return Object.entries(shortcuts)\n            .map(([key, value]) => `${key}=${value}`)\n            .join(',');\n    },\n};\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst stream_1 = require(\"stream\");\nconst serverMetrics_1 = require(\"../lambda/serverMetrics\");\nconst constants_1 = require(\"../constants\");\nconst log_1 = __importDefault(require(\"../log\"));\n/**\n * Helper class useful for cases when:\n *    - response is not available in traditional sense (eg. lambda environment, fiddle, tests)\n *    - we need to run code that is dependant on having an editable response (cache revalidation)\n */\nclass LambdaResponse {\n    constructor(responseStream, isDirectStream = false, originalStream = undefined) {\n        this.isDirectStream = isDirectStream;\n        this.originalStream = originalStream;\n        // chunks queued for processing + streaming\n        this.chunks = [];\n        // we remember processed / encoded chunks in order to save them to the cache / dont have to reencode\n        this.encodedChunks = [];\n        this.onStream = () => { };\n        this.onEnd = () => { };\n        this.onHeaders = () => { };\n        this.onFlush = () => { };\n        this.isHeadersStreamed = false;\n        this.isEnded = false;\n        this.isDownstreamInit = false;\n        this.isStreaming = false;\n        // the streaming of response is disabled by default,\n        // and it's enabled later in modStream if certain conditions are met\n        this.isStreamableCallback = () => false;\n        this.statusCode = 200;\n        this.statusMessage = 'OK';\n        this.headers = {};\n        this.byteLength = 0;\n        this.maxByteLength = 128 * 1000 * 1000;\n        this.initDownstream();\n        this.isDownstreamInit = false; // reseting the flag so that it can be called one more time in mod\n        this.responseStream = responseStream;\n    }\n    sendResponse(data) {\n        this === null || this === void 0 ? void 0 : this.write(data);\n    }\n    static fromAwsResponseStream(awsResponseStream) {\n        if (!awslambda) {\n            throw new Error('StreamingAwsResponse can only be used in an AWS Lambda environment.');\n        }\n        let awsResponseStreamProxy = awsResponseStream;\n        const passThrough = new stream_1.PassThrough()\n            .on('data', (chunk) => awsResponseStreamProxy.write(chunk))\n            .on('end', () => awsResponseStreamProxy.end());\n        const res = new LambdaResponse(passThrough, false, awsResponseStream);\n        res.setOnHeaders(() => {\n            const httpResponseMetadata = {\n                statusCode: res.statusCode,\n                headers: res.headers,\n            };\n            awsResponseStreamProxy = awslambda.HttpResponseStream.from(awsResponseStreamProxy, httpResponseMetadata);\n        });\n        return res;\n    }\n    static fromNodeResponse(response) {\n        const res = new LambdaResponse(response);\n        res.setOnHeaders(() => {\n            response.writeHead(res.statusCode, res.statusMessage, res.headers);\n        });\n        return res;\n    }\n    setHeader(name, value) {\n        this.headers[name.toLowerCase()] = value;\n    }\n    removeHeader(name) {\n        delete this.headers[name.toLowerCase()];\n    }\n    getHeader(name) {\n        return this.headers[name.toLowerCase()];\n    }\n    getHeaders() {\n        return this.headers;\n    }\n    clear() {\n        this.chunks = [];\n        this.byteLength = 0;\n    }\n    clearHeaders() {\n        Object.keys(this.headers).forEach(header => this.removeHeader(header));\n    }\n    isCachable() {\n        return !this.isDirectStream && this.byteLength < this.maxByteLength;\n    }\n    async write(chunk) {\n        // execute isStreamableCallback only once when we receive the first chunk\n        // and store the result for performance reasons\n        if (this.chunks.length === 0)\n            this.setIsStreamable(this.isStreamable());\n        this.chunks.push(chunk);\n        this.isStreamable() && (await this.onStream());\n    }\n    async end() {\n        // Add Edgio Metrics into headers\n        this.addMetrics();\n        // Make sure body and buffer content are in sync\n        // when streaming is disabled as users can do various transformations on the response\n        // in compute, proxy with transformResponse, etc.\n        if (!this.isStreamable() && this.chunks.length > 0 && this.body && this.body.length > 0) {\n            // If we have both chunks and body and not streaming, we'll prefer body over the chunks and\n            // override existing chunks content with body content, so users can override previously stored response in transformResponse\n            // with their own response. Working with single body is more convenient than with chunks for most users.\n            this.chunks = [this.body];\n            log_1.default.trace('[LambdaResponse] Found both chunks and body. Synced body => chunks');\n        }\n        if (!this.isStreamable() && this.chunks.length === 0 && this.body) {\n            // If we have body, not streaming, and don't have chunks, we'll put body into chunks.\n            this.chunks = [this.body];\n            log_1.default.trace('[LambdaResponse] Found just body. Synced body => chunks');\n        }\n        if (!this.isStreamable() && this.chunks.length > 0 && !this.body) {\n            // If we have chunks, not streaming, and don't have body, we'll sync body with chunks\n            // for future processing if streaming is disabled,\n            // so chunks are in sync with body in compute\n            // Convert Buffer or string chunks, concat them and store them in body as a single Buffer\n            this.body = Buffer.concat(this.chunks.map(chunk => Buffer.from(chunk || ''))); // null to empty body\n            log_1.default.trace('[LambdaResponse] Found just chunks. Synced chunks => body');\n        }\n        // Push 'end' event into the stream if not present,\n        // so end can be called multiple times without corrupting response\n        if (this.chunks.length === 0 || this.chunks[this.chunks.length - 1] !== null) {\n            this.chunks.push(null);\n        }\n        // Call onStream directly\n        // if we don't have any real content in chunks and just null (end of stream) in the chunks\n        if (this.chunks.length === 1) {\n            this.isStreamable() && (await this.onStream());\n        }\n    }\n    setEncoder(value) {\n        this.encoder = value;\n    }\n    setDecoder(value) {\n        this.decoder = value;\n    }\n    // in cases we dont want to do anything with the body (eg. cache it), we can set this flag to stream directly\n    // this will be used in production environment / executeApp in the future in order to not hog resources\n    setDirectStream(value) {\n        this.isDirectStream = value;\n    }\n    stream() {\n        this.isStreaming = true;\n        if (!this.isHeadersStreamed) {\n            this.onHeaders();\n            this.isHeadersStreamed = true;\n        }\n        this.chunks.forEach(chunk => this.downstream.push(chunk));\n        this.chunks = [];\n    }\n    async waitForFlush() {\n        // if we're not streaming, we dont have to wait, as there's no body\n        return this.isStreaming\n            ? new Promise(resolve => {\n                this.onFlush = resolve;\n                // if already ended, we just resolve, as the stream could have ended before callback was set\n                this.isEnded && resolve();\n            })\n            : Promise.resolve(true);\n    }\n    initDownstream() {\n        if (!this.isDownstreamInit) {\n            this.isDownstreamInit = true;\n            this.downstream = new stream_1.Stream.Readable({\n                read: () => {\n                    // this must be implemented, we dont need to use it tho\n                },\n            });\n            let curPipe = this.downstream;\n            this.decoder && (curPipe = curPipe.pipe(this.decoder));\n            this.encoder && (curPipe = curPipe.pipe(this.encoder));\n            curPipe.pipe(new stream_1.PassThrough()\n                .on('data', chunk => {\n                var _a;\n                // if we dont have reponse stream we're invoking programatically,\n                // eg. in runRoute, revalidation, tests, AND IN PRODUCTION AT THE MOMENT\n                // we test for the 'equality' of these approaches in separate LambdaResponse tests\n                (_a = this.responseStream) === null || _a === void 0 ? void 0 : _a.write(chunk);\n                if (!this.isDirectStream) {\n                    this.byteLength += Buffer.byteLength(chunk);\n                    // if currently streamed byte length is too big, we stop appending to encoded chunks -> memory will be cleared on chain end\n                    // this will consequently disable caching for large payloads\n                    this.byteLength < this.maxByteLength && this.encodedChunks.push(chunk);\n                }\n            })\n                .on('end', () => {\n                if (this.responseStream) {\n                    this.responseStream.end();\n                }\n                else {\n                    // if there are no chunks, we leave body undefined as expected\n                    if (this.encodedChunks.length > 0) {\n                        if (this.byteLength < this.maxByteLength) {\n                            this.body = Buffer.concat(this.encodedChunks);\n                        }\n                        else {\n                            this.statusCode = 413;\n                            this.statusMessage = 'Content Too Large';\n                        }\n                    }\n                }\n                // we push null to processed chunks, as it signals the end of the stream in case we stream from cache later on\n                // it needs to be pushed after the body is concatted, otherwise it fails, as buffers would fail to concat null\n                this.encodedChunks.push(null);\n                this.isEnded = true;\n                this.onFlush();\n                // temporary callback for reqResMapper backwards compatibility\n                // TODO: this wont be needed once we have streaming in lambda function\n                this.onEnd();\n            }));\n        }\n    }\n    // allows to enable or disable streaming\n    // or set callback that can enable streaming if certain conditions are met\n    setIsStreamable(callback) {\n        if (typeof callback === 'boolean') {\n            return (this.isStreamableCallback = () => callback);\n        }\n        this.isStreamableCallback = callback;\n    }\n    // returns true if the response is streamable\n    isStreamable() {\n        return this.isStreamableCallback();\n    }\n    // callback used to react to data write, as we need to be able to make a decision whether or not to stream based on many criteria\n    setOnStream(callback) {\n        this.onStream = callback;\n    }\n    // TODO: this wont be needed once we have streaming in lambda function\n    setOnEnd(callback) {\n        this.onEnd = callback;\n    }\n    setOnHeaders(callback) {\n        this.onHeaders = callback;\n    }\n    // TODO: this wont be needed once we have streaming in lambda function\n    getData() {\n        return {\n            body: this.body,\n            statusCode: this.statusCode,\n            statusMessage: this.statusMessage,\n            headers: this.headers,\n        };\n    }\n    /**\n     * Injects the metrics headers into the response\n     * @private\n     */\n    addMetrics() {\n        this.setHeader(constants_1.HTTP_HEADERS.xEdgeT, serverMetrics_1.metrics.serialize());\n        this.setHeader(constants_1.HTTP_HEADERS.xEdgeStatus, `s=${this.statusCode}`);\n    }\n    /**\n     * Sets the response header to a new value by prefixing it with the given value or,\n     * if it doesn't exist, by setting it to the given value,\n     *\n     * @param headerName The name of the header to prefix or set\n     * @param prefixValue The value of the prefix without trailing comma\n     * @private\n     */\n    prefixResponseHeader(headerName, prefixValue) {\n        const headerValue = this.headers[headerName];\n        if (headerValue) {\n            if (Array.isArray(headerValue)) {\n                headerValue[0] = `${prefixValue},${headerValue[0]}`;\n            }\n            else {\n                this.headers[headerName] = `${prefixValue},${headerValue}`;\n            }\n        }\n        else {\n            this.headers[headerName] = `${prefixValue}`;\n        }\n    }\n}\nexports.default = LambdaResponse;\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LambdaResponse = exports.LambdaRequest = exports.edgioRoutes = exports.exact = exports.not = exports.or = exports.and = exports.getConfig = exports.Router = void 0;\nvar Router_1 = require(\"./router/Router\");\nObject.defineProperty(exports, \"Router\", { enumerable: true, get: function () { return __importDefault(Router_1).default; } });\n__exportStar(require(\"./constants\"), exports);\nvar config_1 = require(\"./config\");\nObject.defineProperty(exports, \"getConfig\", { enumerable: true, get: function () { return config_1.getConfig; } });\nvar RouteCriteria_1 = require(\"./router/RouteCriteria\");\nObject.defineProperty(exports, \"and\", { enumerable: true, get: function () { return RouteCriteria_1.and; } });\nObject.defineProperty(exports, \"or\", { enumerable: true, get: function () { return RouteCriteria_1.or; } });\nObject.defineProperty(exports, \"not\", { enumerable: true, get: function () { return RouteCriteria_1.not; } });\nvar exact_1 = require(\"./router/exact\");\nObject.defineProperty(exports, \"exact\", { enumerable: true, get: function () { return __importDefault(exact_1).default; } });\nvar router_1 = require(\"./router\");\nObject.defineProperty(exports, \"edgioRoutes\", { enumerable: true, get: function () { return router_1.edgioRoutes; } });\nvar LambdaRequest_1 = require(\"./runtime/LambdaRequest\");\nObject.defineProperty(exports, \"LambdaRequest\", { enumerable: true, get: function () { return __importDefault(LambdaRequest_1).default; } });\nvar LambdaResponse_1 = require(\"./runtime/LambdaResponse\");\nObject.defineProperty(exports, \"LambdaResponse\", { enumerable: true, get: function () { return __importDefault(LambdaResponse_1).default; } });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst config_1 = require(\"@edgio/core/config\");\nconst utils_1 = require(\"@edgio/core/utils\");\nconst path_1 = require(\"path\");\nclass ConnectorFactory {\n    static get(name) {\n        var _a;\n        // Name can be passed in cases where config is not yet created.\n        const connectorName = name !== null && name !== void 0 ? name : (_a = (0, config_1.getConfig)().connector) === null || _a === void 0 ? void 0 : _a.split('/')[1];\n        if (connectorName === 'connectors') {\n            throw new Error(`The @edgio/connectors package is not a valid connector. Please specify a connector name such as '@edgio/express', '@edgio/astro', etc...`);\n        }\n        if (!connectorName) {\n            throw new Error(`Connector '${connectorName}' doesn't exist.`);\n        }\n        // As routes cant be async (onRegister doesnt support async), we have to\n        // use nonWebpackRequire, and copy bundled connector def into lambda folder on build.\n        // This approach also allows us to not have to specify connector's name at all,\n        // eg. users will just '.use(connectorRoutes)'\n        // eslint-disable-line no-eval\n        return (0, utils_1.nonWebpackRequire)((0, path_1.join)('@edgio/connectors/frameworks', connectorName))\n            .default;\n    }\n}\nexports.default = ConnectorFactory;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = require(\"@edgio/core\");\nconst ConnectorFactory_1 = __importDefault(require(\"./ConnectorFactory\"));\nconst environment_1 = require(\"@edgio/core/environment\");\n/**\n * An Edgio middleware that automatically adds the service worker and browser.js routes to your Edgio router.\n *\n * Example:\n *\n * ```js\n * import { starterRoutes } from '@edgio/starter'\n * import { Router } from '@edgio/core/router'\n *\n * export default new Router().use(edgioRoutes)\n * ```\n */\nclass ConnectorRoutes {\n    /**\n     * Called when plugin is registered\n     * @param router\n     */\n    onRegister(router) {\n        var _a;\n        const config = (0, core_1.getConfig)();\n        const connector = ConnectorFactory_1.default.get();\n        const withServerless = typeof connector.withServerless === 'function'\n            ? connector.withServerless(config)\n            : connector.withServerless;\n        if (withServerless && router.Config.proxyToServerlessByDefault !== false) {\n            router.match('/:path*', ({ renderWithApp }) => {\n                renderWithApp();\n            });\n        }\n        if ((0, environment_1.isProductionBuild)()) {\n            const staticFolder = typeof connector.staticFolder === 'function'\n                ? connector.staticFolder(config)\n                : connector.staticFolder;\n            const static404Error = typeof connector.static404Error === 'function'\n                ? connector.static404Error(config)\n                : connector.static404Error;\n            // Add static 404 error,\n            // it needs to be before static folder\n            if (static404Error) {\n                router.match('/:path*', ({ serveStatic }) => {\n                    serveStatic(`${staticFolder ? `${staticFolder}/` : ''}${static404Error}`.replace(/\\/+/g, '/'));\n                });\n            }\n            // Add static folder assets\n            if (staticFolder) {\n                router.static(staticFolder);\n            }\n        }\n        (_a = connector.onRegister) === null || _a === void 0 ? void 0 : _a.call(connector, router);\n        connector.withServiceWorker &&\n            router.match('/service-worker.js', ({ serviceWorker }) => {\n                // We don't provide a path here because the build and dev process puts it in the correct path (s3/service-worker.js)\n                serviceWorker();\n            });\n        router.use(core_1.edgioRoutes);\n    }\n}\nexports.default = ConnectorRoutes;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.connectorRoutes = void 0;\nconst ConnectorRoutes_1 = __importDefault(require(\"./utils/ConnectorRoutes\"));\n// Differs from what we do normally with routes -> expects to be created with name as a param.\n// We can create the actual instances as a fallback, perhaps point users to this change.\nexports.connectorRoutes = new ConnectorRoutes_1.default();\n", "// This file was automatically added by edgio init.\n// You should commit this file to source control.\nimport { Router } from '@edgio/core'\nimport { connectorRoutes } from '@edgio/connectors'\n\nexport default new Router().use(connectorRoutes)\n    .static('public')\n"],
  "mappings": "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",
  "names": ["exports", "exports", "exports", "module", "exports", "__importDefault", "exports", "__importDefault", "exports", "exports", "exports", "exports", "__importDefault", "value", "_a", "result", "char", "prefix", "exports", "i", "exports", "exports", "__importDefault", "exports", "__importDefault", "exports", "edgeJsCriteria", "matchers", "exports", "exports", "exports", "exports", "exports", "__importDefault", "exports", "exports", "exports", "exports", "origin", "exports", "__importDefault", "exports", "LogLevel", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "__importDefault", "exports", "__importDefault", "exports", "__importDefault", "exports", "exports", "exports", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "isNaN", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "concatty", "slicy", "Empty", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "undefined", "doEval", "stringToPath", "getBaseIntrinsic", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "require_utils", "exports", "module", "compactQueue", "arrayToObject", "merge", "encode", "compact", "isRegExp", "isBuffer", "combine", "maybeMap", "exports", "module", "isNonNullishPrimitive", "stringify", "value", "normalizeStringifyOptions", "exports", "module", "normalizeParseOptions", "exports", "module", "exports", "exports", "exports", "__importDefault", "_a", "exports", "__importDefault", "exports", "exports", "__importDefault", "exports", "module", "exports", "module", "exports", "exports", "module", "process", "exports", "module", "__importDefault", "exports", "module", "exports", "module", "require_lib", "exports", "module", "__importDefault", "resolvePackagePath", "exports", "__importDefault", "exports", "__importDefault", "exports", "__importDefault", "exports", "__importDefault", "slash_1", "Router", "featureOrRouter", "path", "exports", "require_constants", "exports", "exports", "exports", "__importDefault", "exports", "exports", "__importDefault", "exports", "exports", "__importDefault", "exports", "exports", "__importDefault", "exports", "body", "exports", "exports", "exports", "__importDefault", "exports", "__importDefault", "exports", "exports", "__importDefault", "exports", "__importDefault"]
}
